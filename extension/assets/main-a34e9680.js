(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Jn(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const ae={},ls=[],et=()=>{},Fl=()=>!1,xr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Wn=t=>t.startsWith("onUpdate:"),me=Object.assign,zn=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Hl=Object.prototype.hasOwnProperty,se=(t,e)=>Hl.call(t,e),B=Array.isArray,cs=t=>Pr(t)==="[object Map]",Do=t=>Pr(t)==="[object Set]",q=t=>typeof t=="function",pe=t=>typeof t=="string",$t=t=>typeof t=="symbol",de=t=>t!==null&&typeof t=="object",Mo=t=>(de(t)||q(t))&&q(t.then)&&q(t.catch),Uo=Object.prototype.toString,Pr=t=>Uo.call(t),ql=t=>Pr(t).slice(8,-1),No=t=>Pr(t)==="[object Object]",Xn=t=>pe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Rs=Jn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Or=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Vl=/-(\w)/g,We=Or(t=>t.replace(Vl,(e,s)=>s?s.toUpperCase():"")),Kl=/\B([A-Z])/g,Lt=Or(t=>t.replace(Kl,"-$1").toLowerCase()),Rr=Or(t=>t.charAt(0).toUpperCase()+t.slice(1)),Zr=Or(t=>t?`on${Rr(t)}`:""),It=(t,e)=>!Object.is(t,e),dr=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Bo=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},An=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Gl=t=>{const e=pe(t)?Number(t):NaN;return isNaN(e)?t:e};let _i;const Ir=()=>_i||(_i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Yn(t){if(B(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=pe(r)?Xl(r):Yn(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(pe(t)||de(t))return t}const Jl=/;(?![^(]*\))/g,Wl=/:([^]+)/,zl=/\/\*[^]*?\*\//g;function Xl(t){const e={};return t.replace(zl,"").split(Jl).forEach(s=>{if(s){const r=s.split(Wl);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Qe(t){let e="";if(pe(t))e=t;else if(B(t))for(let s=0;s<t.length;s++){const r=Qe(t[s]);r&&(e+=r+" ")}else if(de(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Yl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ql=Jn(Yl);function Fo(t){return!!t||t===""}const Ho=t=>!!(t&&t.__v_isRef===!0),xe=t=>pe(t)?t:t==null?"":B(t)||de(t)&&(t.toString===Uo||!q(t.toString))?Ho(t)?xe(t.value):JSON.stringify(t,qo,2):String(t),qo=(t,e)=>Ho(e)?qo(t,e.value):cs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[en(r,i)+" =>"]=n,s),{})}:Do(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>en(s))}:$t(e)?en(e):de(e)&&!B(e)&&!No(e)?String(e):e,en=(t,e="")=>{var s;return $t(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let qe;class Zl{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=qe,!e&&qe&&(this.index=(qe.scopes||(qe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=qe;try{return qe=this,e()}finally{qe=s}}}on(){qe=this}off(){qe=this.parent}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function ec(){return qe}let he;const tn=new WeakSet;class Vo{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,qe&&qe.active&&qe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,tn.has(this)&&(tn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Go(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,wi(this),Jo(this);const e=he,s=tt;he=this,tt=!0;try{return this.fn()}finally{Wo(this),he=e,tt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)ei(e);this.deps=this.depsTail=void 0,wi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?tn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Sn(this)&&this.run()}get dirty(){return Sn(this)}}let Ko=0,Is,js;function Go(t,e=!1){if(t.flags|=8,e){t.next=js,js=t;return}t.next=Is,Is=t}function Qn(){Ko++}function Zn(){if(--Ko>0)return;if(js){let e=js;for(js=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Is;){let e=Is;for(Is=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function Jo(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Wo(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),ei(r),tc(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function Sn(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(zo(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function zo(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Hs))return;t.globalVersion=Hs;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Sn(t)){t.flags&=-3;return}const s=he,r=tt;he=t,tt=!0;try{Jo(t);const n=t.fn(t._value);(e.version===0||It(n,t._value))&&(t._value=n,e.version++)}catch(n){throw e.version++,n}finally{he=s,tt=r,Wo(t),t.flags&=-3}}function ei(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)ei(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function tc(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let tt=!0;const Xo=[];function Dt(){Xo.push(tt),tt=!1}function Mt(){const t=Xo.pop();tt=t===void 0?!0:t}function wi(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=he;he=void 0;try{e()}finally{he=s}}}let Hs=0;class sc{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ti{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!he||!tt||he===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==he)s=this.activeLink=new sc(he,this),he.deps?(s.prevDep=he.depsTail,he.depsTail.nextDep=s,he.depsTail=s):he.deps=he.depsTail=s,Yo(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=he.depsTail,s.nextDep=void 0,he.depsTail.nextDep=s,he.depsTail=s,he.deps===s&&(he.deps=r)}return s}trigger(e){this.version++,Hs++,this.notify(e)}notify(e){Qn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Zn()}}}function Yo(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Yo(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const kn=new WeakMap,Wt=Symbol(""),Tn=Symbol(""),qs=Symbol("");function Se(t,e,s){if(tt&&he){let r=kn.get(t);r||kn.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new ti),n.map=r,n.key=s),n.track()}}function vt(t,e,s,r,n,i){const o=kn.get(t);if(!o){Hs++;return}const a=l=>{l&&l.trigger()};if(Qn(),e==="clear")o.forEach(a);else{const l=B(t),u=l&&Xn(s);if(l&&s==="length"){const c=Number(r);o.forEach((h,f)=>{(f==="length"||f===qs||!$t(f)&&f>=c)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(qs)),e){case"add":l?u&&a(o.get("length")):(a(o.get(Wt)),cs(t)&&a(o.get(Tn)));break;case"delete":l||(a(o.get(Wt)),cs(t)&&a(o.get(Tn)));break;case"set":cs(t)&&a(o.get(Wt));break}}Zn()}function Zt(t){const e=Y(t);return e===t?e:(Se(e,"iterate",qs),Je(t)?e:e.map(ke))}function jr(t){return Se(t=Y(t),"iterate",qs),t}const rc={__proto__:null,[Symbol.iterator](){return sn(this,Symbol.iterator,ke)},concat(...t){return Zt(this).concat(...t.map(e=>B(e)?Zt(e):e))},entries(){return sn(this,"entries",t=>(t[1]=ke(t[1]),t))},every(t,e){return dt(this,"every",t,e,void 0,arguments)},filter(t,e){return dt(this,"filter",t,e,s=>s.map(ke),arguments)},find(t,e){return dt(this,"find",t,e,ke,arguments)},findIndex(t,e){return dt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return dt(this,"findLast",t,e,ke,arguments)},findLastIndex(t,e){return dt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return dt(this,"forEach",t,e,void 0,arguments)},includes(...t){return rn(this,"includes",t)},indexOf(...t){return rn(this,"indexOf",t)},join(t){return Zt(this).join(t)},lastIndexOf(...t){return rn(this,"lastIndexOf",t)},map(t,e){return dt(this,"map",t,e,void 0,arguments)},pop(){return As(this,"pop")},push(...t){return As(this,"push",t)},reduce(t,...e){return bi(this,"reduce",t,e)},reduceRight(t,...e){return bi(this,"reduceRight",t,e)},shift(){return As(this,"shift")},some(t,e){return dt(this,"some",t,e,void 0,arguments)},splice(...t){return As(this,"splice",t)},toReversed(){return Zt(this).toReversed()},toSorted(t){return Zt(this).toSorted(t)},toSpliced(...t){return Zt(this).toSpliced(...t)},unshift(...t){return As(this,"unshift",t)},values(){return sn(this,"values",ke)}};function sn(t,e,s){const r=jr(t),n=r[e]();return r!==t&&!Je(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const nc=Array.prototype;function dt(t,e,s,r,n,i){const o=jr(t),a=o!==t&&!Je(t),l=o[e];if(l!==nc[e]){const h=l.apply(t,i);return a?ke(h):h}let u=s;o!==t&&(a?u=function(h,f){return s.call(this,ke(h),f,t)}:s.length>2&&(u=function(h,f){return s.call(this,h,f,t)}));const c=l.call(o,u,r);return a&&n?n(c):c}function bi(t,e,s,r){const n=jr(t);let i=s;return n!==t&&(Je(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,ke(a),l,t)}),n[e](i,...r)}function rn(t,e,s){const r=Y(t);Se(r,"iterate",qs);const n=r[e](...s);return(n===-1||n===!1)&&ni(s[0])?(s[0]=Y(s[0]),r[e](...s)):n}function As(t,e,s=[]){Dt(),Qn();const r=Y(t)[e].apply(t,s);return Zn(),Mt(),r}const ic=Jn("__proto__,__v_isRef,__isVue"),Qo=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter($t));function oc(t){$t(t)||(t=String(t));const e=Y(this);return Se(e,"has",t),e.hasOwnProperty(t)}class Zo{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?mc:ra:i?sa:ta).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=B(e);if(!n){let l;if(o&&(l=rc[s]))return l;if(s==="hasOwnProperty")return oc}const a=Reflect.get(e,s,Te(e)?e:r);return($t(s)?Qo.has(s):ic(s))||(n||Se(e,"get",s),i)?a:Te(a)?o&&Xn(s)?a:a.value:de(a)?n?ia(a):$r(a):a}}class ea extends Zo{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=zt(i);if(!Je(r)&&!zt(r)&&(i=Y(i),r=Y(r)),!B(e)&&Te(i)&&!Te(r))return l?!1:(i.value=r,!0)}const o=B(e)&&Xn(s)?Number(s)<e.length:se(e,s),a=Reflect.set(e,s,r,Te(e)?e:n);return e===Y(n)&&(o?It(r,i)&&vt(e,"set",s,r):vt(e,"add",s,r)),a}deleteProperty(e,s){const r=se(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&vt(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!$t(s)||!Qo.has(s))&&Se(e,"has",s),r}ownKeys(e){return Se(e,"iterate",B(e)?"length":Wt),Reflect.ownKeys(e)}}class ac extends Zo{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const lc=new ea,cc=new ac,uc=new ea(!0);const Cn=t=>t,rr=t=>Reflect.getPrototypeOf(t);function hc(t,e,s){return function(...r){const n=this.__v_raw,i=Y(n),o=cs(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?Cn:e?xn:ke;return!e&&Se(i,"iterate",l?Tn:Wt),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:a?[c(h[0]),c(h[1])]:c(h),done:f}},[Symbol.iterator](){return this}}}}function nr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function dc(t,e){const s={get(n){const i=this.__v_raw,o=Y(i),a=Y(n);t||(It(n,a)&&Se(o,"get",n),Se(o,"get",a));const{has:l}=rr(o),u=e?Cn:t?xn:ke;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&Se(Y(n),"iterate",Wt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=Y(i),a=Y(n);return t||(It(n,a)&&Se(o,"has",n),Se(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=Y(a),u=e?Cn:t?xn:ke;return!t&&Se(l,"iterate",Wt),a.forEach((c,h)=>n.call(i,u(c),u(h),o))}};return me(s,t?{add:nr("add"),set:nr("set"),delete:nr("delete"),clear:nr("clear")}:{add(n){!e&&!Je(n)&&!zt(n)&&(n=Y(n));const i=Y(this);return rr(i).has.call(i,n)||(i.add(n),vt(i,"add",n,n)),this},set(n,i){!e&&!Je(i)&&!zt(i)&&(i=Y(i));const o=Y(this),{has:a,get:l}=rr(o);let u=a.call(o,n);u||(n=Y(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?It(i,c)&&vt(o,"set",n,i):vt(o,"add",n,i),this},delete(n){const i=Y(this),{has:o,get:a}=rr(i);let l=o.call(i,n);l||(n=Y(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&vt(i,"delete",n,void 0),u},clear(){const n=Y(this),i=n.size!==0,o=n.clear();return i&&vt(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=hc(n,t,e)}),s}function si(t,e){const s=dc(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(se(s,n)&&n in r?s:r,n,i)}const fc={get:si(!1,!1)},pc={get:si(!1,!0)},gc={get:si(!0,!1)};const ta=new WeakMap,sa=new WeakMap,ra=new WeakMap,mc=new WeakMap;function vc(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function yc(t){return t.__v_skip||!Object.isExtensible(t)?0:vc(ql(t))}function $r(t){return zt(t)?t:ri(t,!1,lc,fc,ta)}function na(t){return ri(t,!1,uc,pc,sa)}function ia(t){return ri(t,!0,cc,gc,ra)}function ri(t,e,s,r,n){if(!de(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=n.get(t);if(i)return i;const o=yc(t);if(o===0)return t;const a=new Proxy(t,o===2?r:s);return n.set(t,a),a}function us(t){return zt(t)?us(t.__v_raw):!!(t&&t.__v_isReactive)}function zt(t){return!!(t&&t.__v_isReadonly)}function Je(t){return!!(t&&t.__v_isShallow)}function ni(t){return t?!!t.__v_raw:!1}function Y(t){const e=t&&t.__v_raw;return e?Y(e):t}function _c(t){return!se(t,"__v_skip")&&Object.isExtensible(t)&&Bo(t,"__v_skip",!0),t}const ke=t=>de(t)?$r(t):t,xn=t=>de(t)?ia(t):t;function Te(t){return t?t.__v_isRef===!0:!1}function Lr(t){return oa(t,!1)}function wc(t){return oa(t,!0)}function oa(t,e){return Te(t)?t:new bc(t,e)}class bc{constructor(e,s){this.dep=new ti,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:Y(e),this._value=s?e:ke(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||Je(e)||zt(e);e=r?e:Y(e),It(e,s)&&(this._rawValue=e,this._value=r?e:ke(e),this.dep.trigger())}}function hs(t){return Te(t)?t.value:t}const Ec={get:(t,e,s)=>e==="__v_raw"?t:hs(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return Te(n)&&!Te(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function aa(t){return us(t)?t:new Proxy(t,Ec)}class Ac{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new ti(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Hs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&he!==this)return Go(this,!0),!0}get value(){const e=this.dep.track();return zo(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Sc(t,e,s=!1){let r,n;return q(t)?r=t:(r=t.get,n=t.set),new Ac(r,n,s)}const ir={},yr=new WeakMap;let Vt;function kc(t,e=!1,s=Vt){if(s){let r=yr.get(s);r||yr.set(s,r=[]),r.push(t)}}function Tc(t,e,s=ae){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=x=>n?x:Je(x)||n===!1||n===0?yt(x,1):yt(x);let c,h,f,g,_=!1,b=!1;if(Te(t)?(h=()=>t.value,_=Je(t)):us(t)?(h=()=>u(t),_=!0):B(t)?(b=!0,_=t.some(x=>us(x)||Je(x)),h=()=>t.map(x=>{if(Te(x))return x.value;if(us(x))return u(x);if(q(x))return l?l(x,2):x()})):q(t)?e?h=l?()=>l(t,2):t:h=()=>{if(f){Dt();try{f()}finally{Mt()}}const x=Vt;Vt=c;try{return l?l(t,3,[g]):t(g)}finally{Vt=x}}:h=et,e&&n){const x=h,F=n===!0?1/0:n;h=()=>yt(x(),F)}const C=ec(),R=()=>{c.stop(),C&&C.active&&zn(C.effects,c)};if(i&&e){const x=e;e=(...F)=>{x(...F),R()}}let I=b?new Array(t.length).fill(ir):ir;const $=x=>{if(!(!(c.flags&1)||!c.dirty&&!x))if(e){const F=c.run();if(n||_||(b?F.some((oe,ne)=>It(oe,I[ne])):It(F,I))){f&&f();const oe=Vt;Vt=c;try{const ne=[F,I===ir?void 0:b&&I[0]===ir?[]:I,g];l?l(e,3,ne):e(...ne),I=F}finally{Vt=oe}}}else c.run()};return a&&a($),c=new Vo(h),c.scheduler=o?()=>o($,!1):$,g=x=>kc(x,!1,c),f=c.onStop=()=>{const x=yr.get(c);if(x){if(l)l(x,4);else for(const F of x)F();yr.delete(c)}},e?r?$(!0):I=c.run():o?o($.bind(null,!0),!0):c.run(),R.pause=c.pause.bind(c),R.resume=c.resume.bind(c),R.stop=R,R}function yt(t,e=1/0,s){if(e<=0||!de(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,Te(t))yt(t.value,e,s);else if(B(t))for(let r=0;r<t.length;r++)yt(t[r],e,s);else if(Do(t)||cs(t))t.forEach(r=>{yt(r,e,s)});else if(No(t)){for(const r in t)yt(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&yt(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Qs(t,e,s,r){try{return r?t(...r):t()}catch(n){Dr(n,e,s)}}function st(t,e,s,r){if(q(t)){const n=Qs(t,e,s,r);return n&&Mo(n)&&n.catch(i=>{Dr(i,e,s)}),n}if(B(t)){const n=[];for(let i=0;i<t.length;i++)n.push(st(t[i],e,s,r));return n}}function Dr(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ae;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(i){Dt(),Qs(i,null,10,[t,l,u]),Mt();return}}Cc(t,s,n,r,o)}function Cc(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const Pe=[];let lt=-1;const ds=[];let kt=null,rs=0;const la=Promise.resolve();let _r=null;function ca(t){const e=_r||la;return t?e.then(this?t.bind(this):t):e}function xc(t){let e=lt+1,s=Pe.length;for(;e<s;){const r=e+s>>>1,n=Pe[r],i=Vs(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function ii(t){if(!(t.flags&1)){const e=Vs(t),s=Pe[Pe.length-1];!s||!(t.flags&2)&&e>=Vs(s)?Pe.push(t):Pe.splice(xc(e),0,t),t.flags|=1,ua()}}function ua(){_r||(_r=la.then(da))}function Pc(t){B(t)?ds.push(...t):kt&&t.id===-1?kt.splice(rs+1,0,t):t.flags&1||(ds.push(t),t.flags|=1),ua()}function Ei(t,e,s=lt+1){for(;s<Pe.length;s++){const r=Pe[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Pe.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function ha(t){if(ds.length){const e=[...new Set(ds)].sort((s,r)=>Vs(s)-Vs(r));if(ds.length=0,kt){kt.push(...e);return}for(kt=e,rs=0;rs<kt.length;rs++){const s=kt[rs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}kt=null,rs=0}}const Vs=t=>t.id==null?t.flags&2?-1:1/0:t.id;function da(t){const e=et;try{for(lt=0;lt<Pe.length;lt++){const s=Pe[lt];s&&!(s.flags&8)&&(s.flags&4&&(s.flags&=-2),Qs(s,s.i,s.i?15:14),s.flags&4||(s.flags&=-2))}}finally{for(;lt<Pe.length;lt++){const s=Pe[lt];s&&(s.flags&=-2)}lt=-1,Pe.length=0,ha(),_r=null,(Pe.length||ds.length)&&da()}}let De=null,fa=null;function wr(t){const e=De;return De=t,fa=t&&t.type.__scopeId||null,e}function br(t,e=De,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&Ii(-1);const i=wr(e);let o;try{o=t(...n)}finally{wr(i),r._d&&Ii(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Cs(t,e){if(De===null)return t;const s=qr(De),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=ae]=e[n];i&&(q(i)&&(i={mounted:i,updated:i}),i.deep&&yt(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Nt(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Dt(),st(l,s,8,[t.el,a,t,e]),Mt())}}const Oc=Symbol("_vte"),pa=t=>t.__isTeleport,Tt=Symbol("_leaveCb"),or=Symbol("_enterCb");function Rc(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Nr(()=>{t.isMounted=!0}),Aa(()=>{t.isUnmounting=!0}),t}const Ge=[Function,Array],ga={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ge,onEnter:Ge,onAfterEnter:Ge,onEnterCancelled:Ge,onBeforeLeave:Ge,onLeave:Ge,onAfterLeave:Ge,onLeaveCancelled:Ge,onBeforeAppear:Ge,onAppear:Ge,onAfterAppear:Ge,onAppearCancelled:Ge},ma=t=>{const e=t.subTree;return e.component?ma(e.component):e},Ic={name:"BaseTransition",props:ga,setup(t,{slots:e}){const s=Tu(),r=Rc();return()=>{const n=e.default&&_a(e.default(),!0);if(!n||!n.length)return;const i=va(n),o=Y(t),{mode:a}=o;if(r.isLeaving)return nn(i);const l=Ai(i);if(!l)return nn(i);let u=Pn(l,o,r,s,h=>u=h);l.type!==Le&&Ks(l,u);let c=s.subTree&&Ai(s.subTree);if(c&&c.type!==Le&&!Gt(l,c)&&ma(s).type!==Le){let h=Pn(c,o,r,s);if(Ks(c,h),a==="out-in"&&l.type!==Le)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,s.job.flags&8||s.update(),delete h.afterLeave,c=void 0},nn(i);a==="in-out"&&l.type!==Le?h.delayLeave=(f,g,_)=>{const b=ya(r,c);b[String(c.key)]=c,f[Tt]=()=>{g(),f[Tt]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{_(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return i}}};function va(t){let e=t[0];if(t.length>1){for(const s of t)if(s.type!==Le){e=s;break}}return e}const jc=Ic;function ya(t,e){const{leavingVNodes:s}=t;let r=s.get(e.type);return r||(r=Object.create(null),s.set(e.type,r)),r}function Pn(t,e,s,r,n){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:f,onLeave:g,onAfterLeave:_,onLeaveCancelled:b,onBeforeAppear:C,onAppear:R,onAfterAppear:I,onAppearCancelled:$}=e,x=String(t.key),F=ya(s,t),oe=(V,X)=>{V&&st(V,r,9,X)},ne=(V,X)=>{const le=X[1];oe(V,X),B(V)?V.every(D=>D.length<=1)&&le():V.length<=1&&le()},Ee={mode:o,persisted:a,beforeEnter(V){let X=l;if(!s.isMounted)if(i)X=C||l;else return;V[Tt]&&V[Tt](!0);const le=F[x];le&&Gt(t,le)&&le.el[Tt]&&le.el[Tt](),oe(X,[V])},enter(V){let X=u,le=c,D=h;if(!s.isMounted)if(i)X=R||u,le=I||c,D=$||h;else return;let Q=!1;const ye=V[or]=Me=>{Q||(Q=!0,Me?oe(D,[V]):oe(le,[V]),Ee.delayedLeave&&Ee.delayedLeave(),V[or]=void 0)};X?ne(X,[V,ye]):ye()},leave(V,X){const le=String(t.key);if(V[or]&&V[or](!0),s.isUnmounting)return X();oe(f,[V]);let D=!1;const Q=V[Tt]=ye=>{D||(D=!0,X(),ye?oe(b,[V]):oe(_,[V]),V[Tt]=void 0,F[le]===t&&delete F[le])};F[le]=t,g?ne(g,[V,Q]):Q()},clone(V){const X=Pn(V,e,s,r,n);return n&&n(X),X}};return Ee}function nn(t){if(Mr(t))return t=jt(t),t.children=null,t}function Ai(t){if(!Mr(t))return pa(t.type)&&t.children?va(t.children):t;const{shapeFlag:e,children:s}=t;if(s){if(e&16)return s[0];if(e&32&&q(s.default))return s.default()}}function Ks(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ks(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function _a(t,e=!1,s){let r=[],n=0;for(let i=0;i<t.length;i++){let o=t[i];const a=s==null?o.key:String(s)+String(o.key!=null?o.key:i);o.type===je?(o.patchFlag&128&&n++,r=r.concat(_a(o.children,e,a))):(e||o.type!==Le)&&r.push(a!=null?jt(o,{key:a}):o)}if(n>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function wa(t,e){return q(t)?(()=>me({name:t.name},e,{setup:t}))():t}function ba(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Er(t,e,s,r,n=!1){if(B(t)){t.forEach((_,b)=>Er(_,e&&(B(e)?e[b]:e),s,r,n));return}if($s(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Er(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?qr(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===ae?a.refs={}:a.refs,h=a.setupState,f=Y(h),g=h===ae?()=>!1:_=>se(f,_);if(u!=null&&u!==l&&(pe(u)?(c[u]=null,g(u)&&(h[u]=null)):Te(u)&&(u.value=null)),q(l))Qs(l,a,12,[o,c]);else{const _=pe(l),b=Te(l);if(_||b){const C=()=>{if(t.f){const R=_?g(l)?h[l]:c[l]:l.value;n?B(R)&&zn(R,i):B(R)?R.includes(i)||R.push(i):_?(c[l]=[i],g(l)&&(h[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else _?(c[l]=o,g(l)&&(h[l]=o)):b&&(l.value=o,t.k&&(c[t.k]=o))};o?(C.id=-1,Fe(C,s)):C()}}}Ir().requestIdleCallback;Ir().cancelIdleCallback;const $s=t=>!!t.type.__asyncLoader,Mr=t=>t.type.__isKeepAlive;function $c(t,e){Ea(t,"a",e)}function Lc(t,e){Ea(t,"da",e)}function Ea(t,e,s=be){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Ur(e,r,s),s){let n=s.parent;for(;n&&n.parent;)Mr(n.parent.vnode)&&Dc(r,e,s,n),n=n.parent}}function Dc(t,e,s,r){const n=Ur(e,t,r,!0);Sa(()=>{zn(r[e],n)},s)}function Ur(t,e,s=be,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Dt();const a=Zs(s),l=st(e,s,t,o);return a(),Mt(),l});return r?n.unshift(i):n.push(i),i}}const _t=t=>(e,s=be)=>{(!Js||t==="sp")&&Ur(t,(...r)=>e(...r),s)},Mc=_t("bm"),Nr=_t("m"),Uc=_t("bu"),Nc=_t("u"),Aa=_t("bum"),Sa=_t("um"),Bc=_t("sp"),Fc=_t("rtg"),Hc=_t("rtc");function qc(t,e=be){Ur("ec",t,e)}const oi="components";function Br(t,e){return Ta(oi,t,!0,e)||t}const ka=Symbol.for("v-ndc");function Vc(t){return pe(t)?Ta(oi,t,!1)||t:t||ka}function Ta(t,e,s=!0,r=!1){const n=De||be;if(n){const i=n.type;if(t===oi){const a=Ru(i,!1);if(a&&(a===e||a===We(e)||a===Rr(We(e))))return i}const o=Si(n[t]||i[t],e)||Si(n.appContext[t],e);return!o&&r?i:o}}function Si(t,e){return t&&(t[e]||t[We(e)]||t[Rr(We(e))])}function on(t,e,s,r){let n;const i=s&&s[r],o=B(t);if(o||pe(t)){const a=o&&us(t);let l=!1;a&&(l=!Je(t),t=jr(t)),n=new Array(t.length);for(let u=0,c=t.length;u<c;u++)n[u]=e(l?ke(t[u]):t[u],u,void 0,i&&i[u])}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i&&i[a])}else if(de(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i&&i[l]));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,i&&i[l])}}else n=[];return s&&(s[r]=n),n}const On=t=>t?Ja(t)?qr(t):On(t.parent):null,Ls=me(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>On(t.parent),$root:t=>On(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>ai(t),$forceUpdate:t=>t.f||(t.f=()=>{ii(t.update)}),$nextTick:t=>t.n||(t.n=ca.bind(t.proxy)),$watch:t=>hu.bind(t)}),an=(t,e)=>t!==ae&&!t.__isScriptSetup&&se(t,e),Kc={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(an(r,e))return o[e]=1,r[e];if(n!==ae&&se(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&se(u,e))return o[e]=3,i[e];if(s!==ae&&se(s,e))return o[e]=4,s[e];Rn&&(o[e]=0)}}const c=Ls[e];let h,f;if(c)return e==="$attrs"&&Se(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==ae&&se(s,e))return o[e]=4,s[e];if(f=l.config.globalProperties,se(f,e))return f[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return an(n,e)?(n[e]=s,!0):r!==ae&&se(r,e)?(r[e]=s,!0):se(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==ae&&se(t,o)||an(e,o)||(a=i[0])&&se(a,o)||se(r,o)||se(Ls,o)||se(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:se(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function ki(t){return B(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Rn=!0;function Gc(t){const e=ai(t),s=t.proxy,r=t.ctx;Rn=!1,e.beforeCreate&&Ti(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:f,beforeUpdate:g,updated:_,activated:b,deactivated:C,beforeDestroy:R,beforeUnmount:I,destroyed:$,unmounted:x,render:F,renderTracked:oe,renderTriggered:ne,errorCaptured:Ee,serverPrefetch:V,expose:X,inheritAttrs:le,components:D,directives:Q,filters:ye}=e;if(u&&Jc(u,r,null),o)for(const ie in o){const Z=o[ie];q(Z)&&(r[ie]=Z.bind(s))}if(n){const ie=n.call(s,s);de(ie)&&(t.data=$r(ie))}if(Rn=!0,i)for(const ie in i){const Z=i[ie],ht=q(Z)?Z.bind(s,s):q(Z.get)?Z.get.bind(s,s):et,wt=!q(Z)&&q(Z.set)?Z.set.bind(s):et,nt=Ze({get:ht,set:wt});Object.defineProperty(r,ie,{enumerable:!0,configurable:!0,get:()=>nt.value,set:Oe=>nt.value=Oe})}if(a)for(const ie in a)Ca(a[ie],r,s,ie);if(l){const ie=q(l)?l.call(s):l;Reflect.ownKeys(ie).forEach(Z=>{fr(Z,ie[Z])})}c&&Ti(c,t,"c");function ge(ie,Z){B(Z)?Z.forEach(ht=>ie(ht.bind(s))):Z&&ie(Z.bind(s))}if(ge(Mc,h),ge(Nr,f),ge(Uc,g),ge(Nc,_),ge($c,b),ge(Lc,C),ge(qc,Ee),ge(Hc,oe),ge(Fc,ne),ge(Aa,I),ge(Sa,x),ge(Bc,V),B(X))if(X.length){const ie=t.exposed||(t.exposed={});X.forEach(Z=>{Object.defineProperty(ie,Z,{get:()=>s[Z],set:ht=>s[Z]=ht})})}else t.exposed||(t.exposed={});F&&t.render===et&&(t.render=F),le!=null&&(t.inheritAttrs=le),D&&(t.components=D),Q&&(t.directives=Q),V&&ba(t)}function Jc(t,e,s=et){B(t)&&(t=In(t));for(const r in t){const n=t[r];let i;de(n)?"default"in n?i=ut(n.from||r,n.default,!0):i=ut(n.from||r):i=ut(n),Te(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Ti(t,e,s){st(B(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function Ca(t,e,s,r){let n=r.includes(".")?Fa(s,r):()=>s[r];if(pe(t)){const i=e[t];q(i)&&pr(n,i)}else if(q(t))pr(n,t.bind(s));else if(de(t))if(B(t))t.forEach(i=>Ca(i,e,s,r));else{const i=q(t.handler)?t.handler.bind(s):e[t.handler];q(i)&&pr(n,i,t)}}function ai(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>Ar(l,u,o,!0)),Ar(l,e,o)),de(e)&&i.set(e,l),l}function Ar(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&Ar(t,i,s,!0),n&&n.forEach(o=>Ar(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=Wc[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Wc={data:Ci,props:xi,emits:xi,methods:xs,computed:xs,beforeCreate:Ce,created:Ce,beforeMount:Ce,mounted:Ce,beforeUpdate:Ce,updated:Ce,beforeDestroy:Ce,beforeUnmount:Ce,destroyed:Ce,unmounted:Ce,activated:Ce,deactivated:Ce,errorCaptured:Ce,serverPrefetch:Ce,components:xs,directives:xs,watch:Xc,provide:Ci,inject:zc};function Ci(t,e){return e?t?function(){return me(q(t)?t.call(this,this):t,q(e)?e.call(this,this):e)}:e:t}function zc(t,e){return xs(In(t),In(e))}function In(t){if(B(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Ce(t,e){return t?[...new Set([].concat(t,e))]:e}function xs(t,e){return t?me(Object.create(null),t,e):e}function xi(t,e){return t?B(t)&&B(e)?[...new Set([...t,...e])]:me(Object.create(null),ki(t),ki(e??{})):e}function Xc(t,e){if(!t)return e;if(!e)return t;const s=me(Object.create(null),t);for(const r in e)s[r]=Ce(t[r],e[r]);return s}function xa(){return{app:null,config:{isNativeTag:Fl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yc=0;function Qc(t,e){return function(r,n=null){q(r)||(r=me({},r)),n!=null&&!de(n)&&(n=null);const i=xa(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:Yc++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:ju,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&q(c.install)?(o.add(c),c.install(u,...h)):q(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,f){if(!l){const g=u._ceVNode||ve(r,n);return g.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),h&&e?e(g,c):t(g,c,f),l=!0,u._container=c,c.__vue_app__=u,qr(g.component)}},onUnmount(c){a.push(c)},unmount(){l&&(st(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=fs;fs=u;try{return c()}finally{fs=h}}};return u}}let fs=null;function fr(t,e){if(be){let s=be.provides;const r=be.parent&&be.parent.provides;r===s&&(s=be.provides=Object.create(r)),s[t]=e}}function ut(t,e,s=!1){const r=be||De;if(r||fs){const n=fs?fs._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&q(e)?e.call(r&&r.proxy):e}}const Pa={},Oa=()=>Object.create(Pa),Ra=t=>Object.getPrototypeOf(t)===Pa;function Zc(t,e,s,r=!1){const n={},i=Oa();t.propsDefaults=Object.create(null),Ia(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:na(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function eu(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=Y(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let f=c[h];if(Fr(t.emitsOptions,f))continue;const g=e[f];if(l)if(se(i,f))g!==i[f]&&(i[f]=g,u=!0);else{const _=We(f);n[_]=jn(l,a,_,g,t,!1)}else g!==i[f]&&(i[f]=g,u=!0)}}}else{Ia(t,e,n,i)&&(u=!0);let c;for(const h in a)(!e||!se(e,h)&&((c=Lt(h))===h||!se(e,c)))&&(l?s&&(s[h]!==void 0||s[c]!==void 0)&&(n[h]=jn(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!se(e,h))&&(delete i[h],u=!0)}u&&vt(t.attrs,"set","")}function Ia(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Rs(l))continue;const u=e[l];let c;n&&se(n,c=We(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:Fr(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=Y(s),u=a||ae;for(let c=0;c<i.length;c++){const h=i[c];s[h]=jn(n,l,h,u[h],t,!se(u,h))}}return o}function jn(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=se(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&q(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=Zs(n);r=u[s]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Lt(s))&&(r=!0))}return r}const tu=new WeakMap;function ja(t,e,s=!1){const r=s?tu:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!q(t)){const c=h=>{l=!0;const[f,g]=ja(h,e,!0);me(o,f),g&&a.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return de(t)&&r.set(t,ls),ls;if(B(i))for(let c=0;c<i.length;c++){const h=We(i[c]);Pi(h)&&(o[h]=ae)}else if(i)for(const c in i){const h=We(c);if(Pi(h)){const f=i[c],g=o[h]=B(f)||q(f)?{type:f}:me({},f),_=g.type;let b=!1,C=!0;if(B(_))for(let R=0;R<_.length;++R){const I=_[R],$=q(I)&&I.name;if($==="Boolean"){b=!0;break}else $==="String"&&(C=!1)}else b=q(_)&&_.name==="Boolean";g[0]=b,g[1]=C,(b||se(g,"default"))&&a.push(h)}}const u=[o,a];return de(t)&&r.set(t,u),u}function Pi(t){return t[0]!=="$"&&!Rs(t)}const $a=t=>t[0]==="_"||t==="$stable",li=t=>B(t)?t.map(ct):[ct(t)],su=(t,e,s)=>{if(e._n)return e;const r=br((...n)=>li(e(...n)),s);return r._c=!1,r},La=(t,e,s)=>{const r=t._ctx;for(const n in t){if($a(n))continue;const i=t[n];if(q(i))e[n]=su(n,i,r);else if(i!=null){const o=li(i);e[n]=()=>o}}},Da=(t,e)=>{const s=li(e);t.slots.default=()=>s},Ma=(t,e,s)=>{for(const r in e)(s||r!=="_")&&(t[r]=e[r])},ru=(t,e,s)=>{const r=t.slots=Oa();if(t.vnode.shapeFlag&32){const n=e._;n?(Ma(r,e,s),s&&Bo(r,"_",n,!0)):La(e,r)}else e&&Da(t,e)},nu=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=ae;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:Ma(n,e,s):(i=!e.$stable,La(e,n)),o=e}else e&&(Da(t,e),o={default:1});if(i)for(const a in n)!$a(a)&&o[a]==null&&delete n[a]},Fe=yu;function iu(t){return ou(t)}function ou(t,e){const s=Ir();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:f,setScopeId:g=et,insertStaticContent:_}=t,b=(d,p,m,w=null,v=null,E=null,P=void 0,T=null,k=!!p.dynamicChildren)=>{if(d===p)return;d&&!Gt(d,p)&&(w=y(d),Oe(d,v,E,!0),d=null),p.patchFlag===-2&&(k=!1,p.dynamicChildren=null);const{type:A,ref:N,shapeFlag:j}=p;switch(A){case Hr:C(d,p,m,w);break;case Le:R(d,p,m,w);break;case gr:d==null&&I(p,m,w,P);break;case je:D(d,p,m,w,v,E,P,T,k);break;default:j&1?F(d,p,m,w,v,E,P,T,k):j&6?Q(d,p,m,w,v,E,P,T,k):(j&64||j&128)&&A.process(d,p,m,w,v,E,P,T,k,M)}N!=null&&v&&Er(N,d&&d.ref,E,p||d,!p)},C=(d,p,m,w)=>{if(d==null)r(p.el=a(p.children),m,w);else{const v=p.el=d.el;p.children!==d.children&&u(v,p.children)}},R=(d,p,m,w)=>{d==null?r(p.el=l(p.children||""),m,w):p.el=d.el},I=(d,p,m,w)=>{[d.el,d.anchor]=_(d.children,p,m,w,d.el,d.anchor)},$=({el:d,anchor:p},m,w)=>{let v;for(;d&&d!==p;)v=f(d),r(d,m,w),d=v;r(p,m,w)},x=({el:d,anchor:p})=>{let m;for(;d&&d!==p;)m=f(d),n(d),d=m;n(p)},F=(d,p,m,w,v,E,P,T,k)=>{p.type==="svg"?P="svg":p.type==="math"&&(P="mathml"),d==null?oe(p,m,w,v,E,P,T,k):V(d,p,v,E,P,T,k)},oe=(d,p,m,w,v,E,P,T)=>{let k,A;const{props:N,shapeFlag:j,transition:U,dirs:H}=d;if(k=d.el=o(d.type,E,N&&N.is,N),j&8?c(k,d.children):j&16&&Ee(d.children,k,null,w,v,ln(d,E),P,T),H&&Nt(d,null,w,"created"),ne(k,d,d.scopeId,P,w),N){for(const ce in N)ce!=="value"&&!Rs(ce)&&i(k,ce,null,N[ce],E,w);"value"in N&&i(k,"value",null,N.value,E),(A=N.onVnodeBeforeMount)&&ot(A,w,d)}H&&Nt(d,null,w,"beforeMount");const W=au(v,U);W&&U.beforeEnter(k),r(k,p,m),((A=N&&N.onVnodeMounted)||W||H)&&Fe(()=>{A&&ot(A,w,d),W&&U.enter(k),H&&Nt(d,null,w,"mounted")},v)},ne=(d,p,m,w,v)=>{if(m&&g(d,m),w)for(let E=0;E<w.length;E++)g(d,w[E]);if(v){let E=v.subTree;if(p===E||qa(E.type)&&(E.ssContent===p||E.ssFallback===p)){const P=v.vnode;ne(d,P,P.scopeId,P.slotScopeIds,v.parent)}}},Ee=(d,p,m,w,v,E,P,T,k=0)=>{for(let A=k;A<d.length;A++){const N=d[A]=T?Ct(d[A]):ct(d[A]);b(null,N,p,m,w,v,E,P,T)}},V=(d,p,m,w,v,E,P)=>{const T=p.el=d.el;let{patchFlag:k,dynamicChildren:A,dirs:N}=p;k|=d.patchFlag&16;const j=d.props||ae,U=p.props||ae;let H;if(m&&Bt(m,!1),(H=U.onVnodeBeforeUpdate)&&ot(H,m,p,d),N&&Nt(p,d,m,"beforeUpdate"),m&&Bt(m,!0),(j.innerHTML&&U.innerHTML==null||j.textContent&&U.textContent==null)&&c(T,""),A?X(d.dynamicChildren,A,T,m,w,ln(p,v),E):P||Z(d,p,T,null,m,w,ln(p,v),E,!1),k>0){if(k&16)le(T,j,U,m,v);else if(k&2&&j.class!==U.class&&i(T,"class",null,U.class,v),k&4&&i(T,"style",j.style,U.style,v),k&8){const W=p.dynamicProps;for(let ce=0;ce<W.length;ce++){const re=W[ce],Ue=j[re],Ae=U[re];(Ae!==Ue||re==="value")&&i(T,re,Ue,Ae,v,m)}}k&1&&d.children!==p.children&&c(T,p.children)}else!P&&A==null&&le(T,j,U,m,v);((H=U.onVnodeUpdated)||N)&&Fe(()=>{H&&ot(H,m,p,d),N&&Nt(p,d,m,"updated")},w)},X=(d,p,m,w,v,E,P)=>{for(let T=0;T<p.length;T++){const k=d[T],A=p[T],N=k.el&&(k.type===je||!Gt(k,A)||k.shapeFlag&70)?h(k.el):m;b(k,A,N,null,w,v,E,P,!0)}},le=(d,p,m,w,v)=>{if(p!==m){if(p!==ae)for(const E in p)!Rs(E)&&!(E in m)&&i(d,E,p[E],null,v,w);for(const E in m){if(Rs(E))continue;const P=m[E],T=p[E];P!==T&&E!=="value"&&i(d,E,T,P,v,w)}"value"in m&&i(d,"value",p.value,m.value,v)}},D=(d,p,m,w,v,E,P,T,k)=>{const A=p.el=d?d.el:a(""),N=p.anchor=d?d.anchor:a("");let{patchFlag:j,dynamicChildren:U,slotScopeIds:H}=p;H&&(T=T?T.concat(H):H),d==null?(r(A,m,w),r(N,m,w),Ee(p.children||[],m,N,v,E,P,T,k)):j>0&&j&64&&U&&d.dynamicChildren?(X(d.dynamicChildren,U,m,v,E,P,T),(p.key!=null||v&&p===v.subTree)&&Ua(d,p,!0)):Z(d,p,m,N,v,E,P,T,k)},Q=(d,p,m,w,v,E,P,T,k)=>{p.slotScopeIds=T,d==null?p.shapeFlag&512?v.ctx.activate(p,m,w,P,k):ye(p,m,w,v,E,P,k):Me(d,p,k)},ye=(d,p,m,w,v,E,P)=>{const T=d.component=ku(d,w,v);if(Mr(d)&&(T.ctx.renderer=M),Cu(T,!1,P),T.asyncDep){if(v&&v.registerDep(T,ge,P),!d.el){const k=T.subTree=ve(Le);R(null,k,p,m)}}else ge(T,d,p,m,v,E,P)},Me=(d,p,m)=>{const w=p.component=d.component;if(mu(d,p,m))if(w.asyncDep&&!w.asyncResolved){ie(w,p,m);return}else w.next=p,w.update();else p.el=d.el,w.vnode=p},ge=(d,p,m,w,v,E,P)=>{const T=()=>{if(d.isMounted){let{next:j,bu:U,u:H,parent:W,vnode:ce}=d;{const Ne=Na(d);if(Ne){j&&(j.el=ce.el,ie(d,j,P)),Ne.asyncDep.then(()=>{d.isUnmounted||T()});return}}let re=j,Ue;Bt(d,!1),j?(j.el=ce.el,ie(d,j,P)):j=ce,U&&dr(U),(Ue=j.props&&j.props.onVnodeBeforeUpdate)&&ot(Ue,W,j,ce),Bt(d,!0);const Ae=cn(d),Xe=d.subTree;d.subTree=Ae,b(Xe,Ae,h(Xe.el),y(Xe),d,v,E),j.el=Ae.el,re===null&&vu(d,Ae.el),H&&Fe(H,v),(Ue=j.props&&j.props.onVnodeUpdated)&&Fe(()=>ot(Ue,W,j,ce),v)}else{let j;const{el:U,props:H}=p,{bm:W,m:ce,parent:re,root:Ue,type:Ae}=d,Xe=$s(p);if(Bt(d,!1),W&&dr(W),!Xe&&(j=H&&H.onVnodeBeforeMount)&&ot(j,re,p),Bt(d,!0),U&&fe){const Ne=()=>{d.subTree=cn(d),fe(U,d.subTree,d,v,null)};Xe&&Ae.__asyncHydrate?Ae.__asyncHydrate(U,d,Ne):Ne()}else{Ue.ce&&Ue.ce._injectChildStyle(Ae);const Ne=d.subTree=cn(d);b(null,Ne,m,w,d,v,E),p.el=Ne.el}if(ce&&Fe(ce,v),!Xe&&(j=H&&H.onVnodeMounted)){const Ne=p;Fe(()=>ot(j,re,Ne),v)}(p.shapeFlag&256||re&&$s(re.vnode)&&re.vnode.shapeFlag&256)&&d.a&&Fe(d.a,v),d.isMounted=!0,p=m=w=null}};d.scope.on();const k=d.effect=new Vo(T);d.scope.off();const A=d.update=k.run.bind(k),N=d.job=k.runIfDirty.bind(k);N.i=d,N.id=d.uid,k.scheduler=()=>ii(N),Bt(d,!0),A()},ie=(d,p,m)=>{p.component=d;const w=d.vnode.props;d.vnode=p,d.next=null,eu(d,p.props,w,m),nu(d,p.children,m),Dt(),Ei(d),Mt()},Z=(d,p,m,w,v,E,P,T,k=!1)=>{const A=d&&d.children,N=d?d.shapeFlag:0,j=p.children,{patchFlag:U,shapeFlag:H}=p;if(U>0){if(U&128){wt(A,j,m,w,v,E,P,T,k);return}else if(U&256){ht(A,j,m,w,v,E,P,T,k);return}}H&8?(N&16&&Ke(A,v,E),j!==A&&c(m,j)):N&16?H&16?wt(A,j,m,w,v,E,P,T,k):Ke(A,v,E,!0):(N&8&&c(m,""),H&16&&Ee(j,m,w,v,E,P,T,k))},ht=(d,p,m,w,v,E,P,T,k)=>{d=d||ls,p=p||ls;const A=d.length,N=p.length,j=Math.min(A,N);let U;for(U=0;U<j;U++){const H=p[U]=k?Ct(p[U]):ct(p[U]);b(d[U],H,m,null,v,E,P,T,k)}A>N?Ke(d,v,E,!0,!1,j):Ee(p,m,w,v,E,P,T,k,j)},wt=(d,p,m,w,v,E,P,T,k)=>{let A=0;const N=p.length;let j=d.length-1,U=N-1;for(;A<=j&&A<=U;){const H=d[A],W=p[A]=k?Ct(p[A]):ct(p[A]);if(Gt(H,W))b(H,W,m,null,v,E,P,T,k);else break;A++}for(;A<=j&&A<=U;){const H=d[j],W=p[U]=k?Ct(p[U]):ct(p[U]);if(Gt(H,W))b(H,W,m,null,v,E,P,T,k);else break;j--,U--}if(A>j){if(A<=U){const H=U+1,W=H<N?p[H].el:w;for(;A<=U;)b(null,p[A]=k?Ct(p[A]):ct(p[A]),m,W,v,E,P,T,k),A++}}else if(A>U)for(;A<=j;)Oe(d[A],v,E,!0),A++;else{const H=A,W=A,ce=new Map;for(A=W;A<=U;A++){const Be=p[A]=k?Ct(p[A]):ct(p[A]);Be.key!=null&&ce.set(Be.key,A)}let re,Ue=0;const Ae=U-W+1;let Xe=!1,Ne=0;const Es=new Array(Ae);for(A=0;A<Ae;A++)Es[A]=0;for(A=H;A<=j;A++){const Be=d[A];if(Ue>=Ae){Oe(Be,v,E,!0);continue}let it;if(Be.key!=null)it=ce.get(Be.key);else for(re=W;re<=U;re++)if(Es[re-W]===0&&Gt(Be,p[re])){it=re;break}it===void 0?Oe(Be,v,E,!0):(Es[it-W]=A+1,it>=Ne?Ne=it:Xe=!0,b(Be,p[it],m,null,v,E,P,T,k),Ue++)}const vi=Xe?lu(Es):ls;for(re=vi.length-1,A=Ae-1;A>=0;A--){const Be=W+A,it=p[Be],yi=Be+1<N?p[Be+1].el:w;Es[A]===0?b(null,it,m,yi,v,E,P,T,k):Xe&&(re<0||A!==vi[re]?nt(it,m,yi,2):re--)}}},nt=(d,p,m,w,v=null)=>{const{el:E,type:P,transition:T,children:k,shapeFlag:A}=d;if(A&6){nt(d.component.subTree,p,m,w);return}if(A&128){d.suspense.move(p,m,w);return}if(A&64){P.move(d,p,m,M);return}if(P===je){r(E,p,m);for(let j=0;j<k.length;j++)nt(k[j],p,m,w);r(d.anchor,p,m);return}if(P===gr){$(d,p,m);return}if(w!==2&&A&1&&T)if(w===0)T.beforeEnter(E),r(E,p,m),Fe(()=>T.enter(E),v);else{const{leave:j,delayLeave:U,afterLeave:H}=T,W=()=>r(E,p,m),ce=()=>{j(E,()=>{W(),H&&H()})};U?U(E,W,ce):ce()}else r(E,p,m)},Oe=(d,p,m,w=!1,v=!1)=>{const{type:E,props:P,ref:T,children:k,dynamicChildren:A,shapeFlag:N,patchFlag:j,dirs:U,cacheIndex:H}=d;if(j===-2&&(v=!1),T!=null&&Er(T,null,m,d,!0),H!=null&&(p.renderCache[H]=void 0),N&256){p.ctx.deactivate(d);return}const W=N&1&&U,ce=!$s(d);let re;if(ce&&(re=P&&P.onVnodeBeforeUnmount)&&ot(re,p,d),N&6)sr(d.component,m,w);else{if(N&128){d.suspense.unmount(m,w);return}W&&Nt(d,null,p,"beforeUnmount"),N&64?d.type.remove(d,p,m,M,w):A&&!A.hasOnce&&(E!==je||j>0&&j&64)?Ke(A,p,m,!1,!0):(E===je&&j&384||!v&&N&16)&&Ke(k,p,m),w&&Yt(d)}(ce&&(re=P&&P.onVnodeUnmounted)||W)&&Fe(()=>{re&&ot(re,p,d),W&&Nt(d,null,p,"unmounted")},m)},Yt=d=>{const{type:p,el:m,anchor:w,transition:v}=d;if(p===je){Qt(m,w);return}if(p===gr){x(d);return}const E=()=>{n(m),v&&!v.persisted&&v.afterLeave&&v.afterLeave()};if(d.shapeFlag&1&&v&&!v.persisted){const{leave:P,delayLeave:T}=v,k=()=>P(m,E);T?T(d.el,E,k):k()}else E()},Qt=(d,p)=>{let m;for(;d!==p;)m=f(d),n(d),d=m;n(p)},sr=(d,p,m)=>{const{bum:w,scope:v,job:E,subTree:P,um:T,m:k,a:A}=d;Oi(k),Oi(A),w&&dr(w),v.stop(),E&&(E.flags|=8,Oe(P,d,p,m)),T&&Fe(T,p),Fe(()=>{d.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},Ke=(d,p,m,w=!1,v=!1,E=0)=>{for(let P=E;P<d.length;P++)Oe(d[P],p,m,w,v)},y=d=>{if(d.shapeFlag&6)return y(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const p=f(d.anchor||d.el),m=p&&p[Oc];return m?f(m):p};let L=!1;const O=(d,p,m)=>{d==null?p._vnode&&Oe(p._vnode,null,null,!0):b(p._vnode||null,d,p,null,null,null,m),p._vnode=d,L||(L=!0,Ei(),ha(),L=!1)},M={p:b,um:Oe,m:nt,r:Yt,mt:ye,mc:Ee,pc:Z,pbc:X,n:y,o:t};let ee,fe;return e&&([ee,fe]=e(M)),{render:O,hydrate:ee,createApp:Qc(O,ee)}}function ln({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Bt({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function au(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ua(t,e,s=!1){const r=t.children,n=e.children;if(B(r)&&B(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=Ct(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Ua(o,a)),a.type===Hr&&(a.el=o.el)}}function lu(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function Na(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Na(e)}function Oi(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const cu=Symbol.for("v-scx"),uu=()=>ut(cu);function pr(t,e,s){return Ba(t,e,s)}function Ba(t,e,s=ae){const{immediate:r,deep:n,flush:i,once:o}=s,a=me({},s),l=e&&r||!e&&i!=="post";let u;if(Js){if(i==="sync"){const g=uu();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=et,g.resume=et,g.pause=et,g}}const c=be;a.call=(g,_,b)=>st(g,c,_,b);let h=!1;i==="post"?a.scheduler=g=>{Fe(g,c&&c.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(g,_)=>{_?g():ii(g)}),a.augmentJob=g=>{e&&(g.flags|=4),h&&(g.flags|=2,c&&(g.id=c.uid,g.i=c))};const f=Tc(t,e,a);return Js&&(u?u.push(f):l&&f()),f}function hu(t,e,s){const r=this.proxy,n=pe(t)?t.includes(".")?Fa(r,t):()=>r[t]:t.bind(r,r);let i;q(e)?i=e:(i=e.handler,s=e);const o=Zs(this),a=Ba(n,i.bind(r),s);return o(),a}function Fa(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const du=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${We(e)}Modifiers`]||t[`${Lt(e)}Modifiers`];function fu(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||ae;let n=s;const i=e.startsWith("update:"),o=i&&du(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>pe(c)?c.trim():c)),o.number&&(n=s.map(An)));let a,l=r[a=Zr(e)]||r[a=Zr(We(e))];!l&&i&&(l=r[a=Zr(Lt(e))]),l&&st(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,st(u,t,6,n)}}function Ha(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!q(t)){const l=u=>{const c=Ha(u,e,!0);c&&(a=!0,me(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(de(t)&&r.set(t,null),null):(B(i)?i.forEach(l=>o[l]=null):me(o,i),de(t)&&r.set(t,o),o)}function Fr(t,e){return!t||!xr(e)?!1:(e=e.slice(2).replace(/Once$/,""),se(t,e[0].toLowerCase()+e.slice(1))||se(t,Lt(e))||se(t,e))}function cn(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:f,setupState:g,ctx:_,inheritAttrs:b}=t,C=wr(t);let R,I;try{if(s.shapeFlag&4){const x=n||r,F=x;R=ct(u.call(F,x,c,h,g,f,_)),I=a}else{const x=e;R=ct(x.length>1?x(h,{attrs:a,slots:o,emit:l}):x(h,null)),I=e.props?a:pu(a)}}catch(x){Ds.length=0,Dr(x,t,1),R=ve(Le)}let $=R;if(I&&b!==!1){const x=Object.keys(I),{shapeFlag:F}=$;x.length&&F&7&&(i&&x.some(Wn)&&(I=gu(I,i)),$=jt($,I,!1,!0))}return s.dirs&&($=jt($,null,!1,!0),$.dirs=$.dirs?$.dirs.concat(s.dirs):s.dirs),s.transition&&Ks($,s.transition),R=$,wr(C),R}const pu=t=>{let e;for(const s in t)(s==="class"||s==="style"||xr(s))&&((e||(e={}))[s]=t[s]);return e},gu=(t,e)=>{const s={};for(const r in t)(!Wn(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function mu(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Ri(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const f=c[h];if(o[f]!==r[f]&&!Fr(u,f))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Ri(r,o,u):!0:!!o;return!1}function Ri(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!Fr(s,i))return!0}return!1}function vu({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const qa=t=>t.__isSuspense;function yu(t,e){e&&e.pendingBranch?B(t)?e.effects.push(...t):e.effects.push(t):Pc(t)}const je=Symbol.for("v-fgt"),Hr=Symbol.for("v-txt"),Le=Symbol.for("v-cmt"),gr=Symbol.for("v-stc"),Ds=[];let Ve=null;function J(t=!1){Ds.push(Ve=t?null:[])}function _u(){Ds.pop(),Ve=Ds[Ds.length-1]||null}let Gs=1;function Ii(t,e=!1){Gs+=t,t<0&&Ve&&e&&(Ve.hasOnce=!0)}function Va(t){return t.dynamicChildren=Gs>0?Ve||ls:null,_u(),Gs>0&&Ve&&Ve.push(t),t}function z(t,e,s,r,n,i){return Va(S(t,e,s,r,n,i,!0))}function Ka(t,e,s,r,n){return Va(ve(t,e,s,r,n,!0))}function Sr(t){return t?t.__v_isVNode===!0:!1}function Gt(t,e){return t.type===e.type&&t.key===e.key}const Ga=({key:t})=>t??null,mr=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?pe(t)||Te(t)||q(t)?{i:De,r:t,k:e,f:!!s}:t:null);function S(t,e=null,s=null,r=0,n=null,i=t===je?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ga(e),ref:e&&mr(e),scopeId:fa,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:De};return a?(ci(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=pe(s)?8:16),Gs>0&&!o&&Ve&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ve.push(l),l}const ve=wu;function wu(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===ka)&&(t=Le),Sr(t)){const a=jt(t,e,!0);return s&&ci(a,s),Gs>0&&!i&&Ve&&(a.shapeFlag&6?Ve[Ve.indexOf(t)]=a:Ve.push(a)),a.patchFlag=-2,a}if(Iu(t)&&(t=t.__vccOpts),e){e=bu(e);let{class:a,style:l}=e;a&&!pe(a)&&(e.class=Qe(a)),de(l)&&(ni(l)&&!B(l)&&(l=me({},l)),e.style=Yn(l))}const o=pe(t)?1:qa(t)?128:pa(t)?64:de(t)?4:q(t)?2:0;return S(t,e,s,r,n,o,i,!0)}function bu(t){return t?ni(t)||Ra(t)?me({},t):t:null}function jt(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Eu(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Ga(u),ref:e&&e.ref?s&&i?B(i)?i.concat(mr(e)):[i,mr(e)]:mr(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==je?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&jt(t.ssContent),ssFallback:t.ssFallback&&jt(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Ks(c,l.clone(c)),c}function kr(t=" ",e=0){return ve(Hr,null,t,e)}function ji(t,e){const s=ve(gr,null,t);return s.staticCount=e,s}function we(t="",e=!1){return e?(J(),Ka(Le,null,t)):ve(Le,null,t)}function ct(t){return t==null||typeof t=="boolean"?ve(Le):B(t)?ve(je,null,t.slice()):Sr(t)?Ct(t):ve(Hr,null,String(t))}function Ct(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:jt(t)}function ci(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(B(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),ci(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!Ra(e)?e._ctx=De:n===3&&De&&(De.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else q(e)?(e={default:e,_ctx:De},s=32):(e=String(e),r&64?(s=16,e=[kr(e)]):s=8);t.children=e,t.shapeFlag|=s}function Eu(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=Qe([e.class,r.class]));else if(n==="style")e.style=Yn([e.style,r.style]);else if(xr(n)){const i=e[n],o=r[n];o&&i!==o&&!(B(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function ot(t,e,s,r=null){st(t,e,7,[s,r])}const Au=xa();let Su=0;function ku(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||Au,i={uid:Su++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Zl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ja(r,n),emitsOptions:Ha(r,n),emit:null,emitted:null,propsDefaults:ae,inheritAttrs:r.inheritAttrs,ctx:ae,data:ae,props:ae,attrs:ae,slots:ae,refs:ae,setupState:ae,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=fu.bind(null,i),t.ce&&t.ce(i),i}let be=null;const Tu=()=>be||De;let Tr,$n;{const t=Ir(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Tr=e("__VUE_INSTANCE_SETTERS__",s=>be=s),$n=e("__VUE_SSR_SETTERS__",s=>Js=s)}const Zs=t=>{const e=be;return Tr(t),t.scope.on(),()=>{t.scope.off(),Tr(e)}},$i=()=>{be&&be.scope.off(),Tr(null)};function Ja(t){return t.vnode.shapeFlag&4}let Js=!1;function Cu(t,e=!1,s=!1){e&&$n(e);const{props:r,children:n}=t.vnode,i=Ja(t);Zc(t,r,i,e),ru(t,n,s);const o=i?xu(t,e):void 0;return e&&$n(!1),o}function xu(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Kc);const{setup:r}=s;if(r){Dt();const n=t.setupContext=r.length>1?Ou(t):null,i=Zs(t),o=Qs(r,t,0,[t.props,n]),a=Mo(o);if(Mt(),i(),(a||t.sp)&&!$s(t)&&ba(t),a){if(o.then($i,$i),e)return o.then(l=>{Li(t,l,e)}).catch(l=>{Dr(l,t,0)});t.asyncDep=o}else Li(t,o,e)}else Wa(t,e)}function Li(t,e,s){q(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:de(e)&&(t.setupState=aa(e)),Wa(t,s)}let Di;function Wa(t,e,s){const r=t.type;if(!t.render){if(!e&&Di&&!r.render){const n=r.template||ai(t).template;if(n){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=me(me({isCustomElement:i,delimiters:a},o),l);r.render=Di(n,u)}}t.render=r.render||et}{const n=Zs(t);Dt();try{Gc(t)}finally{Mt(),n()}}}const Pu={get(t,e){return Se(t,"get",""),t[e]}};function Ou(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Pu),slots:t.slots,emit:t.emit,expose:e}}function qr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(aa(_c(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Ls)return Ls[s](t)},has(e,s){return s in e||s in Ls}})):t.proxy}function Ru(t,e=!0){return q(t)?t.displayName||t.name:t.name||e&&t.__name}function Iu(t){return q(t)&&"__vccOpts"in t}const Ze=(t,e)=>Sc(t,e,Js);function ui(t,e,s){const r=arguments.length;return r===2?de(e)&&!B(e)?Sr(e)?ve(t,null,[e]):ve(t,e):ve(t,null,e):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&Sr(s)&&(s=[s]),ve(t,e,s))}const ju="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ln;const Mi=typeof window<"u"&&window.trustedTypes;if(Mi)try{Ln=Mi.createPolicy("vue",{createHTML:t=>t})}catch{}const za=Ln?t=>Ln.createHTML(t):t=>t,$u="http://www.w3.org/2000/svg",Lu="http://www.w3.org/1998/Math/MathML",gt=typeof document<"u"?document:null,Ui=gt&&gt.createElement("template"),Du={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?gt.createElementNS($u,t):e==="mathml"?gt.createElementNS(Lu,t):s?gt.createElement(t,{is:s}):gt.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>gt.createTextNode(t),createComment:t=>gt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>gt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Ui.innerHTML=za(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Ui.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},bt="transition",Ss="animation",Ws=Symbol("_vtc"),Xa={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Mu=me({},ga,Xa),Uu=t=>(t.displayName="Transition",t.props=Mu,t),Nu=Uu((t,{slots:e})=>ui(jc,Bu(t),e)),Ft=(t,e=[])=>{B(t)?t.forEach(s=>s(...e)):t&&t(...e)},Ni=t=>t?B(t)?t.some(e=>e.length>1):t.length>1:!1;function Bu(t){const e={};for(const D in t)D in Xa||(e[D]=t[D]);if(t.css===!1)return e;const{name:s="v",type:r,duration:n,enterFromClass:i=`${s}-enter-from`,enterActiveClass:o=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:h=`${s}-leave-from`,leaveActiveClass:f=`${s}-leave-active`,leaveToClass:g=`${s}-leave-to`}=t,_=Fu(n),b=_&&_[0],C=_&&_[1],{onBeforeEnter:R,onEnter:I,onEnterCancelled:$,onLeave:x,onLeaveCancelled:F,onBeforeAppear:oe=R,onAppear:ne=I,onAppearCancelled:Ee=$}=e,V=(D,Q,ye,Me)=>{D._enterCancelled=Me,Ht(D,Q?c:a),Ht(D,Q?u:o),ye&&ye()},X=(D,Q)=>{D._isLeaving=!1,Ht(D,h),Ht(D,g),Ht(D,f),Q&&Q()},le=D=>(Q,ye)=>{const Me=D?ne:I,ge=()=>V(Q,D,ye);Ft(Me,[Q,ge]),Bi(()=>{Ht(Q,D?l:i),ft(Q,D?c:a),Ni(Me)||Fi(Q,r,b,ge)})};return me(e,{onBeforeEnter(D){Ft(R,[D]),ft(D,i),ft(D,o)},onBeforeAppear(D){Ft(oe,[D]),ft(D,l),ft(D,u)},onEnter:le(!1),onAppear:le(!0),onLeave(D,Q){D._isLeaving=!0;const ye=()=>X(D,Q);ft(D,h),D._enterCancelled?(ft(D,f),Vi()):(Vi(),ft(D,f)),Bi(()=>{D._isLeaving&&(Ht(D,h),ft(D,g),Ni(x)||Fi(D,r,C,ye))}),Ft(x,[D,ye])},onEnterCancelled(D){V(D,!1,void 0,!0),Ft($,[D])},onAppearCancelled(D){V(D,!0,void 0,!0),Ft(Ee,[D])},onLeaveCancelled(D){X(D),Ft(F,[D])}})}function Fu(t){if(t==null)return null;if(de(t))return[un(t.enter),un(t.leave)];{const e=un(t);return[e,e]}}function un(t){return Gl(t)}function ft(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[Ws]||(t[Ws]=new Set)).add(e)}function Ht(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const s=t[Ws];s&&(s.delete(e),s.size||(t[Ws]=void 0))}function Bi(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Hu=0;function Fi(t,e,s,r){const n=t._endId=++Hu,i=()=>{n===t._endId&&r()};if(s!=null)return setTimeout(i,s);const{type:o,timeout:a,propCount:l}=qu(t,e);if(!o)return r();const u=o+"end";let c=0;const h=()=>{t.removeEventListener(u,f),i()},f=g=>{g.target===t&&++c>=l&&h()};setTimeout(()=>{c<l&&h()},a+1),t.addEventListener(u,f)}function qu(t,e){const s=window.getComputedStyle(t),r=_=>(s[_]||"").split(", "),n=r(`${bt}Delay`),i=r(`${bt}Duration`),o=Hi(n,i),a=r(`${Ss}Delay`),l=r(`${Ss}Duration`),u=Hi(a,l);let c=null,h=0,f=0;e===bt?o>0&&(c=bt,h=o,f=i.length):e===Ss?u>0&&(c=Ss,h=u,f=l.length):(h=Math.max(o,u),c=h>0?o>u?bt:Ss:null,f=c?c===bt?i.length:l.length:0);const g=c===bt&&/\b(transform|all)(,|$)/.test(r(`${bt}Property`).toString());return{type:c,timeout:h,propCount:f,hasTransform:g}}function Hi(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,r)=>qi(s)+qi(t[r])))}function qi(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Vi(){return document.body.offsetHeight}function Vu(t,e,s){const r=t[Ws];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Ki=Symbol("_vod"),Ku=Symbol("_vsh"),Gu=Symbol(""),Ju=/(^|;)\s*display\s*:/;function Wu(t,e,s){const r=t.style,n=pe(s);let i=!1;if(s&&!n){if(e)if(pe(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&vr(r,a,"")}else for(const o in e)s[o]==null&&vr(r,o,"");for(const o in s)o==="display"&&(i=!0),vr(r,o,s[o])}else if(n){if(e!==s){const o=r[Gu];o&&(s+=";"+o),r.cssText=s,i=Ju.test(s)}}else e&&t.removeAttribute("style");Ki in t&&(t[Ki]=i?r.display:"",t[Ku]&&(r.display="none"))}const Gi=/\s*!important$/;function vr(t,e,s){if(B(s))s.forEach(r=>vr(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=zu(t,e);Gi.test(s)?t.setProperty(Lt(r),s.replace(Gi,""),"important"):t[r]=s}}const Ji=["Webkit","Moz","ms"],hn={};function zu(t,e){const s=hn[e];if(s)return s;let r=We(e);if(r!=="filter"&&r in t)return hn[e]=r;r=Rr(r);for(let n=0;n<Ji.length;n++){const i=Ji[n]+r;if(i in t)return hn[e]=i}return e}const Wi="http://www.w3.org/1999/xlink";function zi(t,e,s,r,n,i=Ql(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Wi,e.slice(6,e.length)):t.setAttributeNS(Wi,e,s):s==null||i&&!Fo(s)?t.removeAttribute(e):t.setAttribute(e,i?"":$t(s)?String(s):s)}function Xi(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?za(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=Fo(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function ns(t,e,s,r){t.addEventListener(e,s,r)}function Xu(t,e,s,r){t.removeEventListener(e,s,r)}const Yi=Symbol("_vei");function Yu(t,e,s,r,n=null){const i=t[Yi]||(t[Yi]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=Qu(e);if(r){const u=i[e]=th(r,n);ns(t,a,u,l)}else o&&(Xu(t,a,o,l),i[e]=void 0)}}const Qi=/(?:Once|Passive|Capture)$/;function Qu(t){let e;if(Qi.test(t)){e={};let r;for(;r=t.match(Qi);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Lt(t.slice(2)),e]}let dn=0;const Zu=Promise.resolve(),eh=()=>dn||(Zu.then(()=>dn=0),dn=Date.now());function th(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;st(sh(r,s.value),e,5,[r])};return s.value=t,s.attached=eh(),s}function sh(t,e){if(B(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const Zi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,rh=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?Vu(t,r,o):e==="style"?Wu(t,s,r):xr(e)?Wn(e)||Yu(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):nh(t,e,r,o))?(Xi(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&zi(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!pe(r))?Xi(t,We(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),zi(t,e,r,o))};function nh(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Zi(e)&&q(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Zi(e)&&pe(s)?!1:e in t}const eo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return B(e)?s=>dr(e,s):e};function ih(t){t.target.composing=!0}function to(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const fn=Symbol("_assign"),Ps={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[fn]=eo(n);const i=r||n.props&&n.props.type==="number";ns(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=An(a)),t[fn](a)}),s&&ns(t,"change",()=>{t.value=t.value.trim()}),e||(ns(t,"compositionstart",ih),ns(t,"compositionend",to),ns(t,"change",to))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[fn]=eo(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?An(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},oh=["ctrl","shift","alt","meta"],ah={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>oh.some(s=>t[`${s}Key`]&&!e.includes(s))},Ya=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=ah[e[o]];if(a&&a(n,e))return}return t(n,...i)})},lh={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ch=(t,e)=>{const s=t._withKeys||(t._withKeys={}),r=e.join(".");return s[r]||(s[r]=n=>{if(!("key"in n))return;const i=Lt(n.key);if(e.some(o=>o===i||lh[o]===i))return t(n)})},uh=me({patchProp:rh},Du);let so;function hh(){return so||(so=iu(uh))}const dh=(...t)=>{const e=hh().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=ph(r);if(!n)return;const i=e._component;!q(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,fh(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function fh(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function ph(t){return pe(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const is=typeof document<"u";function Qa(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function gh(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Qa(t.default)}const te=Object.assign;function pn(t,e){const s={};for(const r in e){const n=e[r];s[r]=rt(n)?n.map(t):t(n)}return s}const Ms=()=>{},rt=Array.isArray,Za=/#/g,mh=/&/g,vh=/\//g,yh=/=/g,_h=/\?/g,el=/\+/g,wh=/%5B/g,bh=/%5D/g,tl=/%5E/g,Eh=/%60/g,sl=/%7B/g,Ah=/%7C/g,rl=/%7D/g,Sh=/%20/g;function hi(t){return encodeURI(""+t).replace(Ah,"|").replace(wh,"[").replace(bh,"]")}function kh(t){return hi(t).replace(sl,"{").replace(rl,"}").replace(tl,"^")}function Dn(t){return hi(t).replace(el,"%2B").replace(Sh,"+").replace(Za,"%23").replace(mh,"%26").replace(Eh,"`").replace(sl,"{").replace(rl,"}").replace(tl,"^")}function Th(t){return Dn(t).replace(yh,"%3D")}function Ch(t){return hi(t).replace(Za,"%23").replace(_h,"%3F")}function xh(t){return t==null?"":Ch(t).replace(vh,"%2F")}function zs(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Ph=/\/$/,Oh=t=>t.replace(Ph,"");function gn(t,e,s="/"){let r,n={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),n=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=$h(r??e,s),{fullPath:r+(i&&"?")+i+o,path:r,query:n,hash:zs(o)}}function Rh(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function ro(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Ih(t,e,s){const r=e.matched.length-1,n=s.matched.length-1;return r>-1&&r===n&&gs(e.matched[r],s.matched[n])&&nl(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function gs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function nl(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!jh(t[s],e[s]))return!1;return!0}function jh(t,e){return rt(t)?no(t,e):rt(e)?no(e,t):t===e}function no(t,e){return rt(e)?t.length===e.length&&t.every((s,r)=>s===e[r]):t.length===1&&t[0]===e}function $h(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),r=t.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let i=s.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const Et={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Xs;(function(t){t.pop="pop",t.push="push"})(Xs||(Xs={}));var Us;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Us||(Us={}));function Lh(t){if(!t)if(is){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Oh(t)}const Dh=/^[^#]+#/;function Mh(t,e){return t.replace(Dh,"#")+e}function Uh(t,e){const s=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-s.left-(e.left||0),top:r.top-s.top-(e.top||0)}}const Vr=()=>({left:window.scrollX,top:window.scrollY});function Nh(t){let e;if("el"in t){const s=t.el,r=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;e=Uh(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function io(t,e){return(history.state?history.state.position-e:-1)+t}const Mn=new Map;function Bh(t,e){Mn.set(t,e)}function Fh(t){const e=Mn.get(t);return Mn.delete(t),e}let Hh=()=>location.protocol+"//"+location.host;function il(t,e){const{pathname:s,search:r,hash:n}=e,i=t.indexOf("#");if(i>-1){let a=n.includes(t.slice(i))?t.slice(i).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),ro(l,"")}return ro(s,t)+r+n}function qh(t,e,s,r){let n=[],i=[],o=null;const a=({state:f})=>{const g=il(t,location),_=s.value,b=e.value;let C=0;if(f){if(s.value=g,e.value=f,o&&o===_){o=null;return}C=b?f.position-b.position:0}else r(g);n.forEach(R=>{R(s.value,_,{delta:C,type:Xs.pop,direction:C?C>0?Us.forward:Us.back:Us.unknown})})};function l(){o=s.value}function u(f){n.push(f);const g=()=>{const _=n.indexOf(f);_>-1&&n.splice(_,1)};return i.push(g),g}function c(){const{history:f}=window;f.state&&f.replaceState(te({},f.state,{scroll:Vr()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function oo(t,e,s,r=!1,n=!1){return{back:t,current:e,forward:s,replaced:r,position:window.history.length,scroll:n?Vr():null}}function Vh(t){const{history:e,location:s}=window,r={value:il(t,s)},n={value:e.state};n.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const h=t.indexOf("#"),f=h>-1?(s.host&&document.querySelector("base")?t:t.slice(h))+l:Hh()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),n.value=u}catch(g){console.error(g),s[c?"replace":"assign"](f)}}function o(l,u){const c=te({},e.state,oo(n.value.back,l,n.value.forward,!0),u,{position:n.value.position});i(l,c,!0),r.value=l}function a(l,u){const c=te({},n.value,e.state,{forward:l,scroll:Vr()});i(c.current,c,!0);const h=te({},oo(r.value,l,null),{position:c.position+1},u);i(l,h,!1),r.value=l}return{location:r,state:n,push:a,replace:o}}function Kh(t){t=Lh(t);const e=Vh(t),s=qh(t,e.state,e.location,e.replace);function r(i,o=!0){o||s.pauseListeners(),history.go(i)}const n=te({location:"",base:t,go:r,createHref:Mh.bind(null,t)},e,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function Gh(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),Kh(t)}function Jh(t){return typeof t=="string"||t&&typeof t=="object"}function ol(t){return typeof t=="string"||typeof t=="symbol"}const al=Symbol("");var ao;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(ao||(ao={}));function ms(t,e){return te(new Error,{type:t,[al]:!0},e)}function pt(t,e){return t instanceof Error&&al in t&&(e==null||!!(t.type&e))}const lo="[^/]+?",Wh={sensitive:!1,strict:!1,start:!0,end:!0},zh=/[.+*?^${}()[\]/\\]/g;function Xh(t,e){const s=te({},Wh,e),r=[];let n=s.start?"^":"";const i=[];for(const u of t){const c=u.length?[]:[90];s.strict&&!u.length&&(n+="/");for(let h=0;h<u.length;h++){const f=u[h];let g=40+(s.sensitive?.25:0);if(f.type===0)h||(n+="/"),n+=f.value.replace(zh,"\\$&"),g+=40;else if(f.type===1){const{value:_,repeatable:b,optional:C,regexp:R}=f;i.push({name:_,repeatable:b,optional:C});const I=R||lo;if(I!==lo){g+=10;try{new RegExp(`(${I})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${_}" (${I}): `+x.message)}}let $=b?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;h||($=C&&u.length<2?`(?:/${$})`:"/"+$),C&&($+="?"),n+=$,g+=20,C&&(g+=-8),b&&(g+=-20),I===".*"&&(g+=-50)}c.push(g)}r.push(c)}if(s.strict&&s.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let f=1;f<c.length;f++){const g=c[f]||"",_=i[f-1];h[_.name]=g&&_.repeatable?g.split("/"):g}return h}function l(u){let c="",h=!1;for(const f of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const g of f)if(g.type===0)c+=g.value;else if(g.type===1){const{value:_,repeatable:b,optional:C}=g,R=_ in u?u[_]:"";if(rt(R)&&!b)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const I=rt(R)?R.join("/"):R;if(!I)if(C)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);c+=I}}return c||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function Yh(t,e){let s=0;for(;s<t.length&&s<e.length;){const r=e[s]-t[s];if(r)return r;s++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function ll(t,e){let s=0;const r=t.score,n=e.score;for(;s<r.length&&s<n.length;){const i=Yh(r[s],n[s]);if(i)return i;s++}if(Math.abs(n.length-r.length)===1){if(co(r))return 1;if(co(n))return-1}return n.length-r.length}function co(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Qh={type:0,value:""},Zh=/[a-zA-Z0-9_]/;function ed(t){if(!t)return[[]];if(t==="/")return[[Qh]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${s})/"${u}": ${g}`)}let s=0,r=s;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,u="",c="";function h(){u&&(s===0?i.push({type:0,value:u}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),s=1):f();break;case 4:f(),s=r;break;case 1:l==="("?s=2:Zh.test(l)?f():(h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=3:c+=l;break;case 3:h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),n}function td(t,e,s){const r=Xh(ed(t.path),s),n=te(r,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function sd(t,e){const s=[],r=new Map;e=po({strict:!1,end:!0,sensitive:!1},e);function n(h){return r.get(h)}function i(h,f,g){const _=!g,b=ho(h);b.aliasOf=g&&g.record;const C=po(e,h),R=[b];if("alias"in h){const x=typeof h.alias=="string"?[h.alias]:h.alias;for(const F of x)R.push(ho(te({},b,{components:g?g.record.components:b.components,path:F,aliasOf:g?g.record:b})))}let I,$;for(const x of R){const{path:F}=x;if(f&&F[0]!=="/"){const oe=f.record.path,ne=oe[oe.length-1]==="/"?"":"/";x.path=f.record.path+(F&&ne+F)}if(I=td(x,f,C),g?g.alias.push(I):($=$||I,$!==I&&$.alias.push(I),_&&h.name&&!fo(I)&&o(h.name)),cl(I)&&l(I),b.children){const oe=b.children;for(let ne=0;ne<oe.length;ne++)i(oe[ne],I,g&&g.children[ne])}g=g||I}return $?()=>{o($)}:Ms}function o(h){if(ol(h)){const f=r.get(h);f&&(r.delete(h),s.splice(s.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=s.indexOf(h);f>-1&&(s.splice(f,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return s}function l(h){const f=id(h,s);s.splice(f,0,h),h.record.name&&!fo(h)&&r.set(h.record.name,h)}function u(h,f){let g,_={},b,C;if("name"in h&&h.name){if(g=r.get(h.name),!g)throw ms(1,{location:h});C=g.record.name,_=te(uo(f.params,g.keys.filter($=>!$.optional).concat(g.parent?g.parent.keys.filter($=>$.optional):[]).map($=>$.name)),h.params&&uo(h.params,g.keys.map($=>$.name))),b=g.stringify(_)}else if(h.path!=null)b=h.path,g=s.find($=>$.re.test(b)),g&&(_=g.parse(b),C=g.record.name);else{if(g=f.name?r.get(f.name):s.find($=>$.re.test(f.path)),!g)throw ms(1,{location:h,currentLocation:f});C=g.record.name,_=te({},f.params,h.params),b=g.stringify(_)}const R=[];let I=g;for(;I;)R.unshift(I.record),I=I.parent;return{name:C,path:b,params:_,matched:R,meta:nd(R)}}t.forEach(h=>i(h));function c(){s.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:n}}function uo(t,e){const s={};for(const r of e)r in t&&(s[r]=t[r]);return s}function ho(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:rd(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function rd(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const r in t.components)e[r]=typeof s=="object"?s[r]:s;return e}function fo(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function nd(t){return t.reduce((e,s)=>te(e,s.meta),{})}function po(t,e){const s={};for(const r in t)s[r]=r in e?e[r]:t[r];return s}function id(t,e){let s=0,r=e.length;for(;s!==r;){const i=s+r>>1;ll(t,e[i])<0?r=i:s=i+1}const n=od(t);return n&&(r=e.lastIndexOf(n,r-1)),r}function od(t){let e=t;for(;e=e.parent;)if(cl(e)&&ll(t,e)===0)return e}function cl({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function ad(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<r.length;++n){const i=r[n].replace(el," "),o=i.indexOf("="),a=zs(o<0?i:i.slice(0,o)),l=o<0?null:zs(i.slice(o+1));if(a in e){let u=e[a];rt(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function go(t){let e="";for(let s in t){const r=t[s];if(s=Th(s),r==null){r!==void 0&&(e+=(e.length?"&":"")+s);continue}(rt(r)?r.map(i=>i&&Dn(i)):[r&&Dn(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+s,i!=null&&(e+="="+i))})}return e}function ld(t){const e={};for(const s in t){const r=t[s];r!==void 0&&(e[s]=rt(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return e}const cd=Symbol(""),mo=Symbol(""),Kr=Symbol(""),ul=Symbol(""),Un=Symbol("");function ks(){let t=[];function e(r){return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function xt(t,e,s,r,n,i=o=>o()){const o=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(ms(4,{from:s,to:e})):f instanceof Error?l(f):Jh(f)?l(ms(2,{from:e,to:f})):(o&&r.enterCallbacks[n]===o&&typeof f=="function"&&o.push(f),a())},c=i(()=>t.call(r&&r.instances[n],e,s,u));let h=Promise.resolve(c);t.length<3&&(h=h.then(u)),h.catch(f=>l(f))})}function mn(t,e,s,r,n=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Qa(l)){const c=(l.__vccOpts||l)[e];c&&i.push(xt(c,s,r,o,a,n))}else{let u=l();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=gh(c)?c.default:c;o.mods[a]=c,o.components[a]=h;const g=(h.__vccOpts||h)[e];return g&&xt(g,s,r,o,a,n)()}))}}return i}function vo(t){const e=ut(Kr),s=ut(ul),r=Ze(()=>{const l=hs(t.to);return e.resolve(l)}),n=Ze(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=s.matched;if(!c||!h.length)return-1;const f=h.findIndex(gs.bind(null,c));if(f>-1)return f;const g=yo(l[u-2]);return u>1&&yo(c)===g&&h[h.length-1].path!==g?h.findIndex(gs.bind(null,l[u-2])):f}),i=Ze(()=>n.value>-1&&pd(s.params,r.value.params)),o=Ze(()=>n.value>-1&&n.value===s.matched.length-1&&nl(s.params,r.value.params));function a(l={}){if(fd(l)){const u=e[hs(t.replace)?"replace":"push"](hs(t.to)).catch(Ms);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:Ze(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function ud(t){return t.length===1?t[0]:t}const hd=wa({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:vo,setup(t,{slots:e}){const s=$r(vo(t)),{options:r}=ut(Kr),n=Ze(()=>({[_o(t.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[_o(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&ud(e.default(s));return t.custom?i:ui("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),dd=hd;function fd(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function pd(t,e){for(const s in e){const r=e[s],n=t[s];if(typeof r=="string"){if(r!==n)return!1}else if(!rt(n)||n.length!==r.length||r.some((i,o)=>i!==n[o]))return!1}return!0}function yo(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const _o=(t,e,s)=>t??e??s,gd=wa({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const r=ut(Un),n=Ze(()=>t.route||r.value),i=ut(mo,0),o=Ze(()=>{let u=hs(i);const{matched:c}=n.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=Ze(()=>n.value.matched[o.value]);fr(mo,Ze(()=>o.value+1)),fr(cd,a),fr(Un,n);const l=Lr();return pr(()=>[l.value,a.value,t.name],([u,c,h],[f,g,_])=>{c&&(c.instances[h]=u,g&&g!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=g.leaveGuards),c.updateGuards.size||(c.updateGuards=g.updateGuards))),u&&c&&(!g||!gs(c,g)||!f)&&(c.enterCallbacks[h]||[]).forEach(b=>b(u))},{flush:"post"}),()=>{const u=n.value,c=t.name,h=a.value,f=h&&h.components[c];if(!f)return wo(s.default,{Component:f,route:u});const g=h.props[c],_=g?g===!0?u.params:typeof g=="function"?g(u):g:null,C=ui(f,te({},_,e,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return wo(s.default,{Component:C,route:u})||C}}});function wo(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const md=gd;function vd(t){const e=sd(t.routes,t),s=t.parseQuery||ad,r=t.stringifyQuery||go,n=t.history,i=ks(),o=ks(),a=ks(),l=wc(Et);let u=Et;is&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=pn.bind(null,y=>""+y),h=pn.bind(null,xh),f=pn.bind(null,zs);function g(y,L){let O,M;return ol(y)?(O=e.getRecordMatcher(y),M=L):M=y,e.addRoute(M,O)}function _(y){const L=e.getRecordMatcher(y);L&&e.removeRoute(L)}function b(){return e.getRoutes().map(y=>y.record)}function C(y){return!!e.getRecordMatcher(y)}function R(y,L){if(L=te({},L||l.value),typeof y=="string"){const p=gn(s,y,L.path),m=e.resolve({path:p.path},L),w=n.createHref(p.fullPath);return te(p,m,{params:f(m.params),hash:zs(p.hash),redirectedFrom:void 0,href:w})}let O;if(y.path!=null)O=te({},y,{path:gn(s,y.path,L.path).path});else{const p=te({},y.params);for(const m in p)p[m]==null&&delete p[m];O=te({},y,{params:h(p)}),L.params=h(L.params)}const M=e.resolve(O,L),ee=y.hash||"";M.params=c(f(M.params));const fe=Rh(r,te({},y,{hash:kh(ee),path:M.path})),d=n.createHref(fe);return te({fullPath:fe,hash:ee,query:r===go?ld(y.query):y.query||{}},M,{redirectedFrom:void 0,href:d})}function I(y){return typeof y=="string"?gn(s,y,l.value.path):te({},y)}function $(y,L){if(u!==y)return ms(8,{from:L,to:y})}function x(y){return ne(y)}function F(y){return x(te(I(y),{replace:!0}))}function oe(y){const L=y.matched[y.matched.length-1];if(L&&L.redirect){const{redirect:O}=L;let M=typeof O=="function"?O(y):O;return typeof M=="string"&&(M=M.includes("?")||M.includes("#")?M=I(M):{path:M},M.params={}),te({query:y.query,hash:y.hash,params:M.path!=null?{}:y.params},M)}}function ne(y,L){const O=u=R(y),M=l.value,ee=y.state,fe=y.force,d=y.replace===!0,p=oe(O);if(p)return ne(te(I(p),{state:typeof p=="object"?te({},ee,p.state):ee,force:fe,replace:d}),L||O);const m=O;m.redirectedFrom=L;let w;return!fe&&Ih(r,M,O)&&(w=ms(16,{to:m,from:M}),nt(M,M,!0,!1)),(w?Promise.resolve(w):X(m,M)).catch(v=>pt(v)?pt(v,2)?v:wt(v):Z(v,m,M)).then(v=>{if(v){if(pt(v,2))return ne(te({replace:d},I(v.to),{state:typeof v.to=="object"?te({},ee,v.to.state):ee,force:fe}),L||m)}else v=D(m,M,!0,d,ee);return le(m,M,v),v})}function Ee(y,L){const O=$(y,L);return O?Promise.reject(O):Promise.resolve()}function V(y){const L=Qt.values().next().value;return L&&typeof L.runWithContext=="function"?L.runWithContext(y):y()}function X(y,L){let O;const[M,ee,fe]=yd(y,L);O=mn(M.reverse(),"beforeRouteLeave",y,L);for(const p of M)p.leaveGuards.forEach(m=>{O.push(xt(m,y,L))});const d=Ee.bind(null,y,L);return O.push(d),Ke(O).then(()=>{O=[];for(const p of i.list())O.push(xt(p,y,L));return O.push(d),Ke(O)}).then(()=>{O=mn(ee,"beforeRouteUpdate",y,L);for(const p of ee)p.updateGuards.forEach(m=>{O.push(xt(m,y,L))});return O.push(d),Ke(O)}).then(()=>{O=[];for(const p of fe)if(p.beforeEnter)if(rt(p.beforeEnter))for(const m of p.beforeEnter)O.push(xt(m,y,L));else O.push(xt(p.beforeEnter,y,L));return O.push(d),Ke(O)}).then(()=>(y.matched.forEach(p=>p.enterCallbacks={}),O=mn(fe,"beforeRouteEnter",y,L,V),O.push(d),Ke(O))).then(()=>{O=[];for(const p of o.list())O.push(xt(p,y,L));return O.push(d),Ke(O)}).catch(p=>pt(p,8)?p:Promise.reject(p))}function le(y,L,O){a.list().forEach(M=>V(()=>M(y,L,O)))}function D(y,L,O,M,ee){const fe=$(y,L);if(fe)return fe;const d=L===Et,p=is?history.state:{};O&&(M||d?n.replace(y.fullPath,te({scroll:d&&p&&p.scroll},ee)):n.push(y.fullPath,ee)),l.value=y,nt(y,L,O,d),wt()}let Q;function ye(){Q||(Q=n.listen((y,L,O)=>{if(!sr.listening)return;const M=R(y),ee=oe(M);if(ee){ne(te(ee,{replace:!0,force:!0}),M).catch(Ms);return}u=M;const fe=l.value;is&&Bh(io(fe.fullPath,O.delta),Vr()),X(M,fe).catch(d=>pt(d,12)?d:pt(d,2)?(ne(te(I(d.to),{force:!0}),M).then(p=>{pt(p,20)&&!O.delta&&O.type===Xs.pop&&n.go(-1,!1)}).catch(Ms),Promise.reject()):(O.delta&&n.go(-O.delta,!1),Z(d,M,fe))).then(d=>{d=d||D(M,fe,!1),d&&(O.delta&&!pt(d,8)?n.go(-O.delta,!1):O.type===Xs.pop&&pt(d,20)&&n.go(-1,!1)),le(M,fe,d)}).catch(Ms)}))}let Me=ks(),ge=ks(),ie;function Z(y,L,O){wt(y);const M=ge.list();return M.length?M.forEach(ee=>ee(y,L,O)):console.error(y),Promise.reject(y)}function ht(){return ie&&l.value!==Et?Promise.resolve():new Promise((y,L)=>{Me.add([y,L])})}function wt(y){return ie||(ie=!y,ye(),Me.list().forEach(([L,O])=>y?O(y):L()),Me.reset()),y}function nt(y,L,O,M){const{scrollBehavior:ee}=t;if(!is||!ee)return Promise.resolve();const fe=!O&&Fh(io(y.fullPath,0))||(M||!O)&&history.state&&history.state.scroll||null;return ca().then(()=>ee(y,L,fe)).then(d=>d&&Nh(d)).catch(d=>Z(d,y,L))}const Oe=y=>n.go(y);let Yt;const Qt=new Set,sr={currentRoute:l,listening:!0,addRoute:g,removeRoute:_,clearRoutes:e.clearRoutes,hasRoute:C,getRoutes:b,resolve:R,options:t,push:x,replace:F,go:Oe,back:()=>Oe(-1),forward:()=>Oe(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ge.add,isReady:ht,install(y){const L=this;y.component("RouterLink",dd),y.component("RouterView",md),y.config.globalProperties.$router=L,Object.defineProperty(y.config.globalProperties,"$route",{enumerable:!0,get:()=>hs(l)}),is&&!Yt&&l.value===Et&&(Yt=!0,x(n.location).catch(ee=>{}));const O={};for(const ee in Et)Object.defineProperty(O,ee,{get:()=>l.value[ee],enumerable:!0});y.provide(Kr,L),y.provide(ul,na(O)),y.provide(Un,l);const M=y.unmount;Qt.add(y),y.unmount=function(){Qt.delete(y),Qt.size<1&&(u=Et,Q&&Q(),Q=null,l.value=Et,Yt=!1,ie=!1),M()}}};function Ke(y){return y.reduce((L,O)=>L.then(()=>V(O)),Promise.resolve())}return sr}function yd(t,e){const s=[],r=[],n=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>gs(u,a))?r.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(u=>gs(u,l))||n.push(l))}return[s,r,n]}function hl(){return ut(Kr)}const _s=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},_d={name:"App",mounted(){typeof chrome<"u"&&chrome.runtime&&chrome.runtime.id?chrome.runtime.sendMessage({action:"check-auth"},e=>{e&&e.authenticated?(console.log("Already authenticated in Chrome extension",e.user),localStorage.setItem("isAuthenticated","true")):(console.log("Not authenticated in Chrome extension"),this.$route.path!=="/auth"&&this.$route.path!=="/callback"&&this.$route.path!=="/verify-email"&&(localStorage.removeItem("isAuthenticated"),this.$router.push("/auth")))}):localStorage.getItem("isAuthenticated")==="true"?fetch("http://localhost:3000/auth/user",{method:"GET",credentials:"include"}).then(s=>s.json()).then(s=>{s.user?console.log("Already authenticated in web app",s.user):(console.log("Session expired in web app"),localStorage.removeItem("isAuthenticated"),this.$route.path!=="/auth"&&this.$route.path!=="/callback"&&this.$route.path!=="/verify-email"&&this.$router.push("/auth"))}).catch(s=>{console.error("Error checking auth state:",s),localStorage.removeItem("isAuthenticated"),this.$route.path!=="/auth"&&this.$route.path!=="/callback"&&this.$route.path!=="/verify-email"&&this.$router.push("/auth")}):this.$route.path!=="/auth"&&this.$route.path!=="/callback"&&this.$route.path!=="/verify-email"&&this.$router.push("/auth")}},wd={class:"app"};function bd(t,e,s,r,n,i){const o=Br("router-view");return J(),z("div",wd,[ve(o,null,{default:br(({Component:a})=>[ve(Nu,{name:"fade",mode:"out-in"},{default:br(()=>[(J(),Ka(Vc(a)))]),_:2},1024)]),_:1})])}const Ed=_s(_d,[["render",bd]]),Ad="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAADe5JREFUeJztnX1wXNV5xp/33l3JyNauZNcEZGwMCR9JSprAQArJTEknLRASiEMW8BgbeXe1knGUNgw15dMSFOMCGcgHlrXeXQuckIBa7HzQEvMHEzohk3bSJuWjEBJi4mBIbUt7r+Qvae99+ofk4qoGe+85995d6f7+1d7nOePz+nyf9wAREREREREREREREREREREREREREREREdMZCbsAEd7JdA1/DK5cC8qYG6/kN2+Yt7NajSgA6pD23Og5Man0kvJ5vFOHu8WtnFsozPt9NVox/cWL8Itczj7bAdcCztWkGFP+PJ8SSwO4qxrNKADqgFyu/H6XcqcDLgNgvusPBQ3VakcBUMPkckOLHBh3OJDrIYgf4+ekuIPVekQBcBRW5srnCowUgCFxWCwWk0NB+qfT+9oQq9zqAB3A8f6vlidL/a2/rNYrGgT+Hyjp3MhNAt6Ld5ra150x97yBgday3+5dXSMnjrvu3wrYRcgJVXzqwjD+pLix+cVqPaMWYJLly9+e3XCCXQRwzZQ/nR5rlKsB5P3yXrHanhcbx03jrtsNYDar/H9J4vGSh8oHogAAMDHIcmA8CfAjR/0Bpc0f36GkI+aNGOdfA0h4lHEQk16vZZjxAdDRYV3iAI8BnBuU5/Llb89uaJr1JYdyM4hWJTHBllJf4lWvn8/gAKBkOq01LnEP3mtqpZHubjYeGLOuJ6UXxEkaJMdp8G4VgRkZADfc8N9zDlVGSqCkgvBLpdiQnGu17z9krwX0dSeEbC71JV9X0ZhxAZDJWB84VOFWgH/st1cux3hF7KVCey0pp2uWH3MN515VkRkVAOkO6zIIvg2IWr97DHp6aOzcZV3lwF4nxAd8sskPbGzdoSoyQwJgor8HsQ7A1DV0bRyu+J277LsBOcsvHwAHx434eh1C0z4A0undzRKzBkD5glcNyrEm5pRsp3XVzl12DyAf9upz/AXChkc3Nr2pQ2paB0BHh32mK9wK4ENKQpT3vdufMp3250D7LlI+quRx/IzGTePvdYlN26Xgjg77s67wWwCSGuSGxeV5hULLb9/Rty5xgbsguECD/nFDyPpSPnGLLr1pGACUbM6+nUAP9Pb3e0ApwnCHQbkSwIUatY8XGw5O07k5Na0CYKK/jw8A3vv7WkaA3kI+2aNTc9qMAdo7rTOE2AbV/r52KcdNfk23qG9ToiDJ5KzLTeJfMX0rHyDv6+trGdYtW+cBQMl0lm8G8H0ALWGXxkf20Bn/ph/CddsFpNO7m4249QgpS8Iui98IZH2xNH/ED+26DIDD83tyGjf57/C2gdE+v8TrrguYnN9P7/7+CChYl8+37fdLv44CYKK/d4Xfg57FnXpg10hTouCnQV10Acu69yZmHbIewcRNmBmDCHsHH5QDfnrUfACkV9lnySFuBfDBsMsSMG9YQ8kBv01qugvIdNqfE4c/w8yrfJDSMzgoY3771GgATM7vyW2YOf39kby2aEHzt4Iwqrm9gGXdexOzDsYeheDKsMsSIsuK+eRjQRjV1Bggl7PPrhziVgjODrssIfLSwrbEd4Myq5kuIN1hX+GAPxPM6MoHybU9PeIG5Rd6C5BK0Uy0jNwD4RrUYJcUJAK+sHBBcmuwniGSyVhzYeI7AP4yzHLUDCJXFPsTPwjUMkizI8lmhz5Cw9wKQPd5+fpE8PNif+J8QBikbShjgGxn+Roa5vOIKv9/MVzcFnTlAwG3AKkUzcRcaz0oNwXpWwf8tJhPXhSGcWCDwBWr7XkN4/Z3Sfl0UJ71g2wLyzmQAOjoGP6oO86tBBYH4Vd3EIFdTZ+K711AttNaSqIAoMlvrzpmrwl+PJ9v+U3Qxr4GQLqz3CWUDX77TBMsgIOgsfe9fkTD3dFo4HFdB0R9q5hMh/VXEDzop8cMZocJOT+fT+xRFfJlGpjNlVdB8BCiyveLxQ6Q1iGkfRCY7ih/mpCv69adwhiA3wF4A8SoCGYDAIE2AGcAx0yqWP+InmPwWgNg8rTuE7p1BTxAyrMUPEMxtp968pxX3m3DJJViw+zWfWeZqFwESArAxQgoB1CAOBCn6qygR0NbE93dzcYDh6x/I+QcXZoA3hLwYQNGv9f+buXKkfkSZzvAmwQ4UWPZQoOQNaV84n4dWtoCINNprwOp69ryfkJ6Roabv6brWNREIsim1QBvRX2fMnq8mE8s1bVsrCUAMl3WBXDxE+hp+reLy64j7+LrpL1reLHpGlsAfNIPfX+R/xw7sP+iLVtO2qdLUcMsgCIu+qCj8oUPLGxLXOZX5QPAwMbWHfZw4mJIdXn1a4Ahmu4SnZUPaGgBsp3la0hRPcLkCNhdyLf4dgXqaGRz1moC30DtT1cdgp8p5Vu26xZWagFyOcZJUcpUCQBhVD4AFPLJh0HJAgh8G7YqhLf5UfmAYgBUxF6KiXm3Zwh+NYzKP0xxU6IEUMuI2h9ksNifvM8vdaUAEGCVkjvxzKK25BolDQ0sbEveBsizYZfj/8MXG2MH034eFPHc9008WWb8u4L3fpo8p9TXopTrVhcruvYviLvjrwITq4o1wDAcXFAsJn/tp4nnFkAcI6dmLb21UvkA8OjGpjcF0JZ/TxGXxDK/Kx/wHAAUCq5Q8H3LHm5+SOF7X7BmJx4AUPXji7oheEdpU/Kfg/DyFADZrHUuJjZePCHgw0FcfKyWwQflAMGN4ZaC20r5pHIW8OPFUwBQ5HIFz4MGjH6F7/2lEh8AUAnJ/aXG2NjyIE8Hex0DqCyjPqvjIINflEqzd1HwdAjWZUewZMOGE0eDNPUWAIKPeTUk4MuChk4M4pmALV0A1w30J18L2Lf6AFjRtX8BgD/yamjSCPoft2pc4fOBGgrWFvPJpwL1nKTqAIhzXGW/f7xcnvOKwveBsOjk5C8A+JaZ60hEuLXYn7gnCK+jUX0X4Co9evS7wUFxFL4PhJ4eqQDQ8iDDMXjVoLsyjCthh6k+AMR78w9gh8K3QeP3QNWiKVfm83Mtn33ek6oDgHBVjlUF0qzqgIL3PJ+vLC9uWuXBR11UHQACUbnh06jwbaCIC9+6KgK9hf7WJ/3Sr4bqA4AqiyRSP8e1Rby+5Xssvr+oLaF8hkIXHroAjHu3o47nUgPCna9bkcArBxsry4PMAXQsqg8AUVrDP6O7mzXfDaRSNAHR/eCjHYMs+fY35tmadZXwsBLIPyj4xQ4cGPbzQUUtJJOjZwKYpVGSIrIin0/U3BpI9QFAeUPN0fiE0vdBYDgXa9UT3F3oT3xPq6Ymqh8Ems4OFUNXjC+qfB8EhFyqTUvww4UnJ3p16emm6gAwXb6Oic0LTwj5Z11dIzV7RWvFanseAF0B8KsYnetqadA3laoDYHLl6r8UPM1xOisVvveVWAXXA2jQIDXiirEk7JW+Y+FxO1jUdssof5NO725W0vCB7m42GnRv1CBFgJnN/c0va9DyFW8BQPxE0XeeEYuvVtTQzv6DI92ELNAgta6Yb9FyfdtvPAWAuMbTgNpSKSG3ZLPl01Q0dJLN7j0FwrXKQsQ/LWxL3KmhSIHgKQAKhTl/oMiPFb0TFNkysegSLj09NCixEoA5ilKvOePusloe9E3F870AA+7jyu6CTyRa7B5lHUV2vmn3QvAXijKjBo0lAwOtZS2FCgjPAcCK/AN0bO8Kbs/mrC8r63gkk7OzENyuKEOS7Zs2Nb+kpVAB4jkAisXkEIHNOgpB4KF0R7lDh1Y1THhquAcgsr60qeUfNRQpcJQuh8bAB6E4GJxERKQ/nSs/0NND39PXplI0Mx3W3SKSh3oCqaftoeY7dJQrDJQTI2Ry1ncAXKuhLAAAAX8M17muUJj3e12aR5LN7j3FNeOPCPnnGuR+02DyfD+edQ8K5QBo7xpeHHPlZUJO0FGgSfYRuD+Gfffreje3vZ2zjIaRbgHvhPpoHwD2OTAvHMjPeUGDVmhoSY2SzVk9BNTn0FMQ8E0AfWNGw8CjG5s8ndKdSFOPdoI3QuE+4xRI8trSppYnNOmFhpYAyOV2NTmY/SIAvxZ2HBA/ArAdJn5quon/yOflqCeTUimayeTomRT3UxBcCuAS6FnbPwLeV8y33KxXMxy0JUdKd9oXCvkcgnmD4CCAnRDsBbEXgEOROUKeBOD98Pfw6XZ7OPGZerjfcDxozY6VzpVvFUhot1wCQFuW7lpBa7bwRW3J9RT8SKdmDbGP4n5+OlU+4EN+vHR6d7PEG54FcZ5u7RBxSS6dDoO+qWh/L6BUmj/ijhmXAfiVbu2QIIWrp2PlAz49GLF5c/NucXkpAN+THPkMKbyh1N8SctoY//A1RWo2O/o+ms5TddodjIlIV6E/oWW/o1bxPUduOr27WWINT0DfQcsg2AMxrir2Nz8XdkH8xvenY0ul+SML2xKXC3gLwku+dPwIfk6TH58JlQ8EnCU7m7X+lAYeg38rhiqMCfB3p7Ql7p1MEDEjCDxNeuorPKF5n71GgDWokcckCTwPcW8o9bf+MuyyBE1oefIzmeFTYRrrAFyD8B51ehmQ24r5RGhv94ZN6A8lZLPl0yDyFQrSCCpRs+BfBOizhhJPTJc1fa+EHgCHWbWq3DrmGFeBvBqCT0H/ptIbEGwzXGNTPZ7d84uaCYAjWblyZL7Z4F5C4iIBP0nIh1H9jOUtAL8Q8LkKYk/V+8ENv6jJAJhKOr27GfHY6XDNUw3hYhdyshAiwkYX0mTAtVwx3ga4By53GYy9UCjMUcljEBERERERERERERERERERERERERERERERMS34H5qoukmgbn24AAAAAElFTkSuQmCC";const Sd={name:"Logo",props:{showText:{type:Boolean,default:!0}}},kd={class:"logo"},Td={key:0};function Cd(t,e,s,r,n,i){const o=Br("router-link");return J(),z("div",kd,[ve(o,{to:"/",class:"logo-link"},{default:br(()=>[e[0]||(e[0]=S("img",{src:Ad,alt:"Comet Logo",width:"40",height:"40",class:"logo-image"},null,-1)),s.showText?(J(),z("span",Td,"Comet")):we("",!0)]),_:1})])}const dl=_s(Sd,[["render",Cd],["__scopeId","data-v-cf06c200"]]),xd="modulepreload",Pd=function(t){return"/"+t},bo={},vs=function(e,s,r){if(!s||s.length===0)return e();const n=document.getElementsByTagName("link");return Promise.all(s.map(i=>{if(i=Pd(i),i in bo)return;bo[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=n.length-1;c>=0;c--){const h=n[c];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":xd,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((c,h)=>{u.addEventListener("load",c),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},Od=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>vs(()=>Promise.resolve().then(()=>ws),void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class di extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class Rd extends di{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Id extends di{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class jd extends di{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Nn;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Nn||(Nn={}));var $d=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Ld{constructor(e,{headers:s={},customFetch:r,region:n=Nn.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=Od(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return $d(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(_=>{throw new Rd(_)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new Id(c);if(!c.ok)throw new jd(c);let f=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield c.json():f==="application/octet-stream"?g=yield c.blob():f==="text/event-stream"?g=c:f==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(n){return{data:null,error:n}}})}}var ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Dd(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var $e={},fi={},Gr={},er={},Jr={},Wr={},Md=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ys=Md();const Ud=ys.fetch,fl=ys.fetch.bind(ys),pl=ys.Headers,Nd=ys.Request,Bd=ys.Response,ws=Object.freeze(Object.defineProperty({__proto__:null,Headers:pl,Request:Nd,Response:Bd,default:fl,fetch:Ud},Symbol.toStringTag,{value:"Module"})),Fd=Dd(ws);var zr={};Object.defineProperty(zr,"__esModule",{value:!0});let Hd=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};zr.default=Hd;var gl=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wr,"__esModule",{value:!0});const qd=gl(Fd),Vd=gl(zr);let Kd=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=qd.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=Object.assign({},this.headers),this.headers[e]=s,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,h=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const R=await i.text();R===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=R:c=JSON.parse(R))}const b=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),C=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");b&&C&&C.length>1&&(h=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,f=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const b=await i.text();try{u=JSON.parse(b),Array.isArray(u)&&i.status===404&&(c=[],u=null,f=200,g="OK")}catch{i.status===404&&b===""?(f=204,g="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new Vd.default(u)}return{error:u,data:c,count:h,status:f,statusText:g}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,s)}returns(){return this}overrideTypes(){return this}};Wr.default=Kd;var Gd=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jr,"__esModule",{value:!0});const Jd=Gd(Wr);let Wd=class extends Jd.default{select(e){let s=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Jr.default=Wd;var zd=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(er,"__esModule",{value:!0});const Xd=zd(Jr);let Yd=class extends Xd.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}};er.default=Yd;var Qd=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gr,"__esModule",{value:!0});const Ts=Qd(er);let Zd=class{constructor(e,{headers:s={},schema:r,fetch:n}){this.url=e,this.headers=s,this.schema=r,this.fetch=n}select(e,{head:s=!1,count:r}={}){const n=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Ts.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:r=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ts.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ts.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const r="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),s&&n.push(`count=${s}`),this.headers.Prefer=n.join(","),new Ts.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ts.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Gr.default=Zd;var Xr={},Yr={};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.version=void 0;Yr.version="0.0.0-automated";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.DEFAULT_HEADERS=void 0;const ef=Yr;Xr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ef.version}`};var ml=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fi,"__esModule",{value:!0});const tf=ml(Gr),sf=ml(er),rf=Xr;let nf=class vl{constructor(e,{headers:s={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},rf.DEFAULT_HEADERS),s),this.schemaName=r,this.fetch=n}from(e){const s=new URL(`${this.url}/${e}`);return new tf.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new vl(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:n=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||n?(o=r?"HEAD":"GET",Object.entries(s).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{a.searchParams.append(c,h)})):(o="POST",l=s);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new sf.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};fi.default=nf;var bs=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($e,"__esModule",{value:!0});$e.PostgrestError=$e.PostgrestBuilder=$e.PostgrestTransformBuilder=$e.PostgrestFilterBuilder=$e.PostgrestQueryBuilder=$e.PostgrestClient=void 0;const yl=bs(fi);$e.PostgrestClient=yl.default;const _l=bs(Gr);$e.PostgrestQueryBuilder=_l.default;const wl=bs(er);$e.PostgrestFilterBuilder=wl.default;const bl=bs(Jr);$e.PostgrestTransformBuilder=bl.default;const El=bs(Wr);$e.PostgrestBuilder=El.default;const Al=bs(zr);$e.PostgrestError=Al.default;var of=$e.default={PostgrestClient:yl.default,PostgrestQueryBuilder:_l.default,PostgrestFilterBuilder:wl.default,PostgrestTransformBuilder:bl.default,PostgrestBuilder:El.default,PostgrestError:Al.default};const{PostgrestClient:af,PostgrestQueryBuilder:vm,PostgrestFilterBuilder:ym,PostgrestTransformBuilder:_m,PostgrestBuilder:wm,PostgrestError:bm}=of,lf="2.11.2",cf={"X-Client-Info":`realtime-js/${lf}`},uf="1.0.0",Sl=1e4,hf=1e3;var ps;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ps||(ps={}));var He;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(He||(He={}));var Ye;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ye||(Ye={}));var Bn;(function(t){t.websocket="websocket"})(Bn||(Bn={}));var Jt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Jt||(Jt={}));class df{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class kl{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ue;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ue||(ue={}));const Eo=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=ff(o,t,e,n),i),{})},ff=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?Tl(i,o):Fn(o)},Tl=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return vf(e,s)}switch(t){case ue.bool:return pf(e);case ue.float4:case ue.float8:case ue.int2:case ue.int4:case ue.int8:case ue.numeric:case ue.oid:return gf(e);case ue.json:case ue.jsonb:return mf(e);case ue.timestamp:return yf(e);case ue.abstime:case ue.date:case ue.daterange:case ue.int4range:case ue.int8range:case ue.money:case ue.reltime:case ue.text:case ue.time:case ue.timestamptz:case ue.timetz:case ue.tsrange:case ue.tstzrange:return Fn(e);default:return Fn(e)}},Fn=t=>t,pf=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},gf=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},mf=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},vf=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Tl(e,a))}return t},yf=t=>typeof t=="string"?t.replace(" ","T"):t,Cl=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class vn{constructor(e,s,r={},n=Sl){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ao;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ao||(Ao={}));class Ns{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ns.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Ns.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Ns.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const f=c.map(C=>C.presence_ref),g=h.map(C=>C.presence_ref),_=c.filter(C=>g.indexOf(C.presence_ref)<0),b=h.filter(C=>f.indexOf(C.presence_ref)<0);_.length>0&&(a[u]=_),b.length>0&&(l[u]=b)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(g=>g.presence_ref),f=c.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...f)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var So;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(So||(So={}));var ko;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ko||(ko={}));var mt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(mt||(mt={}));class pi{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=He.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new vn(this,Ye.join,this.params,this.timeout),this.rejoinTimer=new kl(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=He.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=He.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ye.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Ns(this),this.broadcastEndpointURL=Cl(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(mt.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(mt.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){e==null||e(mt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,g=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,_=[];for(let b=0;b<g;b++){const C=f[b],{filter:{event:R,schema:I,table:$,filter:x}}=C,F=c&&c[b];if(F&&F.event===R&&F.schema===I&&F.table===$&&F.filter===x)_.push(Object.assign(Object.assign({},C),{id:F.id}));else{this.unsubscribe(),e==null||e(mt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(mt.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(mt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(mt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=He.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ye.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new vn(this,Ye.leave,{},e);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new vn(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ye;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,s,r);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var _,b,C;return((_=g.filter)===null||_===void 0?void 0:_.event)==="*"||((C=(b=g.filter)===null||b===void 0?void 0:b.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(g=>g.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var _,b,C,R,I,$;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const x=g.id,F=(_=g.filter)===null||_===void 0?void 0:_.event;return x&&((b=s.ids)===null||b===void 0?void 0:b.includes(x))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((C=s.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const x=(I=(R=g==null?void 0:g.filter)===null||R===void 0?void 0:R.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return x==="*"||x===(($=s==null?void 0:s.event)===null||$===void 0?void 0:$.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const _=f.data,{schema:b,table:C,commit_timestamp:R,type:I,errors:$}=_;f=Object.assign(Object.assign({},{schema:b,table:C,commit_timestamp:R,eventType:I,new:{},old:{},errors:$}),this._getPayloadRecords(_))}g.callback(f,r)})}_isClosed(){return this.state===He.closed}_isJoined(){return this.state===He.joined}_isJoining(){return this.state===He.joining}_isLeaving(){return this.state===He.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&pi.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ye.close,{},e)}_onError(e){this._on(Ye.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=He.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Eo(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Eo(e.columns,e.old_record)),s}}const _f=()=>{},wf=typeof WebSocket<"u",bf=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ef{constructor(e,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=cf,this.params={},this.timeout=Sl,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=_f,this.conn=null,this.sendBuffer=[],this.serializer=new df,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>vs(()=>Promise.resolve().then(()=>ws),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Bn.websocket}`,this.httpEndpoint=Cl(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new kl(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(wf){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Af(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),vs(()=>import("./browser-444d7b48.js").then(e=>e.b),[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:uf}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ps.connecting:return Jt.Connecting;case ps.open:return Jt.Open;case ps.closing:return Jt.Closing;default:return Jt.Closed}}isConnected(){return this.connectionState()===Jt.Open}channel(e,s={config:{}}){const r=new pi(`realtime:${e}`,s,this);return this.channels.push(r),r}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let r=null;try{r=JSON.parse(atob(s.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s}),n.joinedOnce&&n._isJoined()&&n._push(Ye.access_token,{access_token:s})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(hf,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ye.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([bf],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class Af{constructor(e,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ps.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class gi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function _e(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Sf extends gi{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Hn extends gi{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var kf=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const xl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>vs(()=>Promise.resolve().then(()=>ws),void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Tf=()=>kf(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield vs(()=>Promise.resolve().then(()=>ws),void 0)).Response:Response}),qn=t=>{if(Array.isArray(t))return t.map(s=>qn(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=qn(r)}),e};var Xt=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const yn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Cf=(t,e,s)=>Xt(void 0,void 0,void 0,function*(){const r=yield Tf();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{e(new Sf(yn(n),t.status||500))}).catch(n=>{e(new Hn(yn(n),n))}):e(new Hn(yn(t),t))}),xf=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function tr(t,e,s,r,n,i){return Xt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,xf(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Cf(l,a,r))})})}function Cr(t,e,s,r){return Xt(this,void 0,void 0,function*(){return tr(t,"GET",e,s,r)})}function Pt(t,e,s,r,n){return Xt(this,void 0,void 0,function*(){return tr(t,"POST",e,r,n,s)})}function Pf(t,e,s,r,n){return Xt(this,void 0,void 0,function*(){return tr(t,"PUT",e,r,n,s)})}function Of(t,e,s,r){return Xt(this,void 0,void 0,function*(){return tr(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Pl(t,e,s,r,n){return Xt(this,void 0,void 0,function*(){return tr(t,"DELETE",e,r,n,s)})}var Re=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Rf={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},To={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class If{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=xl(n)}uploadOrUpdate(e,s,r,n){return Re(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},To),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(_e(i))return{data:null,error:i};throw i}})}upload(e,s,r){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return Re(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:To.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(_e(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return Re(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield Pt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new gi("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}update(e,s,r){return Re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return Re(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}copy(e,s,r){return Re(this,void 0,void 0,function*(){try{return{data:{path:(yield Pt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return Re(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield Pt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return Re(this,void 0,void 0,function*(){try{const n=yield Pt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}download(e,s){return Re(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Cr(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(_e(a))return{data:null,error:a};throw a}})}info(e){return Re(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield Cr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:qn(r),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}exists(e){return Re(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Of(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(_e(r)&&r instanceof Hn){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return Re(this,void 0,void 0,function*(){try{return{data:yield Pl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}list(e,s,r){return Re(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Rf),s),{prefix:e||""});return{data:yield Pt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const jf="2.7.1",$f={"X-Client-Info":`storage-js/${jf}`};var es=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Lf{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},$f),s),this.fetch=xl(r)}listBuckets(){return es(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(_e(e))return{data:null,error:e};throw e}})}getBucket(e){return es(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return es(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return es(this,void 0,void 0,function*(){try{return{data:yield Pf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}emptyBucket(e){return es(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}deleteBucket(e){return es(this,void 0,void 0,function*(){try{return{data:yield Pl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}}class Df extends Lf{constructor(e,s={},r){super(e,s,r)}from(e){return new If(this.url,this.headers,e,this.fetch)}}const Mf="2.49.4";let Os="";typeof Deno<"u"?Os="deno":typeof document<"u"?Os="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Os="react-native":Os="node";const Uf={"X-Client-Info":`supabase-js-${Os}/${Mf}`},Nf={headers:Uf},Bf={schema:"public"},Ff={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hf={};var qf=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Vf=t=>{let e;return t?e=t:typeof fetch>"u"?e=fl:e=fetch,(...s)=>e(...s)},Kf=()=>typeof Headers>"u"?pl:Headers,Gf=(t,e,s)=>{const r=Vf(s),n=Kf();return(i,o)=>qf(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Jf=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function Wf(t){return t.replace(/\/$/,"")}function zf(t,e){const{db:s,auth:r,realtime:n,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},u),i),accessToken:()=>Jf(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const Ol="2.69.1",os=30*1e3,Vn=3,_n=Vn*os,Xf="http://localhost:9999",Yf="supabase.auth.token",Qf={"X-Client-Info":`gotrue-js/${Ol}`},Kn="X-Supabase-Api-Version",Rl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Zf=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ep=6e5;class mi extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function K(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class tp extends mi{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function sp(t){return K(t)&&t.name==="AuthApiError"}class Il extends mi{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Ut extends mi{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class At extends Ut{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function rp(t){return K(t)&&t.name==="AuthSessionMissingError"}class wn extends Ut{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ar extends Ut{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class lr extends Ut{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function np(t){return K(t)&&t.name==="AuthImplicitGrantRedirectError"}class Co extends Ut{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gn extends Ut{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function bn(t){return K(t)&&t.name==="AuthRetryableFetchError"}class xo extends Ut{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Bs extends Ut{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Po="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Oo=` 	
\r=`.split(""),ip=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Oo.length;e+=1)t[Oo[e].charCodeAt(0)]=-2;for(let e=0;e<Po.length;e+=1)t[Po[e].charCodeAt(0)]=e;return t})();function jl(t,e,s){const r=ip[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ro(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{lp(o,r,s)};for(let o=0;o<t.length;o+=1)jl(t.charCodeAt(o),n,i);return e.join("")}function op(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function ap(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}op(r,e)}}function lp(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function cp(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)jl(t.charCodeAt(n),s,r);return new Uint8Array(e)}function up(t){const e=[];return ap(t,s=>e.push(s)),new Uint8Array(e)}function hp(t){return Math.round(Date.now()/1e3)+t}function dp(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const at=()=>typeof window<"u"&&typeof document<"u",qt={tested:!1,writable:!1},Fs=()=>{if(!at())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qt.tested)return qt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),qt.tested=!0,qt.writable=!0}catch{qt.tested=!0,qt.writable=!1}return qt.writable};function fp(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const $l=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>vs(()=>Promise.resolve().then(()=>ws),void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},pp=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ll=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},cr=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ur=async(t,e)=>{await t.removeItem(e)};class Qr{constructor(){this.promise=new Qr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Qr.promiseConstructor=Promise;function En(t){const e=t.split(".");if(e.length!==3)throw new Bs("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Zf.test(e[r]))throw new Bs("JWT not in base64url format");return{header:JSON.parse(Ro(e[0])),payload:JSON.parse(Ro(e[1])),signature:cp(e[2]),raw:{header:e[0],payload:e[1]}}}async function gp(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function mp(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function vp(t){return("0"+t.toString(16)).substr(-2)}function yp(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,vp).join("")}async function _p(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function wp(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await _p(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ts(t,e,s=!1){const r=yp();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await Ll(t,`${e}-code-verifier`,n);const i=await wp(r);return[i,r===i?"plain":"s256"]}const bp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ep(t){const e=t.headers.get(Kn);if(!e||!e.match(bp))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Ap(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Sp(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var kp=globalThis&&globalThis.__rest||function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const Kt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Tp=[502,503,504];async function Io(t){var e;if(!pp(t))throw new Gn(Kt(t),0);if(Tp.includes(t.status))throw new Gn(Kt(t),t.status);let s;try{s=await t.json()}catch(i){throw new Il(Kt(i),i)}let r;const n=Ep(t);if(n&&n.getTime()>=Rl["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new xo(Kt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new At}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new xo(Kt(s),t.status,s.weak_password.reasons);throw new tp(Kt(s),t.status||500,r)}const Cp=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function G(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[Kn]||(i[Kn]=Rl["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await xp(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function xp(t,e,s,r,n,i){const o=Cp(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Gn(Kt(l),0)}if(a.ok||await Io(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Io(l)}}function St(t){var e;let s=null;Ip(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=hp(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function jo(t){const e=St(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ot(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Pp(t){return{data:t,error:null}}function Op(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=kp(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Rp(t){return t}function Ip(t){return t.access_token&&t.refresh_token&&t.expires_in}var jp=globalThis&&globalThis.__rest||function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class $p{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=$l(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ot})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=jp(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Op,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(K(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ot})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Rp});if(c.error)throw c.error;const h=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(_=>{const b=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(_.split(";")[1].split("=")[1]);u[`${C}Page`]=b}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(K(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await G(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ot})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Ot})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ot})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:s,error:r}=await G(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(K(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}}}const Lp={getItem:t=>Fs()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Fs()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Fs()&&globalThis.localStorage.removeItem(t)}};function $o(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Dp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ss={debug:!!(globalThis&&Fs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Dl extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Mp extends Dl{}async function Up(t,e,s){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ss.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Mp(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ss.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Dp();const Np={url:Xf,storageKey:Yf,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Qf,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Lo(t,e,s){return await s()}class Ys{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ys.nextInstanceID,Ys.nextInstanceID+=1,this.instanceID>0&&at()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Np),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new $p({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=$l(n.fetch),this.lock=n.lock||Lo,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:at()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Up:this.lock=Lo,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Fs()?this.storage=Lp:(this.memoryStorage={},this.storage=$o(this.memoryStorage)):(this.memoryStorage={},this.storage=$o(this.memoryStorage)),at()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ol}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=fp(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),at()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),np(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return K(s)?{error:s}:{error:new Il("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:St}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:h,options:f}=e;let g=null,_=null;this.flowType==="pkce"&&([g,_]=await ts(this.storage,this.storageKey)),i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:_},xform:St})}else if("phone"in e){const{phone:c,password:h,options:f}=e;i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:St})}else throw new ar("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:jo})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:jo})}else throw new ar("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new wn}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await cr(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:St});if(await ur(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new wn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(K(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:St}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new wn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await ts(this.storage,this.storageKey));const{error:h}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new ar("You must provide either an email or phone number.")}catch(a){if(K(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:St});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ts(this.storage,this.storageKey)),await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Pp})}catch(i){if(K(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new At;const{error:n}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(K(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await G(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await G(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ar("You must provide either an email or phone number and a type")}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await cr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<_n:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ot}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new At}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Ot})})}catch(s){if(K(s))return rp(s)&&(await this._removeSession(),await ur(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new At;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await ts(this.storage,this.storageKey));const{data:u,error:c}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ot});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new At;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=En(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(K(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new At;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!at())throw new lr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new lr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Co("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new lr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Co("No code detected.");const{data:I,error:$}=await this._exchangeCodeForSession(e.code);if($)throw $;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new lr("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let f=c+h;l&&(f=parseInt(l));const g=f-c;g*1e3<=os&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const _=f-h;c-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,f,c):c-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,f,c);const{data:b,error:C}=await this._getUser(i);if(C)throw C;const R={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:e.type},error:null}}catch(r){if(K(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await cr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(sp(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await ur(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=dp(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await ts(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(K(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return at()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(K(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(K(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await mp(async n=>(n>0&&await gp(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:St})),(n,i)=>{const o=200*Math.pow(2,n);return i&&bn(i)&&Date.now()+o-r<os})}catch(r){if(this._debug(s,"error",r),K(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),at()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await cr(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<_n;if(this._debug(s,`session has${n?"":" not"} expired with margin of ${_n}s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),bn(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new At;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Qr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new At;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),K(i)){const o={session:null,error:i};return bn(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ll(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ur(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&at()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),os);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/os);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${os}ms, refresh threshold is ${Vn} ticks`),n<=Vn&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Dl)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!at()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await ts(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await G(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(K(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await G(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(K(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(K(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(K(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=En(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+ep>Date.now()))return r;const{data:n,error:i}=await G(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new Bs("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),r=n.keys.find(o=>o.kid===e),!r)throw new Bs("No matching signing key found in JWKS");return r}async getClaims(e,s={keys:[]}){try{let r=e;if(!r){const{data:g,error:_}=await this.getSession();if(_||!g.session)return{data:null,error:_};r=g.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=En(r);if(Ap(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:n,signature:o},error:null}}const u=Sp(n.alg),c=await this.fetchJwk(n.kid,s),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,up(`${a}.${l}`)))throw new Bs("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}}Ys.nextInstanceID=0;const Bp=Ys;class Fp extends Bp{constructor(e){super(e)}}var Hp=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class qp{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Wf(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Bf,realtime:Hf,auth:Object.assign(Object.assign({},Ff),{storageKey:l}),global:Nf},c=zf(r??{},u);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Gf(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new af(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new Ld(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Df(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Hp(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fp({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Ef(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Vp=(t,e,s)=>new qp(t,e,s),Kp="https://fmmujrgphpqrbgnengpq.supabase.co",Gp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZtbXVqcmdwaHBxcmJnbmVuZ3BxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDYzMTQ5OTMsImV4cCI6MjA2MTg5MDk5M30.WxZNmNdaZCBtlq-dlP4e7rlu3zgi0_idp1NgU0nIiCM",Jp={getItem:t=>{const e=document.cookie.split(";");for(let s=0;s<e.length;s++){const r=e[s].trim();if(r.startsWith(t+"="))return r.substring(t.length+1)}return null},setItem:(t,e)=>(document.cookie=`${t}=${e}; path=/; max-age=${60*60*24*7}; SameSite=Lax`,!0),removeItem:t=>(document.cookie=`${t}=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT`,!0)},Wp=Vp(Kp,Gp,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storageKey:"supabase_auth_token",storage:Jp,flowType:"pkce",cookieOptions:{name:"supabase_auth_token",lifetime:60*60*24*7,domain:window.location.hostname,path:"/",sameSite:"lax"}}}),zp=()=>Wp,Rt=Lr(null),hr=Lr(!0);Lr(null);let Ie=null,as=[];const Ml=typeof chrome<"u"&&chrome.runtime&&chrome.runtime.id,Xp=async()=>{hr.value=!0;try{if(Ml)chrome.runtime.sendMessage({action:"check-auth"},t=>{t&&t.authenticated&&t.user?(console.log("Initial session found in extension:",t.user.email),Rt.value=t.user,Ie=t.user,as.forEach(e=>e(Ie))):(console.log("No initial session found in extension"),Rt.value=null,Ie=null),hr.value=!1});else{const e=await(await fetch("http://localhost:3000/auth/user",{credentials:"include"})).json();e.user?(console.log("Initial session found:",e.user.email),Rt.value=e.user,Ie=e.user,as.forEach(s=>s(Ie))):(console.log("No initial session found"),Rt.value=null,Ie=null),hr.value=!1}}catch(t){console.error("Error initializing auth:",t),hr.value=!1}setInterval(async()=>{await Ul()},5*60*1e3)};Xp();const Ul=async()=>{try{if(Ml)return new Promise((t,e)=>{chrome.runtime.sendMessage({action:"check-auth"},s=>{if(chrome.runtime.lastError){console.error("Error checking auth state:",chrome.runtime.lastError),t(null);return}s&&s.authenticated&&s.user?(console.log("User found in extension:",s.user.email),Rt.value=s.user,Ie=s.user,as.forEach(r=>r(Ie)),t(Ie)):(console.log("No user found in extension"),Rt.value=null,Ie=null,as.forEach(r=>r(null)),t(null))})});{const e=await(await fetch("http://localhost:3000/auth/user",{credentials:"include"})).json();return e.user?(Rt.value=e.user,Ie=e.user,as.forEach(s=>s(Ie)),Ie):(Rt.value=null,Ie=null,as.forEach(s=>s(null)),null)}}catch(t){return console.error("Error refreshing user:",t),null}};const Yp={name:"Auth",components:{Logo:dl},data(){return{isLogin:!0,loading:!1,errorMsg:"",successMsg:"",showVerificationDialog:!1,verificationSuccess:!1,verificationError:!1,user:null,form:{name:"",email:"",password:"",confirmPassword:""}}},computed:{passwordsMismatch(){return this.form.password!==this.form.confirmPassword&&this.form.confirmPassword.length>0}},mounted(){new URLSearchParams(window.location.search).get("error")==="verification_failed"&&(this.verificationError=!0,history.replaceState({},document.title,window.location.pathname)),this.checkAuthState()},methods:{async checkAuthState(){try{const e=await(await fetch("http://localhost:3000/auth/user",{method:"GET",credentials:"include"})).json();e.user&&(this.user={id:e.user.id,email:e.user.email,name:e.user.name||""},this.$router.push("/"))}catch(t){console.error("Error checking auth state:",t)}},async handleLogin(){try{typeof chrome<"u"&&chrome.runtime&&chrome.runtime.sendMessage({action:"login",data:{email:this.form.email,password:this.form.password}});const t=await fetch("http://localhost:3000/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:this.form.email,password:this.form.password})}),e=await t.json();if(!t.ok)throw new Error(e.error||"Failed to log in");console.log("Login successful, redirecting to dashboard"),this.user={id:e.user.id,email:e.user.email,name:e.user.name||""},typeof chrome<"u"&&chrome.runtime&&chrome.storage&&chrome.storage.local.set({userName:e.user.name||"",userEmail:e.user.email||""}),this.$router.push("/")}catch(t){throw console.error("Login error:",t),t}},async handleSubmit(){this.loading=!0,this.errorMsg="";try{if(this.isLogin)await this.handleLogin();else{if(this.form.password!==this.form.confirmPassword)throw new Error("Passwords do not match. Please try again.");await this.handleSignup()}}catch(t){this.errorMsg=t.message||"An error occurred during authentication"}finally{this.loading=!1}},async handleSignup(){try{typeof chrome<"u"&&chrome.runtime&&chrome.runtime.sendMessage({action:"signup",data:{email:this.form.email,password:this.form.password,name:this.form.name}});const t=await fetch("http://localhost:3000/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:this.form.email,password:this.form.password,name:this.form.name})}),e=await t.json();if(!t.ok)throw new Error(e.error||"Failed to sign up");e.user?(console.log("Signup successful, redirecting to dashboard"),localStorage.setItem("isAuthenticated","true"),e.user.name&&localStorage.setItem("userName",e.user.name),e.user.email&&localStorage.setItem("userEmail",e.user.email),this.user={id:e.user.id,email:e.user.email,name:e.user.name||""},typeof chrome<"u"&&chrome.runtime&&chrome.storage&&chrome.storage.local.set({isAuthenticated:!0,userName:e.user.name||"",userEmail:e.user.email||""},function(){console.log("Authentication state and user data saved in chrome.storage")}),setTimeout(()=>{this.$router.push("/")},100)):e.requiresEmailConfirmation?(this.showVerificationDialog=!0,this.form={name:"",email:this.form.email,password:"",confirmPassword:""}):(this.successMsg="Account created successfully",this.form={name:"",email:"",password:"",confirmPassword:""})}catch(t){throw console.error("Signup error:",t),t}}}},Qp={class:"auth-bg"},Zp={class:"auth-card"},eg={class:"auth-header"},tg={class:"auth-tabs"},sg={key:0,class:"message-box success"},rg={key:1,class:"message-box error"},ng={key:2,class:"message-box error"},ig={class:"message-content"},og={key:3,class:"verification-dialog"},ag={class:"verification-content"},lg={key:0,class:"form-group"},cg={class:"form-group"},ug={class:"form-group"},hg={key:1,class:"form-group"},dg={key:0,class:"password-mismatch"},fg=["disabled"];function pg(t,e,s,r,n,i){const o=Br("Logo");return J(),z("div",Qp,[S("div",Zp,[S("div",eg,[ve(o)]),S("div",tg,[S("button",{class:Qe(["tab-btn",{active:n.isLogin}]),onClick:e[0]||(e[0]=a=>n.isLogin=!0)},"Log in",2),S("button",{class:Qe(["tab-btn",{active:!n.isLogin}]),onClick:e[1]||(e[1]=a=>n.isLogin=!1)},"Sign up",2)]),n.verificationSuccess?(J(),z("div",sg,[e[10]||(e[10]=S("div",{class:"message-icon"},"✓",-1)),e[11]||(e[11]=S("div",{class:"message-content"},[S("h3",null,"Email Verified!"),S("p",null,"Your email has been successfully verified. You can now log in.")],-1)),S("button",{class:"close-btn",onClick:e[2]||(e[2]=a=>n.verificationSuccess=!1)},"×")])):we("",!0),n.verificationError?(J(),z("div",rg,[e[12]||(e[12]=S("div",{class:"message-icon"},"!",-1)),e[13]||(e[13]=S("div",{class:"message-content"},[S("h3",null,"Verification Failed"),S("p",null,"There was a problem verifying your email. Please try again.")],-1)),S("button",{class:"close-btn",onClick:e[3]||(e[3]=a=>n.verificationError=!1)},"×")])):we("",!0),n.errorMsg?(J(),z("div",ng,[e[15]||(e[15]=S("div",{class:"message-icon"},"!",-1)),S("div",ig,[e[14]||(e[14]=S("h3",null,"Error",-1)),S("p",null,xe(n.errorMsg),1)]),S("button",{class:"close-btn",onClick:e[4]||(e[4]=a=>n.errorMsg="")},"×")])):we("",!0),n.showVerificationDialog?(J(),z("div",og,[S("div",ag,[e[18]||(e[18]=S("div",{class:"verification-icon"},"✉️",-1)),e[19]||(e[19]=S("h2",null,"Verify Your Email",-1)),S("p",null,[e[16]||(e[16]=kr("We've sent a verification email to ")),S("strong",null,xe(n.form.email),1),e[17]||(e[17]=kr("."))]),e[20]||(e[20]=S("p",null,"Please check your inbox and click the verification link to complete your registration.",-1)),e[21]||(e[21]=S("p",{class:"verification-note"},"If you don't see the email, check your spam folder.",-1))])])):we("",!0),n.showVerificationDialog?we("",!0):(J(),z("form",{key:4,onSubmit:e[9]||(e[9]=Ya((...a)=>i.handleSubmit&&i.handleSubmit(...a),["prevent"])),class:"auth-form"},[n.isLogin?we("",!0):(J(),z("div",lg,[e[22]||(e[22]=S("label",null,"Full Name",-1)),Cs(S("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=a=>n.form.name=a),class:"input",placeholder:"John Doe",required:""},null,512),[[Ps,n.form.name]])])),S("div",cg,[e[23]||(e[23]=S("label",null,"Email",-1)),Cs(S("input",{type:"email","onUpdate:modelValue":e[6]||(e[6]=a=>n.form.email=a),class:"input",placeholder:"your@email.com",required:""},null,512),[[Ps,n.form.email]])]),S("div",ug,[e[24]||(e[24]=S("label",null,"Password",-1)),Cs(S("input",{type:"password","onUpdate:modelValue":e[7]||(e[7]=a=>n.form.password=a),class:"input",placeholder:"••••••••",required:"",minlength:"6"},null,512),[[Ps,n.form.password]])]),n.isLogin?we("",!0):(J(),z("div",hg,[e[25]||(e[25]=S("label",null,"Confirm Password",-1)),Cs(S("input",{type:"password","onUpdate:modelValue":e[8]||(e[8]=a=>n.form.confirmPassword=a),class:"input",placeholder:"••••••••",required:"",minlength:"6"},null,512),[[Ps,n.form.confirmPassword]]),i.passwordsMismatch?(J(),z("div",dg,"Passwords do not match")):we("",!0)])),S("button",{type:"submit",class:"btn primary-btn",disabled:n.loading||!n.isLogin&&i.passwordsMismatch},xe(n.loading?"Processing...":n.isLogin?"Log in":"Sign up"),9,fg)],32))])])}const gg=_s(Yp,[["render",pg],["__scopeId","data-v-76a7b58f"]]);const mg={name:"Callback",setup(){const t=hl();return Nr(()=>{t.push("/auth")}),{}}},vg={class:"callback-page"};function yg(t,e,s,r,n,i){return J(),z("div",vg,e[0]||(e[0]=[S("div",{class:"loading-container"},[S("div",{class:"loading-spinner"}),S("p",null,"Redirecting to login...")],-1)]))}const _g=_s(mg,[["render",yg],["__scopeId","data-v-51e50e9b"]]);const Nl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAABDpJREFUeJztmluIVVUcxr/lZcjMMbwUQ3QxX4zSIgRhMCrwoctLF6QpyHzQHqwXfbDogi8KlhFBT9FLUkYPUZBkmF0Gg4KokEYw0amxaBrBImqc0ck5vx7WOXo6M2fvtdZe+yyJ/Xs8Z6/1fd9/773O2f+1pYqKioqKiv8dwFzgaeAgcEdqPx0DmANsAU5ygU9T+8oFuAToBWYGju8CngB+ZSpbY/uNCrAcOFY3+5Ln2NnARuDENMEBRoC5ZXkvDLAW+LvJcL/juJnAOuB4m+ANNpccIYx6gJ1ArcVwf844Uy/akZzgAMPAnA5FcgdYAOxvY7o/Y9wa4DuH4A02dTCWG8DNwGCG6f5pxtwLfOMRHGAI6EoQsT1AHzCaY3yY+qKFPeNfegZvsCF13vNg7/ddHuaHgIHA4GAXxtmpc0uSgIXAxwXChPBo6tySzt/vP3Y4/FFgVursAh4GTnc4PMBDqYM3ft9TMADMSBl+IXAgUXiA+1KGv4XO3+/NfAuYVOEfIc393sw9KYLPIt393szXdPrsA4uATxIHb7AmNEdQ1YCVkt6TdHWocEQOG2OWhw72/skA1kv6QhdHeEmaR4GGh9cVgG0tvRAqViIjkg63fDYgaasx5lzWQOcCAE9KetXDFJJ+k3RGUpekq3z0ItFrjPmq8CzAncA/DovRGeAN4C7g0pY55gF3A7uBiRIWwlaOE6MbBHTTvuHYzAfANY5zXgd8WGL4USB4YWw1+2KOWA14LmBeAzxbQvgasDZW+B5gLEfQO3yLRuwi7IwSvm5uW47Y3ggaBtgbKfx+AjdW2pn7KUPsLHBtJJ3rsQtoEQaBBTH8NEzdlCO4O5qY1XurQPhRYEWIbtY/wdtyxr4TIpjBnsBxSNpgjPk+phkBr2VUvAZcFllvPjAZcPZ3xfTRbGhfhuhwSZojnuEPUHDRy7oFshaU0SKiGfzlceyQpD5jzGQRwdAGYlnbzYsdjxuTdL8x5veiglkFGM/4rgfoLireTH2+yx0P32iMORRDN6sAP2d8ZyStjmGgCdeuzsvGmLdjiWYV4IecsX2xTNR5wOGYzyQ9FVl3eoDbc1bgCWBJJK1l5D9uDwGLYui5muoC/sgxtY+C3VhgBvBRjs4YcGusbD7mXs8xBvB8QY3tDhppdnuBFUx9h2faIuB5JWDP/HaH+V8pK5+r0fcdCgC2w7PUcc5l5F/2AJ+TeqsbWAqMOxbhLLAH+07P/JZ5uoEHsU99Lv3FE8AVqXL/B+wbmL5MYl9XHQT+9Bw7jt18uTjAdm2KPK/78ljqzFPA/ixmPSHGYkvqrG2pF+HNkoJPAI+nzugEsIn8brEPg0DsZ4tyAZYA7+L2P6Edp4EdRO4udRTgRmz77JRH8GPAM8CVqf1H26zEvpm5SlKvpBsk9ch2lWqSTkn6RdIhSQeNMUdi6VZUVFRUVITzL9BsNzTpHVA/AAAAAElFTkSuQmCC";const wg={name:"Dashboard",components:{Logo:dl},data(){return{sidebarCollapsed:!0,showUserMenu:!1,showModelDropdown:!1,isTyping:!1,userInput:"",messages:[],chatHistory:[],currentChatId:null,currentChatTitle:"New Conversation",userName:"John Doe",userEmail:"john.doe@example.com",models:[{id:"deepseek-chat",name:"Deepseek V3",description:"Deepseek V3 Model"}],currentModel:"deepseek-chat",systemPrompt:""}},created(){this.checkAuthState(),this.loadSystemPrompt()},mounted(){document.addEventListener("click",this.handleOutsideClick),this.loadMathJax()},beforeUnmount(){document.removeEventListener("click",this.handleOutsideClick)},methods:{async checkAuthState(){try{const e=await(await fetch("http://localhost:3000/auth/user",{method:"GET",credentials:"include"})).json();if(!e.user){this.$router.push("/auth");return}this.userName=e.user.name||e.user.displayName||"User",this.userEmail=e.user.email||"",typeof chrome<"u"&&chrome.runtime&&chrome.storage&&chrome.storage.local.set({userName:this.userName,userEmail:this.userEmail})}catch(t){console.error("Error checking auth state:",t),this.$router.push("/auth")}},loadMathJax(){const t=document.createElement("script");t.src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js",t.async=!0,window.MathJax={tex:{inlineMath:[["\\(","\\)"]],displayMath:[["\\[","\\]"]]},startup:{pageReady:()=>{console.log("MathJax is ready")}}},document.head.appendChild(t)},processMathInMessages(){window.MathJax&&window.MathJax.typesetPromise&&window.MathJax.typesetPromise().catch(t=>console.error("MathJax typesetting failed: ",t))},logout(){fetch("http://localhost:3000/auth/logout",{method:"POST",credentials:"include"}).finally(()=>{typeof chrome<"u"&&chrome.runtime&&chrome.storage&&chrome.storage.local.remove(["userName","userEmail"]),this.$router.push("/auth")})},toggleSidebar(){this.sidebarCollapsed=!this.sidebarCollapsed},toggleUserMenu(){this.showUserMenu=!this.showUserMenu},toggleModelDropdown(t){t.stopPropagation(),this.showModelDropdown=!this.showModelDropdown},handleOutsideClick(t){const e=document.querySelector(".model-selector-container"),s=document.querySelector(".user-profile");e&&!e.contains(t.target)&&(this.showModelDropdown=!1),s&&!s.contains(t.target)&&(this.showUserMenu=!1)},selectModel(t){this.currentModel=t,this.showModelDropdown=!1},startNewChat(){this.messages=[],this.currentChatId=null,this.currentChatTitle="New Conversation",this.focusInput()},loadChat(t){const e=this.chatHistory.find(s=>s.id===t);e&&(this.currentChatId=t,this.currentChatTitle=e.title,this.messages=[])},async loadSystemPrompt(){try{const t=await fetch("/System Prompt.txt");this.systemPrompt=await t.text(),console.log("System prompt loaded successfully")}catch(t){console.error("Error loading system prompt:",t),this.systemPrompt="You are Comet, a powerful AI assistant for LaTeX and Overleaf, designed to help users write, edit, and debug documents with precision."}},async sendMessage(){const t=this.userInput.trim();if(!(!t||this.isTyping)){this.messages.push({role:"user",content:t,timestamp:new Date}),this.userInput="",this.adjustTextareaHeight(),this.isTyping=!0,this.$nextTick(()=>{this.scrollToBottom()});try{const e=[];this.systemPrompt&&e.push({role:"system",content:this.systemPrompt}),this.messages.forEach(n=>{e.push({role:n.role,content:n.content})});const s=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer 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"},body:JSON.stringify({model:this.currentModel==="deepseek-coder"?"deepseek/deepseek-coder":"deepseek/deepseek-chat",messages:e})});if(!s.ok)throw new Error(`API error: ${s.status}`);const r=await s.json();this.messages.push({role:"assistant",content:r.choices[0].message.content,timestamp:new Date}),this.$nextTick(()=>{this.processMathInMessages()})}catch(e){console.error("Error calling DeepSeek API:",e),this.messages.push({role:"assistant",content:"Sorry, I encountered an error while processing your request. Please try again later.",timestamp:new Date})}finally{if(this.isTyping=!1,!this.currentChatId){const e={id:this.chatHistory.length+1,title:t.substring(0,30)+(t.length>30?"...":""),date:new Date};this.chatHistory.unshift(e),this.currentChatId=e.id,this.currentChatTitle=e.title}this.$nextTick(()=>{this.scrollToBottom()})}}},scrollToBottom(){const t=this.$refs.messagesContainer;t&&(t.scrollTop=t.scrollHeight)},adjustTextareaHeight(){const t=this.$refs.inputField;if(!t)return;t.style.height="auto";const e=Math.min(t.scrollHeight,150);t.style.height=`${e}px`},focusInput(){this.$nextTick(()=>{this.$refs.inputField&&this.$refs.inputField.focus()})},formatMessage(t){let e=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");const s=e.split("**Latex Code**");if(s.length>1){s[0]=s[0].replace(/\\\((.*?)\\\)/g,'<span class="math-inline">\\($1\\)</span>').replace(/\\\[(.*?)\\\]/g,'<span class="math-display">\\[$1\\]</span>');const r=s[1].trim();""+Math.random().toString(36).substring(2,9);const n=this.highlightLatexSyntax(r);s[1]=`
          <div class="latex-code-block">
            <div class="latex-code-header">
              <span>LaTeX Code</span>
              <button class="copy-button" data-code="${this.escapeForHtmlAttribute(r)}" onclick="
                const codeText = this.getAttribute('data-code');
                navigator.clipboard.writeText(codeText)
                  .then(() => {
                    this.textContent = 'Copied!';
                    setTimeout(() => { this.textContent = 'Copy'; }, 2000);
                  })
                  .catch(err => {
                    console.error('Could not copy text: ', err);
                    this.textContent = 'Error!';
                    setTimeout(() => { this.textContent = 'Copy'; }, 2000);
                  });
              ">Copy</button>
            </div>
            <pre class="latex-code-content">${n}</pre>
          </div>
        `,e=s.join("")}else e=e.replace(/\\\((.*?)\\\)/g,'<span class="math-inline">\\($1\\)</span>').replace(/\\\[(.*?)\\\]/g,'<span class="math-display">\\[$1\\]</span>');return e.replace(/\n/g,"<br>")},escapeForHtmlAttribute(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},highlightLatexSyntax(t){return t.replace(/\\([a-zA-Z]+)(\{[^{}]*\})?/g,'<span class="latex-command">\\$1</span>$2').replace(/(\$\$|\$)(.*?)(\$\$|\$)/g,'<span class="latex-math">$1$2$3</span>').replace(/(\\begin\{)([^{}]*?)(\})/g,'<span class="latex-env">$1</span><span class="latex-env-name">$2</span><span class="latex-env">$3</span>').replace(/(\\end\{)([^{}]*?)(\})/g,'<span class="latex-env">$1</span><span class="latex-env-name">$2</span><span class="latex-env">$3</span>').replace(/(%.*$)/gm,'<span class="latex-comment">$1</span>').replace(/(\{|\})/g,'<span class="latex-bracket">$1</span>')},formatDate(t){const e=new Date,s=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(s);r.setDate(r.getDate()-1);const n=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.getTime()===s.getTime()?"Today":n.getTime()===r.getTime()?"Yesterday":new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(t)},formatTime(t){return new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}).format(t)},getUserInitials(){return this.userName?this.userName.split(" ").map(t=>t[0]).join("").toUpperCase().substring(0,2):"U"},editProfile(){console.log("Edit profile clicked"),this.showUserMenu=!1},async logout(){try{await fetch("http://localhost:3000/auth/logout",{method:"POST",credentials:"include"}),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userName"),localStorage.removeItem("userEmail"),typeof chrome<"u"&&chrome.runtime&&chrome.storage&&chrome.storage.local.remove(["isAuthenticated","userName","userEmail"],()=>{console.log("Chrome storage cleared")}),this.$router.push("/auth")}catch(t){console.error("Error during logout:",t),this.$router.push("/auth")}}}},bg={class:"chat-container"},Eg={class:"sidebar-header"},Ag={key:0,class:"logo-container"},Sg={key:0},kg={key:1},Tg={key:0,class:"new-chat-btn-container"},Cg={key:1,class:"chat-history"},xg={key:0,class:"no-history"},Pg=["onClick"],Og={class:"history-item-title"},Rg={class:"history-item-date"},Ig={key:2,class:"sidebar-footer"},jg={class:"user-avatar"},$g={class:"user-info"},Lg={class:"user-name"},Dg={class:"user-email"},Mg={key:0,class:"user-menu"},Ug={class:"main-content"},Ng={class:"chat-header"},Bg={class:"chat-messages",ref:"messagesContainer"},Fg={key:0,class:"empty-chat"},Hg={key:1,src:Nl,alt:"Comet",class:"ai-logo"},qg={class:"message-content"},Vg={class:"message-header"},Kg={class:"message-sender"},Gg={class:"message-time"},Jg=["innerHTML"],Wg={key:1,class:"message-container assistant"},zg={class:"chat-input-container"},Xg={class:"model-selector-container"},Yg={key:0,class:"model-dropdown"},Qg=["onClick"],Zg={class:"model-name"},em={class:"model-description"},tm={class:"input-wrapper"},sm=["disabled"];function rm(t,e,s,r,n,i){const o=Br("Logo");return J(),z("div",bg,[S("div",{class:Qe(["sidebar",{collapsed:n.sidebarCollapsed}])},[S("div",Eg,[n.sidebarCollapsed?we("",!0):(J(),z("div",Ag,[ve(o)])),S("button",{class:"collapse-btn",onClick:e[0]||(e[0]=(...a)=>i.toggleSidebar&&i.toggleSidebar(...a))},[n.sidebarCollapsed?(J(),z("span",kg,"❯")):(J(),z("span",Sg,"❮"))])]),n.sidebarCollapsed?we("",!0):(J(),z("div",Tg,[S("button",{class:"new-chat-btn",onClick:e[1]||(e[1]=(...a)=>i.startNewChat&&i.startNewChat(...a))},e[10]||(e[10]=[S("span",{class:"plus-icon"},"+",-1),S("span",null,"New Chat",-1)]))])),n.sidebarCollapsed?we("",!0):(J(),z("div",Cg,[e[11]||(e[11]=S("h3",{class:"history-title"},"Chat History",-1)),n.chatHistory.length===0?(J(),z("div",xg," No chat history yet ")):we("",!0),(J(!0),z(je,null,on(n.chatHistory,(a,l)=>(J(),z("div",{key:l,class:Qe(["history-item",{active:n.currentChatId===a.id}]),onClick:u=>i.loadChat(a.id)},[S("div",Og,xe(a.title),1),S("div",Rg,xe(i.formatDate(a.date)),1)],10,Pg))),128))])),n.sidebarCollapsed?we("",!0):(J(),z("div",Ig,[S("div",{class:"user-profile",onClick:e[2]||(e[2]=(...a)=>i.toggleUserMenu&&i.toggleUserMenu(...a))},[S("div",jg,xe(i.getUserInitials()),1),S("div",$g,[S("div",Lg,xe(n.userName),1),S("div",Dg,xe(n.userEmail),1)])]),n.showUserMenu?(J(),z("div",Mg,[S("div",{class:"menu-item",onClick:e[3]||(e[3]=(...a)=>i.editProfile&&i.editProfile(...a))},"Profile Settings"),S("div",{class:"menu-item",onClick:e[4]||(e[4]=(...a)=>i.logout&&i.logout(...a))},"Logout")])):we("",!0)]))],2),S("div",Ug,[S("div",Ng,[S("h1",null,xe(n.currentChatTitle),1)]),S("div",Bg,[n.messages.length===0?(J(),z("div",Fg,e[12]||(e[12]=[ji('<div class="welcome-container" data-v-17d180dc><h2 data-v-17d180dc>Welcome to Comet</h2><p data-v-17d180dc>The AI Editor for Overleaf — Edit your LaTeX documents effortlessly</p><div class="stats-container" data-v-17d180dc><div class="stat-item" data-v-17d180dc><div class="stat-value" data-v-17d180dc>10</div><div class="stat-label" data-v-17d180dc>Faster Edits</div></div><div class="stat-item" data-v-17d180dc><div class="stat-value" data-v-17d180dc>98</div><div class="stat-label" data-v-17d180dc>Accuracy Rate</div></div><div class="stat-item" data-v-17d180dc><div class="stat-value" data-v-17d180dc>24/7</div><div class="stat-label" data-v-17d180dc>Availability</div></div></div></div>',1)]))):we("",!0),(J(!0),z(je,null,on(n.messages,(a,l)=>(J(),z("div",{key:l,class:Qe(["message-container",a.role])},[S("div",{class:Qe(["message-avatar",a.role])},[a.role==="user"?(J(),z(je,{key:0},[kr(xe(i.getUserInitials()),1)],64)):(J(),z("img",Hg))],2),S("div",qg,[S("div",Vg,[S("span",Kg,xe(a.role==="user"?n.userName:"Comet"),1),S("span",Gg,xe(i.formatTime(a.timestamp)),1)]),S("div",{class:"message-text",innerHTML:i.formatMessage(a.content)},null,8,Jg)])],2))),128)),n.isTyping?(J(),z("div",Wg,e[13]||(e[13]=[ji('<div class="message-avatar assistant" data-v-17d180dc><img src="'+Nl+'" alt="Comet" class="ai-logo" data-v-17d180dc></div><div class="message-content" data-v-17d180dc><div class="message-header" data-v-17d180dc><span class="message-sender" data-v-17d180dc>Comet</span><span class="message-time" data-v-17d180dc>Now</span></div><div class="typing-indicator" data-v-17d180dc><span data-v-17d180dc></span><span data-v-17d180dc></span><span data-v-17d180dc></span></div></div>',2)]))):we("",!0)],512),S("div",zg,[S("div",Xg,[S("div",{class:"model-selector",onClick:e[5]||(e[5]=(...a)=>i.toggleModelDropdown&&i.toggleModelDropdown(...a))},[e[14]||(e[14]=S("div",{class:"selected-model"},"Deepseek V3",-1)),S("div",{class:Qe(["dropdown-arrow",{open:n.showModelDropdown}])},"▼",2)]),n.showModelDropdown?(J(),z("div",Yg,[(J(!0),z(je,null,on(n.models,a=>(J(),z("div",{key:a.id,class:Qe(["model-option",{active:n.currentModel===a.id}]),onClick:l=>i.selectModel(a.id)},[S("div",Zg,xe(a.name),1),S("div",em,xe(a.description),1)],10,Qg))),128))])):we("",!0)]),S("div",tm,[Cs(S("textarea",{class:"chat-input","onUpdate:modelValue":e[6]||(e[6]=a=>n.userInput=a),placeholder:"Describe your LaTeX changes here...",onKeydown:e[7]||(e[7]=ch(Ya((...a)=>i.sendMessage&&i.sendMessage(...a),["prevent"]),["enter"])),ref:"inputField",rows:"1",onInput:e[8]||(e[8]=(...a)=>i.adjustTextareaHeight&&i.adjustTextareaHeight(...a))},null,544),[[Ps,n.userInput]]),S("button",{class:"send-btn",onClick:e[9]||(e[9]=(...a)=>i.sendMessage&&i.sendMessage(...a)),disabled:!n.userInput.trim()||n.isTyping},e[15]||(e[15]=[S("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[S("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),S("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})],-1)]),8,sm)]),e[16]||(e[16]=S("div",{class:"input-footer"},[S("span",{class:"input-hint"},"Press Enter to send")],-1))])])])}const nm=_s(wg,[["render",rm],["__scopeId","data-v-17d180dc"]]);const im={name:"VerifyEmail",setup(){const t=hl();return Nr(async()=>{try{const e=zp(),s=new URLSearchParams(window.location.search),r=s.get("token"),n=s.get("type");if(!r||n!=="email_confirmation"&&n!=="signup"&&n!=="recovery"){console.error("Invalid verification parameters",{token:r,type:n}),t.push("/auth");return}console.log("Verifying email with token and type:",{token:r,type:n});const{data:i,error:o}=await e.auth.verifyOtp({token_hash:r,type:"email"});if(o){console.error("Error verifying email:",o),t.push("/auth?error=verification_failed");return}if(console.log("Email verified successfully, session:",i==null?void 0:i.session),i!=null&&i.session){console.log("Got session from verification, creating server session");try{if(!(await fetch("http://localhost:3000/auth/oauth-callback",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({access_token:i.session.access_token,refresh_token:i.session.refresh_token,user:i.user})})).ok)throw new Error("Failed to create server session");console.log("Server session created successfully")}catch(a){console.error("Error creating server session:",a)}}await Ul(),t.push("/dashboard")}catch(e){console.error("Error in email verification:",e),t.push("/auth?error=verification_failed")}}),{}}},om={class:"verify-email-page"};function am(t,e,s,r,n,i){return J(),z("div",om,e[0]||(e[0]=[S("div",{class:"loading-container"},[S("div",{class:"loading-spinner"}),S("p",null,"Verifying your email, please wait...")],-1)]))}const lm=_s(im,[["render",am],["__scopeId","data-v-3532fe94"]]);const cm=[{path:"/",name:"Dashboard",component:nm},{path:"/auth",name:"Auth",component:gg},{path:"/callback",name:"Callback",component:_g},{path:"/verify-email",name:"VerifyEmail",component:lm}],um=vd({history:Gh(),routes:cm}),Bl=dh(Ed);Bl.use(um);Bl.mount("#app");export{hm as g};
