(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Kn(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const ie={},is=[],Ge=()=>{},Ml=()=>!1,Pr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Wn=t=>t.startsWith("onUpdate:"),pe=Object.assign,zn=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Nl=Object.prototype.hasOwnProperty,ee=(t,e)=>Nl.call(t,e),F=Array.isArray,os=t=>Cr(t)==="[object Map]",Mo=t=>Cr(t)==="[object Set]",q=t=>typeof t=="function",de=t=>typeof t=="string",$t=t=>typeof t=="symbol",he=t=>t!==null&&typeof t=="object",No=t=>(he(t)||q(t))&&q(t.then)&&q(t.catch),Fo=Object.prototype.toString,Cr=t=>Fo.call(t),Fl=t=>Cr(t).slice(8,-1),Bo=t=>Cr(t)==="[object Object]",Jn=t=>de(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,xs=Kn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Or=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Bl=/-(\w)/g,Ve=Or(t=>t.replace(Bl,(e,s)=>s?s.toUpperCase():"")),Hl=/\B([A-Z])/g,zt=Or(t=>t.replace(Hl,"-$1").toLowerCase()),Rr=Or(t=>t.charAt(0).toUpperCase()+t.slice(1)),Qr=Or(t=>t?`on${Rr(t)}`:""),Ot=(t,e)=>!Object.is(t,e),pr=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Ho=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},bn=t=>{const e=parseFloat(t);return isNaN(e)?t:e},ql=t=>{const e=de(t)?Number(t):NaN;return isNaN(e)?t:e};let wi;const $r=()=>wi||(wi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Gn(t){if(F(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=de(r)?zl(r):Gn(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(de(t)||he(t))return t}const Vl=/;(?![^(]*\))/g,Kl=/:([^]+)/,Wl=/\/\*[^]*?\*\//g;function zl(t){const e={};return t.replace(Wl,"").split(Vl).forEach(s=>{if(s){const r=s.split(Kl);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ns(t){let e="";if(de(t))e=t;else if(F(t))for(let s=0;s<t.length;s++){const r=Ns(t[s]);r&&(e+=r+" ")}else if(he(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Jl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Gl=Kn(Jl);function qo(t){return!!t||t===""}const Vo=t=>!!(t&&t.__v_isRef===!0),As=t=>de(t)?t:t==null?"":F(t)||he(t)&&(t.toString===Fo||!q(t.toString))?Vo(t)?As(t.value):JSON.stringify(t,Ko,2):String(t),Ko=(t,e)=>Vo(e)?Ko(t,e.value):os(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[Yr(r,i)+" =>"]=n,s),{})}:Mo(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Yr(s))}:$t(e)?Yr(e):he(e)&&!F(e)&&!Bo(e)?String(e):e,Yr=(t,e="")=>{var s;return $t(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Fe;class Ql{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Fe,!e&&Fe&&(this.index=(Fe.scopes||(Fe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=Fe;try{return Fe=this,e()}finally{Fe=s}}}on(){Fe=this}off(){Fe=this.parent}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Yl(){return Fe}let ce;const Xr=new WeakSet;class Wo{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Fe&&Fe.active&&Fe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Xr.has(this)&&(Xr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Jo(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Si(this),Go(this);const e=ce,s=Qe;ce=this,Qe=!0;try{return this.fn()}finally{Qo(this),ce=e,Qe=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Xn(e);this.deps=this.depsTail=void 0,Si(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Xr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){wn(this)&&this.run()}get dirty(){return wn(this)}}let zo=0,Ps,Cs;function Jo(t,e=!1){if(t.flags|=8,e){t.next=Cs,Cs=t;return}t.next=Ps,Ps=t}function Qn(){zo++}function Yn(){if(--zo>0)return;if(Cs){let e=Cs;for(Cs=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Ps;){let e=Ps;for(Ps=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function Go(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Qo(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),Xn(r),Xl(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function wn(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Yo(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Yo(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Fs))return;t.globalVersion=Fs;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!wn(t)){t.flags&=-3;return}const s=ce,r=Qe;ce=t,Qe=!0;try{Go(t);const n=t.fn(t._value);(e.version===0||Ot(n,t._value))&&(t._value=n,e.version++)}catch(n){throw e.version++,n}finally{ce=s,Qe=r,Qo(t),t.flags&=-3}}function Xn(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Xn(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Xl(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Qe=!0;const Xo=[];function jt(){Xo.push(Qe),Qe=!1}function It(){const t=Xo.pop();Qe=t===void 0?!0:t}function Si(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=ce;ce=void 0;try{e()}finally{ce=s}}}let Fs=0;class Zl{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Zn{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!ce||!Qe||ce===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==ce)s=this.activeLink=new Zl(ce,this),ce.deps?(s.prevDep=ce.depsTail,ce.depsTail.nextDep=s,ce.depsTail=s):ce.deps=ce.depsTail=s,Zo(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=ce.depsTail,s.nextDep=void 0,ce.depsTail.nextDep=s,ce.depsTail=s,ce.deps===s&&(ce.deps=r)}return s}trigger(e){this.version++,Fs++,this.notify(e)}notify(e){Qn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Yn()}}}function Zo(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Zo(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Sn=new WeakMap,Kt=Symbol(""),En=Symbol(""),Bs=Symbol("");function Ee(t,e,s){if(Qe&&ce){let r=Sn.get(t);r||Sn.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new Zn),n.map=r,n.key=s),n.track()}}function gt(t,e,s,r,n,i){const o=Sn.get(t);if(!o){Fs++;return}const a=l=>{l&&l.trigger()};if(Qn(),e==="clear")o.forEach(a);else{const l=F(t),u=l&&Jn(s);if(l&&s==="length"){const c=Number(r);o.forEach((h,d)=>{(d==="length"||d===Bs||!$t(d)&&d>=c)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(Bs)),e){case"add":l?u&&a(o.get("length")):(a(o.get(Kt)),os(t)&&a(o.get(En)));break;case"delete":l||(a(o.get(Kt)),os(t)&&a(o.get(En)));break;case"set":os(t)&&a(o.get(Kt));break}}Yn()}function Yt(t){const e=G(t);return e===t?e:(Ee(e,"iterate",Bs),Ye(t)?e:e.map(Ae))}function ei(t){return Ee(t=G(t),"iterate",Bs),t}const ec={__proto__:null,[Symbol.iterator](){return Zr(this,Symbol.iterator,Ae)},concat(...t){return Yt(this).concat(...t.map(e=>F(e)?Yt(e):e))},entries(){return Zr(this,"entries",t=>(t[1]=Ae(t[1]),t))},every(t,e){return ct(this,"every",t,e,void 0,arguments)},filter(t,e){return ct(this,"filter",t,e,s=>s.map(Ae),arguments)},find(t,e){return ct(this,"find",t,e,Ae,arguments)},findIndex(t,e){return ct(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ct(this,"findLast",t,e,Ae,arguments)},findLastIndex(t,e){return ct(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ct(this,"forEach",t,e,void 0,arguments)},includes(...t){return en(this,"includes",t)},indexOf(...t){return en(this,"indexOf",t)},join(t){return Yt(this).join(t)},lastIndexOf(...t){return en(this,"lastIndexOf",t)},map(t,e){return ct(this,"map",t,e,void 0,arguments)},pop(){return bs(this,"pop")},push(...t){return bs(this,"push",t)},reduce(t,...e){return Ei(this,"reduce",t,e)},reduceRight(t,...e){return Ei(this,"reduceRight",t,e)},shift(){return bs(this,"shift")},some(t,e){return ct(this,"some",t,e,void 0,arguments)},splice(...t){return bs(this,"splice",t)},toReversed(){return Yt(this).toReversed()},toSorted(t){return Yt(this).toSorted(t)},toSpliced(...t){return Yt(this).toSpliced(...t)},unshift(...t){return bs(this,"unshift",t)},values(){return Zr(this,"values",Ae)}};function Zr(t,e,s){const r=ei(t),n=r[e]();return r!==t&&!Ye(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const tc=Array.prototype;function ct(t,e,s,r,n,i){const o=ei(t),a=o!==t&&!Ye(t),l=o[e];if(l!==tc[e]){const h=l.apply(t,i);return a?Ae(h):h}let u=s;o!==t&&(a?u=function(h,d){return s.call(this,Ae(h),d,t)}:s.length>2&&(u=function(h,d){return s.call(this,h,d,t)}));const c=l.call(o,u,r);return a&&n?n(c):c}function Ei(t,e,s,r){const n=ei(t);let i=s;return n!==t&&(Ye(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,Ae(a),l,t)}),n[e](i,...r)}function en(t,e,s){const r=G(t);Ee(r,"iterate",Bs);const n=r[e](...s);return(n===-1||n===!1)&&ri(s[0])?(s[0]=G(s[0]),r[e](...s)):n}function bs(t,e,s=[]){jt(),Qn();const r=G(t)[e].apply(t,s);return Yn(),It(),r}const sc=Kn("__proto__,__v_isRef,__isVue"),ea=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter($t));function rc(t){$t(t)||(t=String(t));const e=G(this);return Ee(e,"has",t),e.hasOwnProperty(t)}class ta{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?dc:ia:i?na:ra).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=F(e);if(!n){let l;if(o&&(l=ec[s]))return l;if(s==="hasOwnProperty")return rc}const a=Reflect.get(e,s,ke(e)?e:r);return($t(s)?ea.has(s):sc(s))||(n||Ee(e,"get",s),i)?a:ke(a)?o&&Jn(s)?a:a.value:he(a)?n?aa(a):jr(a):a}}class sa extends ta{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=Wt(i);if(!Ye(r)&&!Wt(r)&&(i=G(i),r=G(r)),!F(e)&&ke(i)&&!ke(r))return l?!1:(i.value=r,!0)}const o=F(e)&&Jn(s)?Number(s)<e.length:ee(e,s),a=Reflect.set(e,s,r,ke(e)?e:n);return e===G(n)&&(o?Ot(r,i)&&gt(e,"set",s,r):gt(e,"add",s,r)),a}deleteProperty(e,s){const r=ee(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&gt(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!$t(s)||!ea.has(s))&&Ee(e,"has",s),r}ownKeys(e){return Ee(e,"iterate",F(e)?"length":Kt),Reflect.ownKeys(e)}}class nc extends ta{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const ic=new sa,oc=new nc,ac=new sa(!0);const kn=t=>t,rr=t=>Reflect.getPrototypeOf(t);function lc(t,e,s){return function(...r){const n=this.__v_raw,i=G(n),o=os(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?kn:e?Tn:Ae;return!e&&Ee(i,"iterate",l?En:Kt),{next(){const{value:h,done:d}=u.next();return d?{value:h,done:d}:{value:a?[c(h[0]),c(h[1])]:c(h),done:d}},[Symbol.iterator](){return this}}}}function nr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function cc(t,e){const s={get(n){const i=this.__v_raw,o=G(i),a=G(n);t||(Ot(n,a)&&Ee(o,"get",n),Ee(o,"get",a));const{has:l}=rr(o),u=e?kn:t?Tn:Ae;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&Ee(G(n),"iterate",Kt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=G(i),a=G(n);return t||(Ot(n,a)&&Ee(o,"has",n),Ee(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=G(a),u=e?kn:t?Tn:Ae;return!t&&Ee(l,"iterate",Kt),a.forEach((c,h)=>n.call(i,u(c),u(h),o))}};return pe(s,t?{add:nr("add"),set:nr("set"),delete:nr("delete"),clear:nr("clear")}:{add(n){!e&&!Ye(n)&&!Wt(n)&&(n=G(n));const i=G(this);return rr(i).has.call(i,n)||(i.add(n),gt(i,"add",n,n)),this},set(n,i){!e&&!Ye(i)&&!Wt(i)&&(i=G(i));const o=G(this),{has:a,get:l}=rr(o);let u=a.call(o,n);u||(n=G(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?Ot(i,c)&&gt(o,"set",n,i):gt(o,"add",n,i),this},delete(n){const i=G(this),{has:o,get:a}=rr(i);let l=o.call(i,n);l||(n=G(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&gt(i,"delete",n,void 0),u},clear(){const n=G(this),i=n.size!==0,o=n.clear();return i&&gt(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=lc(n,t,e)}),s}function ti(t,e){const s=cc(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(ee(s,n)&&n in r?s:r,n,i)}const uc={get:ti(!1,!1)},hc={get:ti(!1,!0)},fc={get:ti(!0,!1)};const ra=new WeakMap,na=new WeakMap,ia=new WeakMap,dc=new WeakMap;function pc(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gc(t){return t.__v_skip||!Object.isExtensible(t)?0:pc(Fl(t))}function jr(t){return Wt(t)?t:si(t,!1,ic,uc,ra)}function oa(t){return si(t,!1,ac,hc,na)}function aa(t){return si(t,!0,oc,fc,ia)}function si(t,e,s,r,n){if(!he(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=n.get(t);if(i)return i;const o=gc(t);if(o===0)return t;const a=new Proxy(t,o===2?r:s);return n.set(t,a),a}function Os(t){return Wt(t)?Os(t.__v_raw):!!(t&&t.__v_isReactive)}function Wt(t){return!!(t&&t.__v_isReadonly)}function Ye(t){return!!(t&&t.__v_isShallow)}function ri(t){return t?!!t.__v_raw:!1}function G(t){const e=t&&t.__v_raw;return e?G(e):t}function mc(t){return!ee(t,"__v_skip")&&Object.isExtensible(t)&&Ho(t,"__v_skip",!0),t}const Ae=t=>he(t)?jr(t):t,Tn=t=>he(t)?aa(t):t;function ke(t){return t?t.__v_isRef===!0:!1}function Qs(t){return la(t,!1)}function _c(t){return la(t,!0)}function la(t,e){return ke(t)?t:new vc(t,e)}class vc{constructor(e,s){this.dep=new Zn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:G(e),this._value=s?e:Ae(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||Ye(e)||Wt(e);e=r?e:G(e),Ot(e,s)&&(this._rawValue=e,this._value=r?e:Ae(e),this.dep.trigger())}}function as(t){return ke(t)?t.value:t}const yc={get:(t,e,s)=>e==="__v_raw"?t:as(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return ke(n)&&!ke(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function ca(t){return Os(t)?t:new Proxy(t,yc)}class bc{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Zn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Fs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ce!==this)return Jo(this,!0),!0}get value(){const e=this.dep.track();return Yo(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function wc(t,e,s=!1){let r,n;return q(t)?r=t:(r=t.get,n=t.set),new bc(r,n,s)}const ir={},yr=new WeakMap;let Bt;function Sc(t,e=!1,s=Bt){if(s){let r=yr.get(s);r||yr.set(s,r=[]),r.push(t)}}function Ec(t,e,s=ie){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=A=>n?A:Ye(A)||n===!1||n===0?mt(A,1):mt(A);let c,h,d,g,y=!1,w=!1;if(ke(t)?(h=()=>t.value,y=Ye(t)):Os(t)?(h=()=>u(t),y=!0):F(t)?(w=!0,y=t.some(A=>Os(A)||Ye(A)),h=()=>t.map(A=>{if(ke(A))return A.value;if(Os(A))return u(A);if(q(A))return l?l(A,2):A()})):q(t)?e?h=l?()=>l(t,2):t:h=()=>{if(d){jt();try{d()}finally{It()}}const A=Bt;Bt=c;try{return l?l(t,3,[g]):t(g)}finally{Bt=A}}:h=Ge,e&&n){const A=h,B=n===!0?1/0:n;h=()=>mt(A(),B)}const x=Yl(),O=()=>{c.stop(),x&&x.active&&zn(x.effects,c)};if(i&&e){const A=e;e=(...B)=>{A(...B),O()}}let R=w?new Array(t.length).fill(ir):ir;const j=A=>{if(!(!(c.flags&1)||!c.dirty&&!A))if(e){const B=c.run();if(n||y||(w?B.some((ne,se)=>Ot(ne,R[se])):Ot(B,R))){d&&d();const ne=Bt;Bt=c;try{const se=[B,R===ir?void 0:w&&R[0]===ir?[]:R,g];l?l(e,3,se):e(...se),R=B}finally{Bt=ne}}}else c.run()};return a&&a(j),c=new Wo(h),c.scheduler=o?()=>o(j,!1):j,g=A=>Sc(A,!1,c),d=c.onStop=()=>{const A=yr.get(c);if(A){if(l)l(A,4);else for(const B of A)B();yr.delete(c)}},e?r?j(!0):R=c.run():o?o(j.bind(null,!0),!0):c.run(),O.pause=c.pause.bind(c),O.resume=c.resume.bind(c),O.stop=O,O}function mt(t,e=1/0,s){if(e<=0||!he(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,ke(t))mt(t.value,e,s);else if(F(t))for(let r=0;r<t.length;r++)mt(t[r],e,s);else if(Mo(t)||os(t))t.forEach(r=>{mt(r,e,s)});else if(Bo(t)){for(const r in t)mt(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&mt(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ys(t,e,s,r){try{return r?t(...r):t()}catch(n){Ir(n,e,s)}}function Xe(t,e,s,r){if(q(t)){const n=Ys(t,e,s,r);return n&&No(n)&&n.catch(i=>{Ir(i,e,s)}),n}if(F(t)){const n=[];for(let i=0;i<t.length;i++)n.push(Xe(t[i],e,s,r));return n}}function Ir(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ie;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(i){jt(),Ys(i,null,10,[t,l,u]),It();return}}kc(t,s,n,r,o)}function kc(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const Pe=[];let nt=-1;const ls=[];let kt=null,ts=0;const ua=Promise.resolve();let br=null;function ha(t){const e=br||ua;return t?e.then(this?t.bind(this):t):e}function Tc(t){let e=nt+1,s=Pe.length;for(;e<s;){const r=e+s>>>1,n=Pe[r],i=Hs(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function ni(t){if(!(t.flags&1)){const e=Hs(t),s=Pe[Pe.length-1];!s||!(t.flags&2)&&e>=Hs(s)?Pe.push(t):Pe.splice(Tc(e),0,t),t.flags|=1,fa()}}function fa(){br||(br=ua.then(pa))}function xc(t){F(t)?ls.push(...t):kt&&t.id===-1?kt.splice(ts+1,0,t):t.flags&1||(ls.push(t),t.flags|=1),fa()}function ki(t,e,s=nt+1){for(;s<Pe.length;s++){const r=Pe[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Pe.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function da(t){if(ls.length){const e=[...new Set(ls)].sort((s,r)=>Hs(s)-Hs(r));if(ls.length=0,kt){kt.push(...e);return}for(kt=e,ts=0;ts<kt.length;ts++){const s=kt[ts];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}kt=null,ts=0}}const Hs=t=>t.id==null?t.flags&2?-1:1/0:t.id;function pa(t){const e=Ge;try{for(nt=0;nt<Pe.length;nt++){const s=Pe[nt];s&&!(s.flags&8)&&(s.flags&4&&(s.flags&=-2),Ys(s,s.i,s.i?15:14),s.flags&4||(s.flags&=-2))}}finally{for(;nt<Pe.length;nt++){const s=Pe[nt];s&&(s.flags&=-2)}nt=-1,Pe.length=0,da(),br=null,(Pe.length||ls.length)&&pa()}}let je=null,ga=null;function wr(t){const e=je;return je=t,ga=t&&t.type.__scopeId||null,e}function Sr(t,e=je,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&Ii(-1);const i=wr(e);let o;try{o=t(...n)}finally{wr(i),r._d&&Ii(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function or(t,e){if(je===null)return t;const s=Fr(je),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=ie]=e[n];i&&(q(i)&&(i={mounted:i,updated:i}),i.deep&&mt(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Dt(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(jt(),Xe(l,s,8,[t.el,a,t,e]),It())}}const Ac=Symbol("_vte"),ma=t=>t.__isTeleport,Tt=Symbol("_leaveCb"),ar=Symbol("_enterCb");function Pc(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Xs(()=>{t.isMounted=!0}),Ta(()=>{t.isUnmounting=!0}),t}const qe=[Function,Array],_a={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:qe,onEnter:qe,onAfterEnter:qe,onEnterCancelled:qe,onBeforeLeave:qe,onLeave:qe,onAfterLeave:qe,onLeaveCancelled:qe,onBeforeAppear:qe,onAppear:qe,onAfterAppear:qe,onAppearCancelled:qe},va=t=>{const e=t.subTree;return e.component?va(e.component):e},Cc={name:"BaseTransition",props:_a,setup(t,{slots:e}){const s=Eu(),r=Pc();return()=>{const n=e.default&&wa(e.default(),!0);if(!n||!n.length)return;const i=ya(n),o=G(t),{mode:a}=o;if(r.isLeaving)return tn(i);const l=Ti(i);if(!l)return tn(i);let u=xn(l,o,r,s,h=>u=h);l.type!==$e&&qs(l,u);let c=s.subTree&&Ti(s.subTree);if(c&&c.type!==$e&&!qt(l,c)&&va(s).type!==$e){let h=xn(c,o,r,s);if(qs(c,h),a==="out-in"&&l.type!==$e)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,s.job.flags&8||s.update(),delete h.afterLeave,c=void 0},tn(i);a==="in-out"&&l.type!==$e?h.delayLeave=(d,g,y)=>{const w=ba(r,c);w[String(c.key)]=c,d[Tt]=()=>{g(),d[Tt]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{y(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return i}}};function ya(t){let e=t[0];if(t.length>1){for(const s of t)if(s.type!==$e){e=s;break}}return e}const Oc=Cc;function ba(t,e){const{leavingVNodes:s}=t;let r=s.get(e.type);return r||(r=Object.create(null),s.set(e.type,r)),r}function xn(t,e,s,r,n){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:d,onLeave:g,onAfterLeave:y,onLeaveCancelled:w,onBeforeAppear:x,onAppear:O,onAfterAppear:R,onAppearCancelled:j}=e,A=String(t.key),B=ba(s,t),ne=(V,J)=>{V&&Xe(V,r,9,J)},se=(V,J)=>{const oe=J[1];ne(V,J),F(V)?V.every(L=>L.length<=1)&&oe():V.length<=1&&oe()},we={mode:o,persisted:a,beforeEnter(V){let J=l;if(!s.isMounted)if(i)J=x||l;else return;V[Tt]&&V[Tt](!0);const oe=B[A];oe&&qt(t,oe)&&oe.el[Tt]&&oe.el[Tt](),ne(J,[V])},enter(V){let J=u,oe=c,L=h;if(!s.isMounted)if(i)J=O||u,oe=R||c,L=j||h;else return;let Q=!1;const me=V[ar]=Ie=>{Q||(Q=!0,Ie?ne(L,[V]):ne(oe,[V]),we.delayedLeave&&we.delayedLeave(),V[ar]=void 0)};J?se(J,[V,me]):me()},leave(V,J){const oe=String(t.key);if(V[ar]&&V[ar](!0),s.isUnmounting)return J();ne(d,[V]);let L=!1;const Q=V[Tt]=me=>{L||(L=!0,J(),me?ne(w,[V]):ne(y,[V]),V[Tt]=void 0,B[oe]===t&&delete B[oe])};B[oe]=t,g?se(g,[V,Q]):Q()},clone(V){const J=xn(V,e,s,r,n);return n&&n(J),J}};return we}function tn(t){if(Lr(t))return t=Rt(t),t.children=null,t}function Ti(t){if(!Lr(t))return ma(t.type)&&t.children?ya(t.children):t;const{shapeFlag:e,children:s}=t;if(s){if(e&16)return s[0];if(e&32&&q(s.default))return s.default()}}function qs(t,e){t.shapeFlag&6&&t.component?(t.transition=e,qs(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function wa(t,e=!1,s){let r=[],n=0;for(let i=0;i<t.length;i++){let o=t[i];const a=s==null?o.key:String(s)+String(o.key!=null?o.key:i);o.type===it?(o.patchFlag&128&&n++,r=r.concat(wa(o.children,e,a))):(e||o.type!==$e)&&r.push(a!=null?Rt(o,{key:a}):o)}if(n>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Sa(t,e){return q(t)?(()=>pe({name:t.name},e,{setup:t}))():t}function Ea(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Er(t,e,s,r,n=!1){if(F(t)){t.forEach((y,w)=>Er(y,e&&(F(e)?e[w]:e),s,r,n));return}if(Rs(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Er(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?Fr(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===ie?a.refs={}:a.refs,h=a.setupState,d=G(h),g=h===ie?()=>!1:y=>ee(d,y);if(u!=null&&u!==l&&(de(u)?(c[u]=null,g(u)&&(h[u]=null)):ke(u)&&(u.value=null)),q(l))Ys(l,a,12,[o,c]);else{const y=de(l),w=ke(l);if(y||w){const x=()=>{if(t.f){const O=y?g(l)?h[l]:c[l]:l.value;n?F(O)&&zn(O,i):F(O)?O.includes(i)||O.push(i):y?(c[l]=[i],g(l)&&(h[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else y?(c[l]=o,g(l)&&(h[l]=o)):w&&(l.value=o,t.k&&(c[t.k]=o))};o?(x.id=-1,Me(x,s)):x()}}}$r().requestIdleCallback;$r().cancelIdleCallback;const Rs=t=>!!t.type.__asyncLoader,Lr=t=>t.type.__isKeepAlive;function Rc(t,e){ka(t,"a",e)}function $c(t,e){ka(t,"da",e)}function ka(t,e,s=be){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Dr(e,r,s),s){let n=s.parent;for(;n&&n.parent;)Lr(n.parent.vnode)&&jc(r,e,s,n),n=n.parent}}function jc(t,e,s,r){const n=Dr(e,t,r,!0);xa(()=>{zn(r[e],n)},s)}function Dr(t,e,s=be,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{jt();const a=Zs(s),l=Xe(e,s,t,o);return a(),It(),l});return r?n.unshift(i):n.push(i),i}}const vt=t=>(e,s=be)=>{(!Ks||t==="sp")&&Dr(t,(...r)=>e(...r),s)},Ic=vt("bm"),Xs=vt("m"),Lc=vt("bu"),Dc=vt("u"),Ta=vt("bum"),xa=vt("um"),Uc=vt("sp"),Mc=vt("rtg"),Nc=vt("rtc");function Fc(t,e=be){Dr("ec",t,e)}const ii="components";function Ur(t,e){return Pa(ii,t,!0,e)||t}const Aa=Symbol.for("v-ndc");function Bc(t){return de(t)?Pa(ii,t,!1)||t:t||Aa}function Pa(t,e,s=!0,r=!1){const n=je||be;if(n){const i=n.type;if(t===ii){const a=Pu(i,!1);if(a&&(a===e||a===Ve(e)||a===Rr(Ve(e))))return i}const o=xi(n[t]||i[t],e)||xi(n.appContext[t],e);return!o&&r?i:o}}function xi(t,e){return t&&(t[e]||t[Ve(e)]||t[Rr(Ve(e))])}const An=t=>t?Ga(t)?Fr(t):An(t.parent):null,$s=pe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>An(t.parent),$root:t=>An(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>oi(t),$forceUpdate:t=>t.f||(t.f=()=>{ni(t.update)}),$nextTick:t=>t.n||(t.n=ha.bind(t.proxy)),$watch:t=>lu.bind(t)}),sn=(t,e)=>t!==ie&&!t.__isScriptSetup&&ee(t,e),Hc={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(sn(r,e))return o[e]=1,r[e];if(n!==ie&&ee(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&ee(u,e))return o[e]=3,i[e];if(s!==ie&&ee(s,e))return o[e]=4,s[e];Pn&&(o[e]=0)}}const c=$s[e];let h,d;if(c)return e==="$attrs"&&Ee(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==ie&&ee(s,e))return o[e]=4,s[e];if(d=l.config.globalProperties,ee(d,e))return d[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return sn(n,e)?(n[e]=s,!0):r!==ie&&ee(r,e)?(r[e]=s,!0):ee(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==ie&&ee(t,o)||sn(e,o)||(a=i[0])&&ee(a,o)||ee(r,o)||ee($s,o)||ee(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:ee(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Ai(t){return F(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Pn=!0;function qc(t){const e=oi(t),s=t.proxy,r=t.ctx;Pn=!1,e.beforeCreate&&Pi(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:d,beforeUpdate:g,updated:y,activated:w,deactivated:x,beforeDestroy:O,beforeUnmount:R,destroyed:j,unmounted:A,render:B,renderTracked:ne,renderTriggered:se,errorCaptured:we,serverPrefetch:V,expose:J,inheritAttrs:oe,components:L,directives:Q,filters:me}=e;if(u&&Vc(u,r,null),o)for(const re in o){const Y=o[re];q(Y)&&(r[re]=Y.bind(s))}if(n){const re=n.call(s,s);he(re)&&(t.data=jr(re))}if(Pn=!0,i)for(const re in i){const Y=i[re],lt=q(Y)?Y.bind(s,s):q(Y.get)?Y.get.bind(s,s):Ge,yt=!q(Y)&&q(Y.set)?Y.set.bind(s):Ge,et=Je({get:lt,set:yt});Object.defineProperty(r,re,{enumerable:!0,configurable:!0,get:()=>et.value,set:Ce=>et.value=Ce})}if(a)for(const re in a)Ca(a[re],r,s,re);if(l){const re=q(l)?l.call(s):l;Reflect.ownKeys(re).forEach(Y=>{gr(Y,re[Y])})}c&&Pi(c,t,"c");function fe(re,Y){F(Y)?Y.forEach(lt=>re(lt.bind(s))):Y&&re(Y.bind(s))}if(fe(Ic,h),fe(Xs,d),fe(Lc,g),fe(Dc,y),fe(Rc,w),fe($c,x),fe(Fc,we),fe(Nc,ne),fe(Mc,se),fe(Ta,R),fe(xa,A),fe(Uc,V),F(J))if(J.length){const re=t.exposed||(t.exposed={});J.forEach(Y=>{Object.defineProperty(re,Y,{get:()=>s[Y],set:lt=>s[Y]=lt})})}else t.exposed||(t.exposed={});B&&t.render===Ge&&(t.render=B),oe!=null&&(t.inheritAttrs=oe),L&&(t.components=L),Q&&(t.directives=Q),V&&Ea(t)}function Vc(t,e,s=Ge){F(t)&&(t=Cn(t));for(const r in t){const n=t[r];let i;he(n)?"default"in n?i=at(n.from||r,n.default,!0):i=at(n.from||r):i=at(n),ke(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Pi(t,e,s){Xe(F(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function Ca(t,e,s,r){let n=r.includes(".")?qa(s,r):()=>s[r];if(de(t)){const i=e[t];q(i)&&mr(n,i)}else if(q(t))mr(n,t.bind(s));else if(he(t))if(F(t))t.forEach(i=>Ca(i,e,s,r));else{const i=q(t.handler)?t.handler.bind(s):e[t.handler];q(i)&&mr(n,i,t)}}function oi(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>kr(l,u,o,!0)),kr(l,e,o)),he(e)&&i.set(e,l),l}function kr(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&kr(t,i,s,!0),n&&n.forEach(o=>kr(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=Kc[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Kc={data:Ci,props:Oi,emits:Oi,methods:ks,computed:ks,beforeCreate:Te,created:Te,beforeMount:Te,mounted:Te,beforeUpdate:Te,updated:Te,beforeDestroy:Te,beforeUnmount:Te,destroyed:Te,unmounted:Te,activated:Te,deactivated:Te,errorCaptured:Te,serverPrefetch:Te,components:ks,directives:ks,watch:zc,provide:Ci,inject:Wc};function Ci(t,e){return e?t?function(){return pe(q(t)?t.call(this,this):t,q(e)?e.call(this,this):e)}:e:t}function Wc(t,e){return ks(Cn(t),Cn(e))}function Cn(t){if(F(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Te(t,e){return t?[...new Set([].concat(t,e))]:e}function ks(t,e){return t?pe(Object.create(null),t,e):e}function Oi(t,e){return t?F(t)&&F(e)?[...new Set([...t,...e])]:pe(Object.create(null),Ai(t),Ai(e??{})):e}function zc(t,e){if(!t)return e;if(!e)return t;const s=pe(Object.create(null),t);for(const r in e)s[r]=Te(t[r],e[r]);return s}function Oa(){return{app:null,config:{isNativeTag:Ml,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Jc=0;function Gc(t,e){return function(r,n=null){q(r)||(r=pe({},r)),n!=null&&!he(n)&&(n=null);const i=Oa(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:Jc++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:Ou,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&q(c.install)?(o.add(c),c.install(u,...h)):q(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,d){if(!l){const g=u._ceVNode||ve(r,n);return g.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),h&&e?e(g,c):t(g,c,d),l=!0,u._container=c,c.__vue_app__=u,Fr(g.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Xe(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=cs;cs=u;try{return c()}finally{cs=h}}};return u}}let cs=null;function gr(t,e){if(be){let s=be.provides;const r=be.parent&&be.parent.provides;r===s&&(s=be.provides=Object.create(r)),s[t]=e}}function at(t,e,s=!1){const r=be||je;if(r||cs){const n=cs?cs._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&q(e)?e.call(r&&r.proxy):e}}const Ra={},$a=()=>Object.create(Ra),ja=t=>Object.getPrototypeOf(t)===Ra;function Qc(t,e,s,r=!1){const n={},i=$a();t.propsDefaults=Object.create(null),Ia(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:oa(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Yc(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=G(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let d=c[h];if(Mr(t.emitsOptions,d))continue;const g=e[d];if(l)if(ee(i,d))g!==i[d]&&(i[d]=g,u=!0);else{const y=Ve(d);n[y]=On(l,a,y,g,t,!1)}else g!==i[d]&&(i[d]=g,u=!0)}}}else{Ia(t,e,n,i)&&(u=!0);let c;for(const h in a)(!e||!ee(e,h)&&((c=zt(h))===h||!ee(e,c)))&&(l?s&&(s[h]!==void 0||s[c]!==void 0)&&(n[h]=On(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!ee(e,h))&&(delete i[h],u=!0)}u&&gt(t.attrs,"set","")}function Ia(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(xs(l))continue;const u=e[l];let c;n&&ee(n,c=Ve(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:Mr(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=G(s),u=a||ie;for(let c=0;c<i.length;c++){const h=i[c];s[h]=On(n,l,h,u[h],t,!ee(u,h))}}return o}function On(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=ee(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&q(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=Zs(n);r=u[s]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===zt(s))&&(r=!0))}return r}const Xc=new WeakMap;function La(t,e,s=!1){const r=s?Xc:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!q(t)){const c=h=>{l=!0;const[d,g]=La(h,e,!0);pe(o,d),g&&a.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return he(t)&&r.set(t,is),is;if(F(i))for(let c=0;c<i.length;c++){const h=Ve(i[c]);Ri(h)&&(o[h]=ie)}else if(i)for(const c in i){const h=Ve(c);if(Ri(h)){const d=i[c],g=o[h]=F(d)||q(d)?{type:d}:pe({},d),y=g.type;let w=!1,x=!0;if(F(y))for(let O=0;O<y.length;++O){const R=y[O],j=q(R)&&R.name;if(j==="Boolean"){w=!0;break}else j==="String"&&(x=!1)}else w=q(y)&&y.name==="Boolean";g[0]=w,g[1]=x,(w||ee(g,"default"))&&a.push(h)}}const u=[o,a];return he(t)&&r.set(t,u),u}function Ri(t){return t[0]!=="$"&&!xs(t)}const Da=t=>t[0]==="_"||t==="$stable",ai=t=>F(t)?t.map(ot):[ot(t)],Zc=(t,e,s)=>{if(e._n)return e;const r=Sr((...n)=>ai(e(...n)),s);return r._c=!1,r},Ua=(t,e,s)=>{const r=t._ctx;for(const n in t){if(Da(n))continue;const i=t[n];if(q(i))e[n]=Zc(n,i,r);else if(i!=null){const o=ai(i);e[n]=()=>o}}},Ma=(t,e)=>{const s=ai(e);t.slots.default=()=>s},Na=(t,e,s)=>{for(const r in e)(s||r!=="_")&&(t[r]=e[r])},eu=(t,e,s)=>{const r=t.slots=$a();if(t.vnode.shapeFlag&32){const n=e._;n?(Na(r,e,s),s&&Ho(r,"_",n,!0)):Ua(e,r)}else e&&Ma(t,e)},tu=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=ie;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:Na(n,e,s):(i=!e.$stable,Ua(e,n)),o=e}else e&&(Ma(t,e),o={default:1});if(i)for(const a in n)!Da(a)&&o[a]==null&&delete n[a]},Me=gu;function su(t){return ru(t)}function ru(t,e){const s=$r();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:d,setScopeId:g=Ge,insertStaticContent:y}=t,w=(f,p,m,b=null,_=null,S=null,P=void 0,T=null,k=!!p.dynamicChildren)=>{if(f===p)return;f&&!qt(f,p)&&(b=v(f),Ce(f,_,S,!0),f=null),p.patchFlag===-2&&(k=!1,p.dynamicChildren=null);const{type:E,ref:N,shapeFlag:$}=p;switch(E){case Nr:x(f,p,m,b);break;case $e:O(f,p,m,b);break;case on:f==null&&R(p,m,b,P);break;case it:L(f,p,m,b,_,S,P,T,k);break;default:$&1?B(f,p,m,b,_,S,P,T,k):$&6?Q(f,p,m,b,_,S,P,T,k):($&64||$&128)&&E.process(f,p,m,b,_,S,P,T,k,D)}N!=null&&_&&Er(N,f&&f.ref,S,p||f,!p)},x=(f,p,m,b)=>{if(f==null)r(p.el=a(p.children),m,b);else{const _=p.el=f.el;p.children!==f.children&&u(_,p.children)}},O=(f,p,m,b)=>{f==null?r(p.el=l(p.children||""),m,b):p.el=f.el},R=(f,p,m,b)=>{[f.el,f.anchor]=y(f.children,p,m,b,f.el,f.anchor)},j=({el:f,anchor:p},m,b)=>{let _;for(;f&&f!==p;)_=d(f),r(f,m,b),f=_;r(p,m,b)},A=({el:f,anchor:p})=>{let m;for(;f&&f!==p;)m=d(f),n(f),f=m;n(p)},B=(f,p,m,b,_,S,P,T,k)=>{p.type==="svg"?P="svg":p.type==="math"&&(P="mathml"),f==null?ne(p,m,b,_,S,P,T,k):V(f,p,_,S,P,T,k)},ne=(f,p,m,b,_,S,P,T)=>{let k,E;const{props:N,shapeFlag:$,transition:U,dirs:H}=f;if(k=f.el=o(f.type,S,N&&N.is,N),$&8?c(k,f.children):$&16&&we(f.children,k,null,b,_,rn(f,S),P,T),H&&Dt(f,null,b,"created"),se(k,f,f.scopeId,P,b),N){for(const ae in N)ae!=="value"&&!xs(ae)&&i(k,ae,null,N[ae],S,b);"value"in N&&i(k,"value",null,N.value,S),(E=N.onVnodeBeforeMount)&&st(E,b,f)}H&&Dt(f,null,b,"beforeMount");const z=nu(_,U);z&&U.beforeEnter(k),r(k,p,m),((E=N&&N.onVnodeMounted)||z||H)&&Me(()=>{E&&st(E,b,f),z&&U.enter(k),H&&Dt(f,null,b,"mounted")},_)},se=(f,p,m,b,_)=>{if(m&&g(f,m),b)for(let S=0;S<b.length;S++)g(f,b[S]);if(_){let S=_.subTree;if(p===S||Ka(S.type)&&(S.ssContent===p||S.ssFallback===p)){const P=_.vnode;se(f,P,P.scopeId,P.slotScopeIds,_.parent)}}},we=(f,p,m,b,_,S,P,T,k=0)=>{for(let E=k;E<f.length;E++){const N=f[E]=T?xt(f[E]):ot(f[E]);w(null,N,p,m,b,_,S,P,T)}},V=(f,p,m,b,_,S,P)=>{const T=p.el=f.el;let{patchFlag:k,dynamicChildren:E,dirs:N}=p;k|=f.patchFlag&16;const $=f.props||ie,U=p.props||ie;let H;if(m&&Ut(m,!1),(H=U.onVnodeBeforeUpdate)&&st(H,m,p,f),N&&Dt(p,f,m,"beforeUpdate"),m&&Ut(m,!0),($.innerHTML&&U.innerHTML==null||$.textContent&&U.textContent==null)&&c(T,""),E?J(f.dynamicChildren,E,T,m,b,rn(p,_),S):P||Y(f,p,T,null,m,b,rn(p,_),S,!1),k>0){if(k&16)oe(T,$,U,m,_);else if(k&2&&$.class!==U.class&&i(T,"class",null,U.class,_),k&4&&i(T,"style",$.style,U.style,_),k&8){const z=p.dynamicProps;for(let ae=0;ae<z.length;ae++){const te=z[ae],Le=$[te],Se=U[te];(Se!==Le||te==="value")&&i(T,te,Le,Se,_,m)}}k&1&&f.children!==p.children&&c(T,p.children)}else!P&&E==null&&oe(T,$,U,m,_);((H=U.onVnodeUpdated)||N)&&Me(()=>{H&&st(H,m,p,f),N&&Dt(p,f,m,"updated")},b)},J=(f,p,m,b,_,S,P)=>{for(let T=0;T<p.length;T++){const k=f[T],E=p[T],N=k.el&&(k.type===it||!qt(k,E)||k.shapeFlag&70)?h(k.el):m;w(k,E,N,null,b,_,S,P,!0)}},oe=(f,p,m,b,_)=>{if(p!==m){if(p!==ie)for(const S in p)!xs(S)&&!(S in m)&&i(f,S,p[S],null,_,b);for(const S in m){if(xs(S))continue;const P=m[S],T=p[S];P!==T&&S!=="value"&&i(f,S,T,P,_,b)}"value"in m&&i(f,"value",p.value,m.value,_)}},L=(f,p,m,b,_,S,P,T,k)=>{const E=p.el=f?f.el:a(""),N=p.anchor=f?f.anchor:a("");let{patchFlag:$,dynamicChildren:U,slotScopeIds:H}=p;H&&(T=T?T.concat(H):H),f==null?(r(E,m,b),r(N,m,b),we(p.children||[],m,N,_,S,P,T,k)):$>0&&$&64&&U&&f.dynamicChildren?(J(f.dynamicChildren,U,m,_,S,P,T),(p.key!=null||_&&p===_.subTree)&&Fa(f,p,!0)):Y(f,p,m,N,_,S,P,T,k)},Q=(f,p,m,b,_,S,P,T,k)=>{p.slotScopeIds=T,f==null?p.shapeFlag&512?_.ctx.activate(p,m,b,P,k):me(p,m,b,_,S,P,k):Ie(f,p,k)},me=(f,p,m,b,_,S,P)=>{const T=f.component=Su(f,b,_);if(Lr(f)&&(T.ctx.renderer=D),ku(T,!1,P),T.asyncDep){if(_&&_.registerDep(T,fe,P),!f.el){const k=T.subTree=ve($e);O(null,k,p,m)}}else fe(T,f,p,m,_,S,P)},Ie=(f,p,m)=>{const b=p.component=f.component;if(du(f,p,m))if(b.asyncDep&&!b.asyncResolved){re(b,p,m);return}else b.next=p,b.update();else p.el=f.el,b.vnode=p},fe=(f,p,m,b,_,S,P)=>{const T=()=>{if(f.isMounted){let{next:$,bu:U,u:H,parent:z,vnode:ae}=f;{const De=Ba(f);if(De){$&&($.el=ae.el,re(f,$,P)),De.asyncDep.then(()=>{f.isUnmounted||T()});return}}let te=$,Le;Ut(f,!1),$?($.el=ae.el,re(f,$,P)):$=ae,U&&pr(U),(Le=$.props&&$.props.onVnodeBeforeUpdate)&&st(Le,z,$,ae),Ut(f,!0);const Se=nn(f),We=f.subTree;f.subTree=Se,w(We,Se,h(We.el),v(We),f,_,S),$.el=Se.el,te===null&&pu(f,Se.el),H&&Me(H,_),(Le=$.props&&$.props.onVnodeUpdated)&&Me(()=>st(Le,z,$,ae),_)}else{let $;const{el:U,props:H}=p,{bm:z,m:ae,parent:te,root:Le,type:Se}=f,We=Rs(p);if(Ut(f,!1),z&&pr(z),!We&&($=H&&H.onVnodeBeforeMount)&&st($,te,p),Ut(f,!0),U&&ue){const De=()=>{f.subTree=nn(f),ue(U,f.subTree,f,_,null)};We&&Se.__asyncHydrate?Se.__asyncHydrate(U,f,De):De()}else{Le.ce&&Le.ce._injectChildStyle(Se);const De=f.subTree=nn(f);w(null,De,m,b,f,_,S),p.el=De.el}if(ae&&Me(ae,_),!We&&($=H&&H.onVnodeMounted)){const De=p;Me(()=>st($,te,De),_)}(p.shapeFlag&256||te&&Rs(te.vnode)&&te.vnode.shapeFlag&256)&&f.a&&Me(f.a,_),f.isMounted=!0,p=m=b=null}};f.scope.on();const k=f.effect=new Wo(T);f.scope.off();const E=f.update=k.run.bind(k),N=f.job=k.runIfDirty.bind(k);N.i=f,N.id=f.uid,k.scheduler=()=>ni(N),Ut(f,!0),E()},re=(f,p,m)=>{p.component=f;const b=f.vnode.props;f.vnode=p,f.next=null,Yc(f,p.props,b,m),tu(f,p.children,m),jt(),ki(f),It()},Y=(f,p,m,b,_,S,P,T,k=!1)=>{const E=f&&f.children,N=f?f.shapeFlag:0,$=p.children,{patchFlag:U,shapeFlag:H}=p;if(U>0){if(U&128){yt(E,$,m,b,_,S,P,T,k);return}else if(U&256){lt(E,$,m,b,_,S,P,T,k);return}}H&8?(N&16&&He(E,_,S),$!==E&&c(m,$)):N&16?H&16?yt(E,$,m,b,_,S,P,T,k):He(E,_,S,!0):(N&8&&c(m,""),H&16&&we($,m,b,_,S,P,T,k))},lt=(f,p,m,b,_,S,P,T,k)=>{f=f||is,p=p||is;const E=f.length,N=p.length,$=Math.min(E,N);let U;for(U=0;U<$;U++){const H=p[U]=k?xt(p[U]):ot(p[U]);w(f[U],H,m,null,_,S,P,T,k)}E>N?He(f,_,S,!0,!1,$):we(p,m,b,_,S,P,T,k,$)},yt=(f,p,m,b,_,S,P,T,k)=>{let E=0;const N=p.length;let $=f.length-1,U=N-1;for(;E<=$&&E<=U;){const H=f[E],z=p[E]=k?xt(p[E]):ot(p[E]);if(qt(H,z))w(H,z,m,null,_,S,P,T,k);else break;E++}for(;E<=$&&E<=U;){const H=f[$],z=p[U]=k?xt(p[U]):ot(p[U]);if(qt(H,z))w(H,z,m,null,_,S,P,T,k);else break;$--,U--}if(E>$){if(E<=U){const H=U+1,z=H<N?p[H].el:b;for(;E<=U;)w(null,p[E]=k?xt(p[E]):ot(p[E]),m,z,_,S,P,T,k),E++}}else if(E>U)for(;E<=$;)Ce(f[E],_,S,!0),E++;else{const H=E,z=E,ae=new Map;for(E=z;E<=U;E++){const Ue=p[E]=k?xt(p[E]):ot(p[E]);Ue.key!=null&&ae.set(Ue.key,E)}let te,Le=0;const Se=U-z+1;let We=!1,De=0;const ys=new Array(Se);for(E=0;E<Se;E++)ys[E]=0;for(E=H;E<=$;E++){const Ue=f[E];if(Le>=Se){Ce(Ue,_,S,!0);continue}let tt;if(Ue.key!=null)tt=ae.get(Ue.key);else for(te=z;te<=U;te++)if(ys[te-z]===0&&qt(Ue,p[te])){tt=te;break}tt===void 0?Ce(Ue,_,S,!0):(ys[tt-z]=E+1,tt>=De?De=tt:We=!0,w(Ue,p[tt],m,null,_,S,P,T,k),Le++)}const yi=We?iu(ys):is;for(te=yi.length-1,E=Se-1;E>=0;E--){const Ue=z+E,tt=p[Ue],bi=Ue+1<N?p[Ue+1].el:b;ys[E]===0?w(null,tt,m,bi,_,S,P,T,k):We&&(te<0||E!==yi[te]?et(tt,m,bi,2):te--)}}},et=(f,p,m,b,_=null)=>{const{el:S,type:P,transition:T,children:k,shapeFlag:E}=f;if(E&6){et(f.component.subTree,p,m,b);return}if(E&128){f.suspense.move(p,m,b);return}if(E&64){P.move(f,p,m,D);return}if(P===it){r(S,p,m);for(let $=0;$<k.length;$++)et(k[$],p,m,b);r(f.anchor,p,m);return}if(P===on){j(f,p,m);return}if(b!==2&&E&1&&T)if(b===0)T.beforeEnter(S),r(S,p,m),Me(()=>T.enter(S),_);else{const{leave:$,delayLeave:U,afterLeave:H}=T,z=()=>r(S,p,m),ae=()=>{$(S,()=>{z(),H&&H()})};U?U(S,z,ae):ae()}else r(S,p,m)},Ce=(f,p,m,b=!1,_=!1)=>{const{type:S,props:P,ref:T,children:k,dynamicChildren:E,shapeFlag:N,patchFlag:$,dirs:U,cacheIndex:H}=f;if($===-2&&(_=!1),T!=null&&Er(T,null,m,f,!0),H!=null&&(p.renderCache[H]=void 0),N&256){p.ctx.deactivate(f);return}const z=N&1&&U,ae=!Rs(f);let te;if(ae&&(te=P&&P.onVnodeBeforeUnmount)&&st(te,p,f),N&6)sr(f.component,m,b);else{if(N&128){f.suspense.unmount(m,b);return}z&&Dt(f,null,p,"beforeUnmount"),N&64?f.type.remove(f,p,m,D,b):E&&!E.hasOnce&&(S!==it||$>0&&$&64)?He(E,p,m,!1,!0):(S===it&&$&384||!_&&N&16)&&He(k,p,m),b&&Gt(f)}(ae&&(te=P&&P.onVnodeUnmounted)||z)&&Me(()=>{te&&st(te,p,f),z&&Dt(f,null,p,"unmounted")},m)},Gt=f=>{const{type:p,el:m,anchor:b,transition:_}=f;if(p===it){Qt(m,b);return}if(p===on){A(f);return}const S=()=>{n(m),_&&!_.persisted&&_.afterLeave&&_.afterLeave()};if(f.shapeFlag&1&&_&&!_.persisted){const{leave:P,delayLeave:T}=_,k=()=>P(m,S);T?T(f.el,S,k):k()}else S()},Qt=(f,p)=>{let m;for(;f!==p;)m=d(f),n(f),f=m;n(p)},sr=(f,p,m)=>{const{bum:b,scope:_,job:S,subTree:P,um:T,m:k,a:E}=f;$i(k),$i(E),b&&pr(b),_.stop(),S&&(S.flags|=8,Ce(P,f,p,m)),T&&Me(T,p),Me(()=>{f.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},He=(f,p,m,b=!1,_=!1,S=0)=>{for(let P=S;P<f.length;P++)Ce(f[P],p,m,b,_)},v=f=>{if(f.shapeFlag&6)return v(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const p=d(f.anchor||f.el),m=p&&p[Ac];return m?d(m):p};let I=!1;const C=(f,p,m)=>{f==null?p._vnode&&Ce(p._vnode,null,null,!0):w(p._vnode||null,f,p,null,null,null,m),p._vnode=f,I||(I=!0,ki(),da(),I=!1)},D={p:w,um:Ce,m:et,r:Gt,mt:me,mc:we,pc:Y,pbc:J,n:v,o:t};let X,ue;return e&&([X,ue]=e(D)),{render:C,hydrate:X,createApp:Gc(C,X)}}function rn({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Ut({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function nu(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Fa(t,e,s=!1){const r=t.children,n=e.children;if(F(r)&&F(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=xt(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Fa(o,a)),a.type===Nr&&(a.el=o.el)}}function iu(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function Ba(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ba(e)}function $i(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const ou=Symbol.for("v-scx"),au=()=>at(ou);function mr(t,e,s){return Ha(t,e,s)}function Ha(t,e,s=ie){const{immediate:r,deep:n,flush:i,once:o}=s,a=pe({},s),l=e&&r||!e&&i!=="post";let u;if(Ks){if(i==="sync"){const g=au();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=Ge,g.resume=Ge,g.pause=Ge,g}}const c=be;a.call=(g,y,w)=>Xe(g,c,y,w);let h=!1;i==="post"?a.scheduler=g=>{Me(g,c&&c.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(g,y)=>{y?g():ni(g)}),a.augmentJob=g=>{e&&(g.flags|=4),h&&(g.flags|=2,c&&(g.id=c.uid,g.i=c))};const d=Ec(t,e,a);return Ks&&(u?u.push(d):l&&d()),d}function lu(t,e,s){const r=this.proxy,n=de(t)?t.includes(".")?qa(r,t):()=>r[t]:t.bind(r,r);let i;q(e)?i=e:(i=e.handler,s=e);const o=Zs(this),a=Ha(n,i.bind(r),s);return o(),a}function qa(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const cu=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ve(e)}Modifiers`]||t[`${zt(e)}Modifiers`];function uu(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||ie;let n=s;const i=e.startsWith("update:"),o=i&&cu(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>de(c)?c.trim():c)),o.number&&(n=s.map(bn)));let a,l=r[a=Qr(e)]||r[a=Qr(Ve(e))];!l&&i&&(l=r[a=Qr(zt(e))]),l&&Xe(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Xe(u,t,6,n)}}function Va(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!q(t)){const l=u=>{const c=Va(u,e,!0);c&&(a=!0,pe(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(he(t)&&r.set(t,null),null):(F(i)?i.forEach(l=>o[l]=null):pe(o,i),he(t)&&r.set(t,o),o)}function Mr(t,e){return!t||!Pr(e)?!1:(e=e.slice(2).replace(/Once$/,""),ee(t,e[0].toLowerCase()+e.slice(1))||ee(t,zt(e))||ee(t,e))}function nn(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:d,setupState:g,ctx:y,inheritAttrs:w}=t,x=wr(t);let O,R;try{if(s.shapeFlag&4){const A=n||r,B=A;O=ot(u.call(B,A,c,h,g,d,y)),R=a}else{const A=e;O=ot(A.length>1?A(h,{attrs:a,slots:o,emit:l}):A(h,null)),R=e.props?a:hu(a)}}catch(A){js.length=0,Ir(A,t,1),O=ve($e)}let j=O;if(R&&w!==!1){const A=Object.keys(R),{shapeFlag:B}=j;A.length&&B&7&&(i&&A.some(Wn)&&(R=fu(R,i)),j=Rt(j,R,!1,!0))}return s.dirs&&(j=Rt(j,null,!1,!0),j.dirs=j.dirs?j.dirs.concat(s.dirs):s.dirs),s.transition&&qs(j,s.transition),O=j,wr(x),O}const hu=t=>{let e;for(const s in t)(s==="class"||s==="style"||Pr(s))&&((e||(e={}))[s]=t[s]);return e},fu=(t,e)=>{const s={};for(const r in t)(!Wn(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function du(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?ji(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const d=c[h];if(o[d]!==r[d]&&!Mr(u,d))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?ji(r,o,u):!0:!!o;return!1}function ji(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!Mr(s,i))return!0}return!1}function pu({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const Ka=t=>t.__isSuspense;function gu(t,e){e&&e.pendingBranch?F(t)?e.effects.push(...t):e.effects.push(t):xc(t)}const it=Symbol.for("v-fgt"),Nr=Symbol.for("v-txt"),$e=Symbol.for("v-cmt"),on=Symbol.for("v-stc"),js=[];let Be=null;function ge(t=!1){js.push(Be=t?null:[])}function mu(){js.pop(),Be=js[js.length-1]||null}let Vs=1;function Ii(t,e=!1){Vs+=t,t<0&&Be&&e&&(Be.hasOnce=!0)}function Wa(t){return t.dynamicChildren=Vs>0?Be||is:null,mu(),Vs>0&&Be&&Be.push(t),t}function ye(t,e,s,r,n,i){return Wa(M(t,e,s,r,n,i,!0))}function za(t,e,s,r,n){return Wa(ve(t,e,s,r,n,!0))}function Tr(t){return t?t.__v_isVNode===!0:!1}function qt(t,e){return t.type===e.type&&t.key===e.key}const Ja=({key:t})=>t??null,_r=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?de(t)||ke(t)||q(t)?{i:je,r:t,k:e,f:!!s}:t:null);function M(t,e=null,s=null,r=0,n=null,i=t===it?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ja(e),ref:e&&_r(e),scopeId:ga,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:je};return a?(li(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=de(s)?8:16),Vs>0&&!o&&Be&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Be.push(l),l}const ve=_u;function _u(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===Aa)&&(t=$e),Tr(t)){const a=Rt(t,e,!0);return s&&li(a,s),Vs>0&&!i&&Be&&(a.shapeFlag&6?Be[Be.indexOf(t)]=a:Be.push(a)),a.patchFlag=-2,a}if(Cu(t)&&(t=t.__vccOpts),e){e=vu(e);let{class:a,style:l}=e;a&&!de(a)&&(e.class=Ns(a)),he(l)&&(ri(l)&&!F(l)&&(l=pe({},l)),e.style=Gn(l))}const o=de(t)?1:Ka(t)?128:ma(t)?64:he(t)?4:q(t)?2:0;return M(t,e,s,r,n,o,i,!0)}function vu(t){return t?ri(t)||ja(t)?pe({},t):t:null}function Rt(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?yu(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Ja(u),ref:e&&e.ref?s&&i?F(i)?i.concat(_r(e)):[i,_r(e)]:_r(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==it?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Rt(t.ssContent),ssFallback:t.ssFallback&&Rt(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&qs(c,l.clone(c)),c}function Rn(t=" ",e=0){return ve(Nr,null,t,e)}function ft(t="",e=!1){return e?(ge(),za($e,null,t)):ve($e,null,t)}function ot(t){return t==null||typeof t=="boolean"?ve($e):F(t)?ve(it,null,t.slice()):Tr(t)?xt(t):ve(Nr,null,String(t))}function xt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Rt(t)}function li(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(F(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),li(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!ja(e)?e._ctx=je:n===3&&je&&(je.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else q(e)?(e={default:e,_ctx:je},s=32):(e=String(e),r&64?(s=16,e=[Rn(e)]):s=8);t.children=e,t.shapeFlag|=s}function yu(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=Ns([e.class,r.class]));else if(n==="style")e.style=Gn([e.style,r.style]);else if(Pr(n)){const i=e[n],o=r[n];o&&i!==o&&!(F(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function st(t,e,s,r=null){Xe(t,e,7,[s,r])}const bu=Oa();let wu=0;function Su(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||bu,i={uid:wu++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ql(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:La(r,n),emitsOptions:Va(r,n),emit:null,emitted:null,propsDefaults:ie,inheritAttrs:r.inheritAttrs,ctx:ie,data:ie,props:ie,attrs:ie,slots:ie,refs:ie,setupState:ie,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=uu.bind(null,i),t.ce&&t.ce(i),i}let be=null;const Eu=()=>be||je;let xr,$n;{const t=$r(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};xr=e("__VUE_INSTANCE_SETTERS__",s=>be=s),$n=e("__VUE_SSR_SETTERS__",s=>Ks=s)}const Zs=t=>{const e=be;return xr(t),t.scope.on(),()=>{t.scope.off(),xr(e)}},Li=()=>{be&&be.scope.off(),xr(null)};function Ga(t){return t.vnode.shapeFlag&4}let Ks=!1;function ku(t,e=!1,s=!1){e&&$n(e);const{props:r,children:n}=t.vnode,i=Ga(t);Qc(t,r,i,e),eu(t,n,s);const o=i?Tu(t,e):void 0;return e&&$n(!1),o}function Tu(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Hc);const{setup:r}=s;if(r){jt();const n=t.setupContext=r.length>1?Au(t):null,i=Zs(t),o=Ys(r,t,0,[t.props,n]),a=No(o);if(It(),i(),(a||t.sp)&&!Rs(t)&&Ea(t),a){if(o.then(Li,Li),e)return o.then(l=>{Di(t,l,e)}).catch(l=>{Ir(l,t,0)});t.asyncDep=o}else Di(t,o,e)}else Qa(t,e)}function Di(t,e,s){q(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:he(e)&&(t.setupState=ca(e)),Qa(t,s)}let Ui;function Qa(t,e,s){const r=t.type;if(!t.render){if(!e&&Ui&&!r.render){const n=r.template||oi(t).template;if(n){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=pe(pe({isCustomElement:i,delimiters:a},o),l);r.render=Ui(n,u)}}t.render=r.render||Ge}{const n=Zs(t);jt();try{qc(t)}finally{It(),n()}}}const xu={get(t,e){return Ee(t,"get",""),t[e]}};function Au(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,xu),slots:t.slots,emit:t.emit,expose:e}}function Fr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(ca(mc(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in $s)return $s[s](t)},has(e,s){return s in e||s in $s}})):t.proxy}function Pu(t,e=!0){return q(t)?t.displayName||t.name:t.name||e&&t.__name}function Cu(t){return q(t)&&"__vccOpts"in t}const Je=(t,e)=>wc(t,e,Ks);function ci(t,e,s){const r=arguments.length;return r===2?he(e)&&!F(e)?Tr(e)?ve(t,null,[e]):ve(t,e):ve(t,null,e):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&Tr(s)&&(s=[s]),ve(t,e,s))}const Ou="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let jn;const Mi=typeof window<"u"&&window.trustedTypes;if(Mi)try{jn=Mi.createPolicy("vue",{createHTML:t=>t})}catch{}const Ya=jn?t=>jn.createHTML(t):t=>t,Ru="http://www.w3.org/2000/svg",$u="http://www.w3.org/1998/Math/MathML",dt=typeof document<"u"?document:null,Ni=dt&&dt.createElement("template"),ju={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?dt.createElementNS(Ru,t):e==="mathml"?dt.createElementNS($u,t):s?dt.createElement(t,{is:s}):dt.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>dt.createTextNode(t),createComment:t=>dt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>dt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Ni.innerHTML=Ya(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Ni.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},bt="transition",ws="animation",Ws=Symbol("_vtc"),Xa={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Iu=pe({},_a,Xa),Lu=t=>(t.displayName="Transition",t.props=Iu,t),Du=Lu((t,{slots:e})=>ci(Oc,Uu(t),e)),Mt=(t,e=[])=>{F(t)?t.forEach(s=>s(...e)):t&&t(...e)},Fi=t=>t?F(t)?t.some(e=>e.length>1):t.length>1:!1;function Uu(t){const e={};for(const L in t)L in Xa||(e[L]=t[L]);if(t.css===!1)return e;const{name:s="v",type:r,duration:n,enterFromClass:i=`${s}-enter-from`,enterActiveClass:o=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:h=`${s}-leave-from`,leaveActiveClass:d=`${s}-leave-active`,leaveToClass:g=`${s}-leave-to`}=t,y=Mu(n),w=y&&y[0],x=y&&y[1],{onBeforeEnter:O,onEnter:R,onEnterCancelled:j,onLeave:A,onLeaveCancelled:B,onBeforeAppear:ne=O,onAppear:se=R,onAppearCancelled:we=j}=e,V=(L,Q,me,Ie)=>{L._enterCancelled=Ie,Nt(L,Q?c:a),Nt(L,Q?u:o),me&&me()},J=(L,Q)=>{L._isLeaving=!1,Nt(L,h),Nt(L,g),Nt(L,d),Q&&Q()},oe=L=>(Q,me)=>{const Ie=L?se:R,fe=()=>V(Q,L,me);Mt(Ie,[Q,fe]),Bi(()=>{Nt(Q,L?l:i),ut(Q,L?c:a),Fi(Ie)||Hi(Q,r,w,fe)})};return pe(e,{onBeforeEnter(L){Mt(O,[L]),ut(L,i),ut(L,o)},onBeforeAppear(L){Mt(ne,[L]),ut(L,l),ut(L,u)},onEnter:oe(!1),onAppear:oe(!0),onLeave(L,Q){L._isLeaving=!0;const me=()=>J(L,Q);ut(L,h),L._enterCancelled?(ut(L,d),Ki()):(Ki(),ut(L,d)),Bi(()=>{L._isLeaving&&(Nt(L,h),ut(L,g),Fi(A)||Hi(L,r,x,me))}),Mt(A,[L,me])},onEnterCancelled(L){V(L,!1,void 0,!0),Mt(j,[L])},onAppearCancelled(L){V(L,!0,void 0,!0),Mt(we,[L])},onLeaveCancelled(L){J(L),Mt(B,[L])}})}function Mu(t){if(t==null)return null;if(he(t))return[an(t.enter),an(t.leave)];{const e=an(t);return[e,e]}}function an(t){return ql(t)}function ut(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[Ws]||(t[Ws]=new Set)).add(e)}function Nt(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const s=t[Ws];s&&(s.delete(e),s.size||(t[Ws]=void 0))}function Bi(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Nu=0;function Hi(t,e,s,r){const n=t._endId=++Nu,i=()=>{n===t._endId&&r()};if(s!=null)return setTimeout(i,s);const{type:o,timeout:a,propCount:l}=Fu(t,e);if(!o)return r();const u=o+"end";let c=0;const h=()=>{t.removeEventListener(u,d),i()},d=g=>{g.target===t&&++c>=l&&h()};setTimeout(()=>{c<l&&h()},a+1),t.addEventListener(u,d)}function Fu(t,e){const s=window.getComputedStyle(t),r=y=>(s[y]||"").split(", "),n=r(`${bt}Delay`),i=r(`${bt}Duration`),o=qi(n,i),a=r(`${ws}Delay`),l=r(`${ws}Duration`),u=qi(a,l);let c=null,h=0,d=0;e===bt?o>0&&(c=bt,h=o,d=i.length):e===ws?u>0&&(c=ws,h=u,d=l.length):(h=Math.max(o,u),c=h>0?o>u?bt:ws:null,d=c?c===bt?i.length:l.length:0);const g=c===bt&&/\b(transform|all)(,|$)/.test(r(`${bt}Property`).toString());return{type:c,timeout:h,propCount:d,hasTransform:g}}function qi(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,r)=>Vi(s)+Vi(t[r])))}function Vi(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Ki(){return document.body.offsetHeight}function Bu(t,e,s){const r=t[Ws];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Wi=Symbol("_vod"),Hu=Symbol("_vsh"),qu=Symbol(""),Vu=/(^|;)\s*display\s*:/;function Ku(t,e,s){const r=t.style,n=de(s);let i=!1;if(s&&!n){if(e)if(de(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&vr(r,a,"")}else for(const o in e)s[o]==null&&vr(r,o,"");for(const o in s)o==="display"&&(i=!0),vr(r,o,s[o])}else if(n){if(e!==s){const o=r[qu];o&&(s+=";"+o),r.cssText=s,i=Vu.test(s)}}else e&&t.removeAttribute("style");Wi in t&&(t[Wi]=i?r.display:"",t[Hu]&&(r.display="none"))}const zi=/\s*!important$/;function vr(t,e,s){if(F(s))s.forEach(r=>vr(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=Wu(t,e);zi.test(s)?t.setProperty(zt(r),s.replace(zi,""),"important"):t[r]=s}}const Ji=["Webkit","Moz","ms"],ln={};function Wu(t,e){const s=ln[e];if(s)return s;let r=Ve(e);if(r!=="filter"&&r in t)return ln[e]=r;r=Rr(r);for(let n=0;n<Ji.length;n++){const i=Ji[n]+r;if(i in t)return ln[e]=i}return e}const Gi="http://www.w3.org/1999/xlink";function Qi(t,e,s,r,n,i=Gl(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Gi,e.slice(6,e.length)):t.setAttributeNS(Gi,e,s):s==null||i&&!qo(s)?t.removeAttribute(e):t.setAttribute(e,i?"":$t(s)?String(s):s)}function Yi(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Ya(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=qo(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function ss(t,e,s,r){t.addEventListener(e,s,r)}function zu(t,e,s,r){t.removeEventListener(e,s,r)}const Xi=Symbol("_vei");function Ju(t,e,s,r,n=null){const i=t[Xi]||(t[Xi]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=Gu(e);if(r){const u=i[e]=Xu(r,n);ss(t,a,u,l)}else o&&(zu(t,a,o,l),i[e]=void 0)}}const Zi=/(?:Once|Passive|Capture)$/;function Gu(t){let e;if(Zi.test(t)){e={};let r;for(;r=t.match(Zi);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):zt(t.slice(2)),e]}let cn=0;const Qu=Promise.resolve(),Yu=()=>cn||(Qu.then(()=>cn=0),cn=Date.now());function Xu(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;Xe(Zu(r,s.value),e,5,[r])};return s.value=t,s.attached=Yu(),s}function Zu(t,e){if(F(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const eo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,eh=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?Bu(t,r,o):e==="style"?Ku(t,s,r):Pr(e)?Wn(e)||Ju(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):th(t,e,r,o))?(Yi(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Qi(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!de(r))?Yi(t,Ve(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Qi(t,e,r,o))};function th(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&eo(e)&&q(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return eo(e)&&de(s)?!1:e in t}const to=t=>{const e=t.props["onUpdate:modelValue"]||!1;return F(e)?s=>pr(e,s):e};function sh(t){t.target.composing=!0}function so(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const un=Symbol("_assign"),lr={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[un]=to(n);const i=r||n.props&&n.props.type==="number";ss(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=bn(a)),t[un](a)}),s&&ss(t,"change",()=>{t.value=t.value.trim()}),e||(ss(t,"compositionstart",sh),ss(t,"compositionend",so),ss(t,"change",so))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[un]=to(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?bn(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},rh=["ctrl","shift","alt","meta"],nh={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>rh.some(s=>t[`${s}Key`]&&!e.includes(s))},ih=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=nh[e[o]];if(a&&a(n,e))return}return t(n,...i)})},oh=pe({patchProp:eh},ju);let ro;function ah(){return ro||(ro=su(oh))}const lh=(...t)=>{const e=ah().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=uh(r);if(!n)return;const i=e._component;!q(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,ch(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function ch(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function uh(t){return de(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const rs=typeof document<"u";function Za(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function hh(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Za(t.default)}const Z=Object.assign;function hn(t,e){const s={};for(const r in e){const n=e[r];s[r]=Ze(n)?n.map(t):t(n)}return s}const Is=()=>{},Ze=Array.isArray,el=/#/g,fh=/&/g,dh=/\//g,ph=/=/g,gh=/\?/g,tl=/\+/g,mh=/%5B/g,_h=/%5D/g,sl=/%5E/g,vh=/%60/g,rl=/%7B/g,yh=/%7C/g,nl=/%7D/g,bh=/%20/g;function ui(t){return encodeURI(""+t).replace(yh,"|").replace(mh,"[").replace(_h,"]")}function wh(t){return ui(t).replace(rl,"{").replace(nl,"}").replace(sl,"^")}function In(t){return ui(t).replace(tl,"%2B").replace(bh,"+").replace(el,"%23").replace(fh,"%26").replace(vh,"`").replace(rl,"{").replace(nl,"}").replace(sl,"^")}function Sh(t){return In(t).replace(ph,"%3D")}function Eh(t){return ui(t).replace(el,"%23").replace(gh,"%3F")}function kh(t){return t==null?"":Eh(t).replace(dh,"%2F")}function zs(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Th=/\/$/,xh=t=>t.replace(Th,"");function fn(t,e,s="/"){let r,n={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),n=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=Oh(r??e,s),{fullPath:r+(i&&"?")+i+o,path:r,query:n,hash:zs(o)}}function Ah(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function no(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Ph(t,e,s){const r=e.matched.length-1,n=s.matched.length-1;return r>-1&&r===n&&fs(e.matched[r],s.matched[n])&&il(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function fs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function il(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!Ch(t[s],e[s]))return!1;return!0}function Ch(t,e){return Ze(t)?io(t,e):Ze(e)?io(e,t):t===e}function io(t,e){return Ze(e)?t.length===e.length&&t.every((s,r)=>s===e[r]):t.length===1&&t[0]===e}function Oh(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),r=t.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let i=s.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const wt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Js;(function(t){t.pop="pop",t.push="push"})(Js||(Js={}));var Ls;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ls||(Ls={}));function Rh(t){if(!t)if(rs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),xh(t)}const $h=/^[^#]+#/;function jh(t,e){return t.replace($h,"#")+e}function Ih(t,e){const s=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-s.left-(e.left||0),top:r.top-s.top-(e.top||0)}}const Br=()=>({left:window.scrollX,top:window.scrollY});function Lh(t){let e;if("el"in t){const s=t.el,r=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;e=Ih(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function oo(t,e){return(history.state?history.state.position-e:-1)+t}const Ln=new Map;function Dh(t,e){Ln.set(t,e)}function Uh(t){const e=Ln.get(t);return Ln.delete(t),e}let Mh=()=>location.protocol+"//"+location.host;function ol(t,e){const{pathname:s,search:r,hash:n}=e,i=t.indexOf("#");if(i>-1){let a=n.includes(t.slice(i))?t.slice(i).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),no(l,"")}return no(s,t)+r+n}function Nh(t,e,s,r){let n=[],i=[],o=null;const a=({state:d})=>{const g=ol(t,location),y=s.value,w=e.value;let x=0;if(d){if(s.value=g,e.value=d,o&&o===y){o=null;return}x=w?d.position-w.position:0}else r(g);n.forEach(O=>{O(s.value,y,{delta:x,type:Js.pop,direction:x?x>0?Ls.forward:Ls.back:Ls.unknown})})};function l(){o=s.value}function u(d){n.push(d);const g=()=>{const y=n.indexOf(d);y>-1&&n.splice(y,1)};return i.push(g),g}function c(){const{history:d}=window;d.state&&d.replaceState(Z({},d.state,{scroll:Br()}),"")}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function ao(t,e,s,r=!1,n=!1){return{back:t,current:e,forward:s,replaced:r,position:window.history.length,scroll:n?Br():null}}function Fh(t){const{history:e,location:s}=window,r={value:ol(t,s)},n={value:e.state};n.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const h=t.indexOf("#"),d=h>-1?(s.host&&document.querySelector("base")?t:t.slice(h))+l:Mh()+t+l;try{e[c?"replaceState":"pushState"](u,"",d),n.value=u}catch(g){console.error(g),s[c?"replace":"assign"](d)}}function o(l,u){const c=Z({},e.state,ao(n.value.back,l,n.value.forward,!0),u,{position:n.value.position});i(l,c,!0),r.value=l}function a(l,u){const c=Z({},n.value,e.state,{forward:l,scroll:Br()});i(c.current,c,!0);const h=Z({},ao(r.value,l,null),{position:c.position+1},u);i(l,h,!1),r.value=l}return{location:r,state:n,push:a,replace:o}}function Bh(t){t=Rh(t);const e=Fh(t),s=Nh(t,e.state,e.location,e.replace);function r(i,o=!0){o||s.pauseListeners(),history.go(i)}const n=Z({location:"",base:t,go:r,createHref:jh.bind(null,t)},e,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function Hh(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),Bh(t)}function qh(t){return typeof t=="string"||t&&typeof t=="object"}function al(t){return typeof t=="string"||typeof t=="symbol"}const ll=Symbol("");var lo;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(lo||(lo={}));function ds(t,e){return Z(new Error,{type:t,[ll]:!0},e)}function ht(t,e){return t instanceof Error&&ll in t&&(e==null||!!(t.type&e))}const co="[^/]+?",Vh={sensitive:!1,strict:!1,start:!0,end:!0},Kh=/[.+*?^${}()[\]/\\]/g;function Wh(t,e){const s=Z({},Vh,e),r=[];let n=s.start?"^":"";const i=[];for(const u of t){const c=u.length?[]:[90];s.strict&&!u.length&&(n+="/");for(let h=0;h<u.length;h++){const d=u[h];let g=40+(s.sensitive?.25:0);if(d.type===0)h||(n+="/"),n+=d.value.replace(Kh,"\\$&"),g+=40;else if(d.type===1){const{value:y,repeatable:w,optional:x,regexp:O}=d;i.push({name:y,repeatable:w,optional:x});const R=O||co;if(R!==co){g+=10;try{new RegExp(`(${R})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${y}" (${R}): `+A.message)}}let j=w?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;h||(j=x&&u.length<2?`(?:/${j})`:"/"+j),x&&(j+="?"),n+=j,g+=20,x&&(g+=-8),w&&(g+=-20),R===".*"&&(g+=-50)}c.push(g)}r.push(c)}if(s.strict&&s.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let d=1;d<c.length;d++){const g=c[d]||"",y=i[d-1];h[y.name]=g&&y.repeatable?g.split("/"):g}return h}function l(u){let c="",h=!1;for(const d of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const g of d)if(g.type===0)c+=g.value;else if(g.type===1){const{value:y,repeatable:w,optional:x}=g,O=y in u?u[y]:"";if(Ze(O)&&!w)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const R=Ze(O)?O.join("/"):O;if(!R)if(x)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${y}"`);c+=R}}return c||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function zh(t,e){let s=0;for(;s<t.length&&s<e.length;){const r=e[s]-t[s];if(r)return r;s++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function cl(t,e){let s=0;const r=t.score,n=e.score;for(;s<r.length&&s<n.length;){const i=zh(r[s],n[s]);if(i)return i;s++}if(Math.abs(n.length-r.length)===1){if(uo(r))return 1;if(uo(n))return-1}return n.length-r.length}function uo(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Jh={type:0,value:""},Gh=/[a-zA-Z0-9_]/;function Qh(t){if(!t)return[[]];if(t==="/")return[[Jh]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${s})/"${u}": ${g}`)}let s=0,r=s;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,u="",c="";function h(){u&&(s===0?i.push({type:0,value:u}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),s=1):d();break;case 4:d(),s=r;break;case 1:l==="("?s=2:Gh.test(l)?d():(h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=3:c+=l;break;case 3:h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),n}function Yh(t,e,s){const r=Wh(Qh(t.path),s),n=Z(r,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function Xh(t,e){const s=[],r=new Map;e=go({strict:!1,end:!0,sensitive:!1},e);function n(h){return r.get(h)}function i(h,d,g){const y=!g,w=fo(h);w.aliasOf=g&&g.record;const x=go(e,h),O=[w];if("alias"in h){const A=typeof h.alias=="string"?[h.alias]:h.alias;for(const B of A)O.push(fo(Z({},w,{components:g?g.record.components:w.components,path:B,aliasOf:g?g.record:w})))}let R,j;for(const A of O){const{path:B}=A;if(d&&B[0]!=="/"){const ne=d.record.path,se=ne[ne.length-1]==="/"?"":"/";A.path=d.record.path+(B&&se+B)}if(R=Yh(A,d,x),g?g.alias.push(R):(j=j||R,j!==R&&j.alias.push(R),y&&h.name&&!po(R)&&o(h.name)),ul(R)&&l(R),w.children){const ne=w.children;for(let se=0;se<ne.length;se++)i(ne[se],R,g&&g.children[se])}g=g||R}return j?()=>{o(j)}:Is}function o(h){if(al(h)){const d=r.get(h);d&&(r.delete(h),s.splice(s.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=s.indexOf(h);d>-1&&(s.splice(d,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return s}function l(h){const d=tf(h,s);s.splice(d,0,h),h.record.name&&!po(h)&&r.set(h.record.name,h)}function u(h,d){let g,y={},w,x;if("name"in h&&h.name){if(g=r.get(h.name),!g)throw ds(1,{location:h});x=g.record.name,y=Z(ho(d.params,g.keys.filter(j=>!j.optional).concat(g.parent?g.parent.keys.filter(j=>j.optional):[]).map(j=>j.name)),h.params&&ho(h.params,g.keys.map(j=>j.name))),w=g.stringify(y)}else if(h.path!=null)w=h.path,g=s.find(j=>j.re.test(w)),g&&(y=g.parse(w),x=g.record.name);else{if(g=d.name?r.get(d.name):s.find(j=>j.re.test(d.path)),!g)throw ds(1,{location:h,currentLocation:d});x=g.record.name,y=Z({},d.params,h.params),w=g.stringify(y)}const O=[];let R=g;for(;R;)O.unshift(R.record),R=R.parent;return{name:x,path:w,params:y,matched:O,meta:ef(O)}}t.forEach(h=>i(h));function c(){s.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:n}}function ho(t,e){const s={};for(const r of e)r in t&&(s[r]=t[r]);return s}function fo(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Zh(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Zh(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const r in t.components)e[r]=typeof s=="object"?s[r]:s;return e}function po(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function ef(t){return t.reduce((e,s)=>Z(e,s.meta),{})}function go(t,e){const s={};for(const r in t)s[r]=r in e?e[r]:t[r];return s}function tf(t,e){let s=0,r=e.length;for(;s!==r;){const i=s+r>>1;cl(t,e[i])<0?r=i:s=i+1}const n=sf(t);return n&&(r=e.lastIndexOf(n,r-1)),r}function sf(t){let e=t;for(;e=e.parent;)if(ul(e)&&cl(t,e)===0)return e}function ul({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function rf(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<r.length;++n){const i=r[n].replace(tl," "),o=i.indexOf("="),a=zs(o<0?i:i.slice(0,o)),l=o<0?null:zs(i.slice(o+1));if(a in e){let u=e[a];Ze(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function mo(t){let e="";for(let s in t){const r=t[s];if(s=Sh(s),r==null){r!==void 0&&(e+=(e.length?"&":"")+s);continue}(Ze(r)?r.map(i=>i&&In(i)):[r&&In(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+s,i!=null&&(e+="="+i))})}return e}function nf(t){const e={};for(const s in t){const r=t[s];r!==void 0&&(e[s]=Ze(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return e}const of=Symbol(""),_o=Symbol(""),Hr=Symbol(""),hl=Symbol(""),Dn=Symbol("");function Ss(){let t=[];function e(r){return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function At(t,e,s,r,n,i=o=>o()){const o=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const u=d=>{d===!1?l(ds(4,{from:s,to:e})):d instanceof Error?l(d):qh(d)?l(ds(2,{from:e,to:d})):(o&&r.enterCallbacks[n]===o&&typeof d=="function"&&o.push(d),a())},c=i(()=>t.call(r&&r.instances[n],e,s,u));let h=Promise.resolve(c);t.length<3&&(h=h.then(u)),h.catch(d=>l(d))})}function dn(t,e,s,r,n=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Za(l)){const c=(l.__vccOpts||l)[e];c&&i.push(At(c,s,r,o,a,n))}else{let u=l();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=hh(c)?c.default:c;o.mods[a]=c,o.components[a]=h;const g=(h.__vccOpts||h)[e];return g&&At(g,s,r,o,a,n)()}))}}return i}function vo(t){const e=at(Hr),s=at(hl),r=Je(()=>{const l=as(t.to);return e.resolve(l)}),n=Je(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=s.matched;if(!c||!h.length)return-1;const d=h.findIndex(fs.bind(null,c));if(d>-1)return d;const g=yo(l[u-2]);return u>1&&yo(c)===g&&h[h.length-1].path!==g?h.findIndex(fs.bind(null,l[u-2])):d}),i=Je(()=>n.value>-1&&hf(s.params,r.value.params)),o=Je(()=>n.value>-1&&n.value===s.matched.length-1&&il(s.params,r.value.params));function a(l={}){if(uf(l)){const u=e[as(t.replace)?"replace":"push"](as(t.to)).catch(Is);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:Je(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function af(t){return t.length===1?t[0]:t}const lf=Sa({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:vo,setup(t,{slots:e}){const s=jr(vo(t)),{options:r}=at(Hr),n=Je(()=>({[bo(t.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[bo(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&af(e.default(s));return t.custom?i:ci("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),cf=lf;function uf(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function hf(t,e){for(const s in e){const r=e[s],n=t[s];if(typeof r=="string"){if(r!==n)return!1}else if(!Ze(n)||n.length!==r.length||r.some((i,o)=>i!==n[o]))return!1}return!0}function yo(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const bo=(t,e,s)=>t??e??s,ff=Sa({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const r=at(Dn),n=Je(()=>t.route||r.value),i=at(_o,0),o=Je(()=>{let u=as(i);const{matched:c}=n.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=Je(()=>n.value.matched[o.value]);gr(_o,Je(()=>o.value+1)),gr(of,a),gr(Dn,n);const l=Qs();return mr(()=>[l.value,a.value,t.name],([u,c,h],[d,g,y])=>{c&&(c.instances[h]=u,g&&g!==c&&u&&u===d&&(c.leaveGuards.size||(c.leaveGuards=g.leaveGuards),c.updateGuards.size||(c.updateGuards=g.updateGuards))),u&&c&&(!g||!fs(c,g)||!d)&&(c.enterCallbacks[h]||[]).forEach(w=>w(u))},{flush:"post"}),()=>{const u=n.value,c=t.name,h=a.value,d=h&&h.components[c];if(!d)return wo(s.default,{Component:d,route:u});const g=h.props[c],y=g?g===!0?u.params:typeof g=="function"?g(u):g:null,x=ci(d,Z({},y,e,{onVnodeUnmounted:O=>{O.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return wo(s.default,{Component:x,route:u})||x}}});function wo(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const df=ff;function pf(t){const e=Xh(t.routes,t),s=t.parseQuery||rf,r=t.stringifyQuery||mo,n=t.history,i=Ss(),o=Ss(),a=Ss(),l=_c(wt);let u=wt;rs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=hn.bind(null,v=>""+v),h=hn.bind(null,kh),d=hn.bind(null,zs);function g(v,I){let C,D;return al(v)?(C=e.getRecordMatcher(v),D=I):D=v,e.addRoute(D,C)}function y(v){const I=e.getRecordMatcher(v);I&&e.removeRoute(I)}function w(){return e.getRoutes().map(v=>v.record)}function x(v){return!!e.getRecordMatcher(v)}function O(v,I){if(I=Z({},I||l.value),typeof v=="string"){const p=fn(s,v,I.path),m=e.resolve({path:p.path},I),b=n.createHref(p.fullPath);return Z(p,m,{params:d(m.params),hash:zs(p.hash),redirectedFrom:void 0,href:b})}let C;if(v.path!=null)C=Z({},v,{path:fn(s,v.path,I.path).path});else{const p=Z({},v.params);for(const m in p)p[m]==null&&delete p[m];C=Z({},v,{params:h(p)}),I.params=h(I.params)}const D=e.resolve(C,I),X=v.hash||"";D.params=c(d(D.params));const ue=Ah(r,Z({},v,{hash:wh(X),path:D.path})),f=n.createHref(ue);return Z({fullPath:ue,hash:X,query:r===mo?nf(v.query):v.query||{}},D,{redirectedFrom:void 0,href:f})}function R(v){return typeof v=="string"?fn(s,v,l.value.path):Z({},v)}function j(v,I){if(u!==v)return ds(8,{from:I,to:v})}function A(v){return se(v)}function B(v){return A(Z(R(v),{replace:!0}))}function ne(v){const I=v.matched[v.matched.length-1];if(I&&I.redirect){const{redirect:C}=I;let D=typeof C=="function"?C(v):C;return typeof D=="string"&&(D=D.includes("?")||D.includes("#")?D=R(D):{path:D},D.params={}),Z({query:v.query,hash:v.hash,params:D.path!=null?{}:v.params},D)}}function se(v,I){const C=u=O(v),D=l.value,X=v.state,ue=v.force,f=v.replace===!0,p=ne(C);if(p)return se(Z(R(p),{state:typeof p=="object"?Z({},X,p.state):X,force:ue,replace:f}),I||C);const m=C;m.redirectedFrom=I;let b;return!ue&&Ph(r,D,C)&&(b=ds(16,{to:m,from:D}),et(D,D,!0,!1)),(b?Promise.resolve(b):J(m,D)).catch(_=>ht(_)?ht(_,2)?_:yt(_):Y(_,m,D)).then(_=>{if(_){if(ht(_,2))return se(Z({replace:f},R(_.to),{state:typeof _.to=="object"?Z({},X,_.to.state):X,force:ue}),I||m)}else _=L(m,D,!0,f,X);return oe(m,D,_),_})}function we(v,I){const C=j(v,I);return C?Promise.reject(C):Promise.resolve()}function V(v){const I=Qt.values().next().value;return I&&typeof I.runWithContext=="function"?I.runWithContext(v):v()}function J(v,I){let C;const[D,X,ue]=gf(v,I);C=dn(D.reverse(),"beforeRouteLeave",v,I);for(const p of D)p.leaveGuards.forEach(m=>{C.push(At(m,v,I))});const f=we.bind(null,v,I);return C.push(f),He(C).then(()=>{C=[];for(const p of i.list())C.push(At(p,v,I));return C.push(f),He(C)}).then(()=>{C=dn(X,"beforeRouteUpdate",v,I);for(const p of X)p.updateGuards.forEach(m=>{C.push(At(m,v,I))});return C.push(f),He(C)}).then(()=>{C=[];for(const p of ue)if(p.beforeEnter)if(Ze(p.beforeEnter))for(const m of p.beforeEnter)C.push(At(m,v,I));else C.push(At(p.beforeEnter,v,I));return C.push(f),He(C)}).then(()=>(v.matched.forEach(p=>p.enterCallbacks={}),C=dn(ue,"beforeRouteEnter",v,I,V),C.push(f),He(C))).then(()=>{C=[];for(const p of o.list())C.push(At(p,v,I));return C.push(f),He(C)}).catch(p=>ht(p,8)?p:Promise.reject(p))}function oe(v,I,C){a.list().forEach(D=>V(()=>D(v,I,C)))}function L(v,I,C,D,X){const ue=j(v,I);if(ue)return ue;const f=I===wt,p=rs?history.state:{};C&&(D||f?n.replace(v.fullPath,Z({scroll:f&&p&&p.scroll},X)):n.push(v.fullPath,X)),l.value=v,et(v,I,C,f),yt()}let Q;function me(){Q||(Q=n.listen((v,I,C)=>{if(!sr.listening)return;const D=O(v),X=ne(D);if(X){se(Z(X,{replace:!0,force:!0}),D).catch(Is);return}u=D;const ue=l.value;rs&&Dh(oo(ue.fullPath,C.delta),Br()),J(D,ue).catch(f=>ht(f,12)?f:ht(f,2)?(se(Z(R(f.to),{force:!0}),D).then(p=>{ht(p,20)&&!C.delta&&C.type===Js.pop&&n.go(-1,!1)}).catch(Is),Promise.reject()):(C.delta&&n.go(-C.delta,!1),Y(f,D,ue))).then(f=>{f=f||L(D,ue,!1),f&&(C.delta&&!ht(f,8)?n.go(-C.delta,!1):C.type===Js.pop&&ht(f,20)&&n.go(-1,!1)),oe(D,ue,f)}).catch(Is)}))}let Ie=Ss(),fe=Ss(),re;function Y(v,I,C){yt(v);const D=fe.list();return D.length?D.forEach(X=>X(v,I,C)):console.error(v),Promise.reject(v)}function lt(){return re&&l.value!==wt?Promise.resolve():new Promise((v,I)=>{Ie.add([v,I])})}function yt(v){return re||(re=!v,me(),Ie.list().forEach(([I,C])=>v?C(v):I()),Ie.reset()),v}function et(v,I,C,D){const{scrollBehavior:X}=t;if(!rs||!X)return Promise.resolve();const ue=!C&&Uh(oo(v.fullPath,0))||(D||!C)&&history.state&&history.state.scroll||null;return ha().then(()=>X(v,I,ue)).then(f=>f&&Lh(f)).catch(f=>Y(f,v,I))}const Ce=v=>n.go(v);let Gt;const Qt=new Set,sr={currentRoute:l,listening:!0,addRoute:g,removeRoute:y,clearRoutes:e.clearRoutes,hasRoute:x,getRoutes:w,resolve:O,options:t,push:A,replace:B,go:Ce,back:()=>Ce(-1),forward:()=>Ce(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:fe.add,isReady:lt,install(v){const I=this;v.component("RouterLink",cf),v.component("RouterView",df),v.config.globalProperties.$router=I,Object.defineProperty(v.config.globalProperties,"$route",{enumerable:!0,get:()=>as(l)}),rs&&!Gt&&l.value===wt&&(Gt=!0,A(n.location).catch(X=>{}));const C={};for(const X in wt)Object.defineProperty(C,X,{get:()=>l.value[X],enumerable:!0});v.provide(Hr,I),v.provide(hl,oa(C)),v.provide(Dn,l);const D=v.unmount;Qt.add(v),v.unmount=function(){Qt.delete(v),Qt.size<1&&(u=wt,Q&&Q(),Q=null,l.value=wt,Gt=!1,re=!1),D()}}};function He(v){return v.reduce((I,C)=>I.then(()=>V(C)),Promise.resolve())}return sr}function gf(t,e){const s=[],r=[],n=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>fs(u,a))?r.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(u=>fs(u,l))||n.push(l))}return[s,r,n]}function hi(){return at(Hr)}const ms=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},mf={name:"App",mounted(){typeof chrome<"u"&&chrome.runtime&&chrome.runtime.id?chrome.runtime.sendMessage({action:"check-auth"},e=>{e&&e.authenticated?(console.log("Already authenticated in Chrome extension",e.user),localStorage.setItem("isAuthenticated","true"),(this.$route.path==="/"||this.$route.path==="/auth")&&this.$router.push("/dashboard")):(console.log("Not authenticated in Chrome extension"),this.$route.path!=="/"&&this.$route.path!=="/auth"&&this.$route.path!=="/callback"&&(localStorage.removeItem("isAuthenticated"),this.$router.push("/auth")))}):localStorage.getItem("isAuthenticated")==="true"?fetch("http://localhost:3000/auth/user",{method:"GET",credentials:"include"}).then(s=>s.json()).then(s=>{s.user?(console.log("Already authenticated in web app",s.user),(this.$route.path==="/"||this.$route.path==="/auth")&&this.$router.push("/dashboard")):(console.log("Session expired in web app"),localStorage.removeItem("isAuthenticated"),this.$route.path!=="/"&&this.$route.path!=="/auth"&&this.$route.path!=="/callback"&&this.$router.push("/auth"))}).catch(s=>{console.error("Error checking auth state:",s),localStorage.removeItem("isAuthenticated"),this.$route.path!=="/"&&this.$route.path!=="/auth"&&this.$route.path!=="/callback"&&this.$router.push("/auth")}):this.$route.path!=="/"&&this.$route.path!=="/auth"&&this.$route.path!=="/callback"&&this.$router.push("/auth")}},_f={class:"app"};function vf(t,e,s,r,n,i){const o=Ur("router-view");return ge(),ye("div",_f,[ve(o,null,{default:Sr(({Component:a})=>[ve(Du,{name:"fade",mode:"out-in"},{default:Sr(()=>[(ge(),za(Bc(a)))]),_:2},1024)]),_:1})])}const yf=ms(mf,[["render",vf]]);const bf={name:"Logo",props:{showText:{type:Boolean,default:!0}}},wf={class:"logo"},Sf={key:0};function Ef(t,e,s,r,n,i){const o=Ur("router-link");return ge(),ye("div",wf,[ve(o,{to:"/",class:"logo-link"},{default:Sr(()=>[e[0]||(e[0]=M("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[M("path",{d:"M17 17C17 13.6863 19.2386 10.9543 22.3755 9.71663C22.2425 9.71301 22.1099 9.71117 21.9769 9.71117C16.7228 9.71117 12.3547 14.0793 12.3547 19.3334C12.3547 24.5874 16.7228 28.9556 21.9769 28.9556C26.2021 28.9556 29.8217 26.1832 30.9175 22.3547C28.8656 23.4735 26.5543 24 24.1231 24C20.2645 24 17.0001 20.7355 17 17Z",fill:"#6366f1",class:"moon"})],-1)),s.showText?(ge(),ye("span",Sf,"Eclipse")):ft("",!0)]),_:1})])}const fl=ms(bf,[["render",Ef],["__scopeId","data-v-6ab5ff2c"]]),kf="modulepreload",Tf=function(t){return"/"+t},So={},ps=function(e,s,r){if(!s||s.length===0)return e();const n=document.getElementsByTagName("link");return Promise.all(s.map(i=>{if(i=Tf(i),i in So)return;So[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=n.length-1;c>=0;c--){const h=n[c];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":kf,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((c,h)=>{u.addEventListener("load",c),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},xf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>ps(()=>Promise.resolve().then(()=>_s),void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class fi extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class Af extends fi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Pf extends fi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Cf extends fi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Un;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Un||(Un={}));var Of=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Rf{constructor(e,{headers:s={},customFetch:r,region:n=Un.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=xf(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return Of(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(y=>{throw new Af(y)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new Pf(c);if(!c.ok)throw new Cf(c);let d=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return d==="application/json"?g=yield c.json():d==="application/octet-stream"?g=yield c.blob():d==="text/event-stream"?g=c:d==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(n){return{data:null,error:n}}})}}var Ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $f(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var Re={},di={},qr={},er={},Vr={},Kr={},jf=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},gs=jf();const If=gs.fetch,dl=gs.fetch.bind(gs),pl=gs.Headers,Lf=gs.Request,Df=gs.Response,_s=Object.freeze(Object.defineProperty({__proto__:null,Headers:pl,Request:Lf,Response:Df,default:dl,fetch:If},Symbol.toStringTag,{value:"Module"})),Uf=$f(_s);var Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});let Mf=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Wr.default=Mf;var gl=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kr,"__esModule",{value:!0});const Nf=gl(Uf),Ff=gl(Wr);let Bf=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Nf.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=Object.assign({},this.headers),this.headers[e]=s,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,h=null,d=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const O=await i.text();O===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=O:c=JSON.parse(O))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,d=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(c=[],u=null,d=200,g="OK")}catch{i.status===404&&w===""?(d=204,g="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,d=200,g="OK"),u&&this.shouldThrowOnError)throw new Ff.default(u)}return{error:u,data:c,count:h,status:d,statusText:g}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,s)}returns(){return this}overrideTypes(){return this}};Kr.default=Bf;var Hf=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vr,"__esModule",{value:!0});const qf=Hf(Kr);let Vf=class extends qf.default{select(e){let s=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Vr.default=Vf;var Kf=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(er,"__esModule",{value:!0});const Wf=Kf(Vr);let zf=class extends Wf.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}};er.default=zf;var Jf=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qr,"__esModule",{value:!0});const Es=Jf(er);let Gf=class{constructor(e,{headers:s={},schema:r,fetch:n}){this.url=e,this.headers=s,this.schema=r,this.fetch=n}select(e,{head:s=!1,count:r}={}){const n=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Es.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:r=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Es.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Es.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const r="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),s&&n.push(`count=${s}`),this.headers.Prefer=n.join(","),new Es.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Es.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};qr.default=Gf;var zr={},Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.version=void 0;Jr.version="0.0.0-automated";Object.defineProperty(zr,"__esModule",{value:!0});zr.DEFAULT_HEADERS=void 0;const Qf=Jr;zr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Qf.version}`};var ml=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(di,"__esModule",{value:!0});const Yf=ml(qr),Xf=ml(er),Zf=zr;let ed=class _l{constructor(e,{headers:s={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},Zf.DEFAULT_HEADERS),s),this.schemaName=r,this.fetch=n}from(e){const s=new URL(`${this.url}/${e}`);return new Yf.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new _l(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:n=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||n?(o=r?"HEAD":"GET",Object.entries(s).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{a.searchParams.append(c,h)})):(o="POST",l=s);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Xf.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};di.default=ed;var vs=Ke&&Ke.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Re,"__esModule",{value:!0});Re.PostgrestError=Re.PostgrestBuilder=Re.PostgrestTransformBuilder=Re.PostgrestFilterBuilder=Re.PostgrestQueryBuilder=Re.PostgrestClient=void 0;const vl=vs(di);Re.PostgrestClient=vl.default;const yl=vs(qr);Re.PostgrestQueryBuilder=yl.default;const bl=vs(er);Re.PostgrestFilterBuilder=bl.default;const wl=vs(Vr);Re.PostgrestTransformBuilder=wl.default;const Sl=vs(Kr);Re.PostgrestBuilder=Sl.default;const El=vs(Wr);Re.PostgrestError=El.default;var td=Re.default={PostgrestClient:vl.default,PostgrestQueryBuilder:yl.default,PostgrestFilterBuilder:bl.default,PostgrestTransformBuilder:wl.default,PostgrestBuilder:Sl.default,PostgrestError:El.default};const{PostgrestClient:sd,PostgrestQueryBuilder:Ug,PostgrestFilterBuilder:Mg,PostgrestTransformBuilder:Ng,PostgrestBuilder:Fg,PostgrestError:Bg}=td,rd="2.11.2",nd={"X-Client-Info":`realtime-js/${rd}`},id="1.0.0",kl=1e4,od=1e3;var us;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(us||(us={}));var Ne;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ne||(Ne={}));var ze;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ze||(ze={}));var Mn;(function(t){t.websocket="websocket"})(Mn||(Mn={}));var Vt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Vt||(Vt={}));class ad{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Tl{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var le;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(le||(le={}));const Eo=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=ld(o,t,e,n),i),{})},ld=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?xl(i,o):Nn(o)},xl=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return fd(e,s)}switch(t){case le.bool:return cd(e);case le.float4:case le.float8:case le.int2:case le.int4:case le.int8:case le.numeric:case le.oid:return ud(e);case le.json:case le.jsonb:return hd(e);case le.timestamp:return dd(e);case le.abstime:case le.date:case le.daterange:case le.int4range:case le.int8range:case le.money:case le.reltime:case le.text:case le.time:case le.timestamptz:case le.timetz:case le.tsrange:case le.tstzrange:return Nn(e);default:return Nn(e)}},Nn=t=>t,cd=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ud=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},hd=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},fd=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>xl(e,a))}return t},dd=t=>typeof t=="string"?t.replace(" ","T"):t,Al=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class pn{constructor(e,s,r={},n=kl){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ko;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ko||(ko={}));class Ds{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ds.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Ds.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Ds.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const d=c.map(x=>x.presence_ref),g=h.map(x=>x.presence_ref),y=c.filter(x=>g.indexOf(x.presence_ref)<0),w=h.filter(x=>d.indexOf(x.presence_ref)<0);y.length>0&&(a[u]=y),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(g=>g.presence_ref),d=c.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...d)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var To;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(To||(To={}));var xo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(xo||(xo={}));var pt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(pt||(pt={}));class pi{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=Ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new pn(this,ze.join,this.params,this.timeout),this.rejoinTimer=new Tl(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ne.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ze.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Ds(this),this.broadcastEndpointURL=Al(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(pt.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(pt.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){e==null||e(pt.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,g=(h=d==null?void 0:d.length)!==null&&h!==void 0?h:0,y=[];for(let w=0;w<g;w++){const x=d[w],{filter:{event:O,schema:R,table:j,filter:A}}=x,B=c&&c[w];if(B&&B.event===O&&B.schema===R&&B.table===j&&B.filter===A)y.push(Object.assign(Object.assign({},x),{id:B.id}));else{this.unsubscribe(),e==null||e(pt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(pt.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(pt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(pt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ne.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ze.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new pn(this,ze.leave,{},e);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new pn(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=ze;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let d=this._onMessage(o,s,r);if(s&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var y,w,x;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(w=g.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(g=>g.callback(d,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var y,w,x,O,R,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const A=g.id,B=(y=g.filter)===null||y===void 0?void 0:y.event;return A&&((w=s.ids)===null||w===void 0?void 0:w.includes(A))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((x=s.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const A=(R=(O=g==null?void 0:g.filter)===null||O===void 0?void 0:O.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return A==="*"||A===((j=s==null?void 0:s.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof d=="object"&&"ids"in d){const y=d.data,{schema:w,table:x,commit_timestamp:O,type:R,errors:j}=y;d=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:O,eventType:R,new:{},old:{},errors:j}),this._getPayloadRecords(y))}g.callback(d,r)})}_isClosed(){return this.state===Ne.closed}_isJoined(){return this.state===Ne.joined}_isJoining(){return this.state===Ne.joining}_isLeaving(){return this.state===Ne.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&pi.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ze.close,{},e)}_onError(e){this._on(ze.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ne.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Eo(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Eo(e.columns,e.old_record)),s}}const pd=()=>{},gd=typeof WebSocket<"u",md=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _d{constructor(e,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=nd,this.params={},this.timeout=kl,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=pd,this.conn=null,this.sendBuffer=[],this.serializer=new ad,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>ps(()=>Promise.resolve().then(()=>_s),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Mn.websocket}`,this.httpEndpoint=Al(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Tl(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(gd){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new vd(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ps(()=>import("./browser-cde2ae26.js").then(e=>e.b),[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:id}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case us.connecting:return Vt.Connecting;case us.open:return Vt.Open;case us.closing:return Vt.Closing;default:return Vt.Closed}}isConnected(){return this.connectionState()===Vt.Open}channel(e,s={config:{}}){const r=new pi(`realtime:${e}`,s,this);return this.channels.push(r),r}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let r=null;try{r=JSON.parse(atob(s.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s}),n.joinedOnce&&n._isJoined()&&n._push(ze.access_token,{access_token:s})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(od,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ze.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([md],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class vd{constructor(e,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=us.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class gi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function _e(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class yd extends gi{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Fn extends gi{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var bd=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Pl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>ps(()=>Promise.resolve().then(()=>_s),void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},wd=()=>bd(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ps(()=>Promise.resolve().then(()=>_s),void 0)).Response:Response}),Bn=t=>{if(Array.isArray(t))return t.map(s=>Bn(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Bn(r)}),e};var Jt=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const gn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Sd=(t,e,s)=>Jt(void 0,void 0,void 0,function*(){const r=yield wd();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{e(new yd(gn(n),t.status||500))}).catch(n=>{e(new Fn(gn(n),n))}):e(new Fn(gn(t),t))}),Ed=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function tr(t,e,s,r,n,i){return Jt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,Ed(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Sd(l,a,r))})})}function Ar(t,e,s,r){return Jt(this,void 0,void 0,function*(){return tr(t,"GET",e,s,r)})}function Pt(t,e,s,r,n){return Jt(this,void 0,void 0,function*(){return tr(t,"POST",e,r,n,s)})}function kd(t,e,s,r,n){return Jt(this,void 0,void 0,function*(){return tr(t,"PUT",e,r,n,s)})}function Td(t,e,s,r){return Jt(this,void 0,void 0,function*(){return tr(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Cl(t,e,s,r,n){return Jt(this,void 0,void 0,function*(){return tr(t,"DELETE",e,r,n,s)})}var Oe=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const xd={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ao={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ad{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=Pl(n)}uploadOrUpdate(e,s,r,n){return Oe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ao),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),d=yield h.json();return h.ok?{data:{path:u,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(i){if(_e(i))return{data:null,error:i};throw i}})}upload(e,s,r){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return Oe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:Ao.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),d=yield h.json();return h.ok?{data:{path:i,fullPath:d.Key},error:null}:{data:null,error:d}}catch(l){if(_e(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return Oe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield Pt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new gi("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}update(e,s,r){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return Oe(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}copy(e,s,r){return Oe(this,void 0,void 0,function*(){try{return{data:{path:(yield Pt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return Oe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield Pt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return Oe(this,void 0,void 0,function*(){try{const n=yield Pt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}download(e,s){return Oe(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Ar(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(_e(a))return{data:null,error:a};throw a}})}info(e){return Oe(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield Ar(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Bn(r),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}exists(e){return Oe(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Td(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(_e(r)&&r instanceof Fn){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield Cl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}list(e,s,r){return Oe(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},xd),s),{prefix:e||""});return{data:yield Pt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Pd="2.7.1",Cd={"X-Client-Info":`storage-js/${Pd}`};var Xt=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Od{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},Cd),s),this.fetch=Pl(r)}listBuckets(){return Xt(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(_e(e))return{data:null,error:e};throw e}})}getBucket(e){return Xt(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Xt(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return Xt(this,void 0,void 0,function*(){try{return{data:yield kd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Xt(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Xt(this,void 0,void 0,function*(){try{return{data:yield Cl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}}class Rd extends Od{constructor(e,s={},r){super(e,s,r)}from(e){return new Ad(this.url,this.headers,e,this.fetch)}}const $d="2.49.4";let Ts="";typeof Deno<"u"?Ts="deno":typeof document<"u"?Ts="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ts="react-native":Ts="node";const jd={"X-Client-Info":`supabase-js-${Ts}/${$d}`},Id={headers:jd},Ld={schema:"public"},Dd={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ud={};var Md=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Nd=t=>{let e;return t?e=t:typeof fetch>"u"?e=dl:e=fetch,(...s)=>e(...s)},Fd=()=>typeof Headers>"u"?pl:Headers,Bd=(t,e,s)=>{const r=Nd(s),n=Fd();return(i,o)=>Md(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Hd=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function qd(t){return t.replace(/\/$/,"")}function Vd(t,e){const{db:s,auth:r,realtime:n,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},u),i),accessToken:()=>Hd(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const Ol="2.69.1",ns=30*1e3,Hn=3,mn=Hn*ns,Kd="http://localhost:9999",Wd="supabase.auth.token",zd={"X-Client-Info":`gotrue-js/${Ol}`},qn="X-Supabase-Api-Version",Rl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Jd=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Gd=6e5;class mi extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function K(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Qd extends mi{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Yd(t){return K(t)&&t.name==="AuthApiError"}class $l extends mi{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Lt extends mi{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class St extends Lt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Xd(t){return K(t)&&t.name==="AuthSessionMissingError"}class _n extends Lt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cr extends Lt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ur extends Lt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zd(t){return K(t)&&t.name==="AuthImplicitGrantRedirectError"}class Po extends Lt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vn extends Lt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function vn(t){return K(t)&&t.name==="AuthRetryableFetchError"}class Co extends Lt{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Us extends Lt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Oo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ro=` 	
\r=`.split(""),ep=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ro.length;e+=1)t[Ro[e].charCodeAt(0)]=-2;for(let e=0;e<Oo.length;e+=1)t[Oo[e].charCodeAt(0)]=e;return t})();function jl(t,e,s){const r=ep[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function $o(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{rp(o,r,s)};for(let o=0;o<t.length;o+=1)jl(t.charCodeAt(o),n,i);return e.join("")}function tp(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function sp(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}tp(r,e)}}function rp(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function np(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)jl(t.charCodeAt(n),s,r);return new Uint8Array(e)}function ip(t){const e=[];return sp(t,s=>e.push(s)),new Uint8Array(e)}function op(t){return Math.round(Date.now()/1e3)+t}function ap(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const rt=()=>typeof window<"u"&&typeof document<"u",Ft={tested:!1,writable:!1},Ms=()=>{if(!rt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ft.tested)return Ft.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ft.tested=!0,Ft.writable=!0}catch{Ft.tested=!0,Ft.writable=!1}return Ft.writable};function lp(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const Il=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>ps(()=>Promise.resolve().then(()=>_s),void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},cp=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ll=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},hr=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},fr=async(t,e)=>{await t.removeItem(e)};class Gr{constructor(){this.promise=new Gr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Gr.promiseConstructor=Promise;function yn(t){const e=t.split(".");if(e.length!==3)throw new Us("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Jd.test(e[r]))throw new Us("JWT not in base64url format");return{header:JSON.parse($o(e[0])),payload:JSON.parse($o(e[1])),signature:np(e[2]),raw:{header:e[0],payload:e[1]}}}async function up(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function hp(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function fp(t){return("0"+t.toString(16)).substr(-2)}function dp(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,fp).join("")}async function pp(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function gp(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await pp(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zt(t,e,s=!1){const r=dp();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await Ll(t,`${e}-code-verifier`,n);const i=await gp(r);return[i,r===i?"plain":"s256"]}const mp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _p(t){const e=t.headers.get(qn);if(!e||!e.match(mp))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function vp(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function yp(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var bp=globalThis&&globalThis.__rest||function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const Ht=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),wp=[502,503,504];async function jo(t){var e;if(!cp(t))throw new Vn(Ht(t),0);if(wp.includes(t.status))throw new Vn(Ht(t),t.status);let s;try{s=await t.json()}catch(i){throw new $l(Ht(i),i)}let r;const n=_p(t);if(n&&n.getTime()>=Rl["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Co(Ht(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new St}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Co(Ht(s),t.status,s.weak_password.reasons);throw new Qd(Ht(s),t.status||500,r)}const Sp=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function W(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[qn]||(i[qn]=Rl["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Ep(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Ep(t,e,s,r,n,i){const o=Sp(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Vn(Ht(l),0)}if(a.ok||await jo(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await jo(l)}}function Et(t){var e;let s=null;Ap(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=op(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function Io(t){const e=Et(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ct(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function kp(t){return{data:t,error:null}}function Tp(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=bp(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function xp(t){return t}function Ap(t){return t.access_token&&t.refresh_token&&t.expires_in}var Pp=globalThis&&globalThis.__rest||function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class Cp{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=Il(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ct})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=Pp(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Tp,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(K(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ct})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:xp});if(c.error)throw c.error;const h=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=w}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(K(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await W(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ct})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Ct})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ct})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:s,error:r}=await W(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(K(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}}}const Op={getItem:t=>Ms()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Ms()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Ms()&&globalThis.localStorage.removeItem(t)}};function Lo(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Rp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const es={debug:!!(globalThis&&Ms()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Dl extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class $p extends Dl{}async function jp(t,e,s){es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),es.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){es.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{es.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw es.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new $p(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(es.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Rp();const Ip={url:Kd,storageKey:Wd,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zd,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Do(t,e,s){return await s()}class Gs{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gs.nextInstanceID,Gs.nextInstanceID+=1,this.instanceID>0&&rt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Ip),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Cp({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Il(n.fetch),this.lock=n.lock||Do,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:rt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=jp:this.lock=Do,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Ms()?this.storage=Op:(this.memoryStorage={},this.storage=Lo(this.memoryStorage)):(this.memoryStorage={},this.storage=Lo(this.memoryStorage)),rt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ol}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=lp(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),rt()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Zd(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return K(s)?{error:s}:{error:new $l("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:Et}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:h,options:d}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Zt(this.storage,this.storageKey)),i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:c,password:h,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:g,code_challenge_method:y},xform:Et})}else if("phone"in e){const{phone:c,password:h,options:d}=e;i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},channel:(n=d==null?void 0:d.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Et})}else throw new cr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Io})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Io})}else throw new cr("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new _n}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await hr(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Et});if(await fr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new _n}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(K(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Et}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new _n}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Zt(this.storage,this.storageKey));const{error:h}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new cr("You must provide either an email or phone number.")}catch(a){if(K(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Et});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Zt(this.storage,this.storageKey)),await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:kp})}catch(i){if(K(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new St;const{error:n}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(K(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await W(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await W(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new cr("You must provide either an email or phone number and a type")}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await hr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<mn:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ct}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new St}:await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Ct})})}catch(s){if(K(s))return Xd(s)&&(await this._removeSession(),await fr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new St;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Zt(this.storage,this.storageKey));const{data:u,error:c}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ct});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new St;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=yn(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(K(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new St;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!rt())throw new ur("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ur(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Po("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ur("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Po("No code detected.");const{data:R,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new ur("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let d=c+h;l&&(d=parseInt(l));const g=d-c;g*1e3<=ns&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const y=d-h;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,d,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,d,c);const{data:w,error:x}=await this._getUser(i);if(x)throw x;const O={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:e.type},error:null}}catch(r){if(K(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await hr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Yd(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await fr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=ap(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Zt(this.storage,this.storageKey,!0));try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(K(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:d}=i;if(d)throw d;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return rt()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(K(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(K(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await hp(async n=>(n>0&&await up(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Et})),(n,i)=>{const o=200*Math.pow(2,n);return i&&vn(i)&&Date.now()+o-r<ns})}catch(r){if(this._debug(s,"error",r),K(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),rt()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await hr(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<mn;if(this._debug(s,`session has${n?"":" not"} expired with margin of ${mn}s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),vn(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new St;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Gr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new St;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),K(i)){const o={session:null,error:i};return vn(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ll(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await fr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&rt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ns);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/ns);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${ns}ms, refresh threshold is ${Hn} ticks`),n<=Hn&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Dl)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Zt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await W(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(K(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await W(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(K(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(K(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(K(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=yn(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Gd>Date.now()))return r;const{data:n,error:i}=await W(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new Us("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),r=n.keys.find(o=>o.kid===e),!r)throw new Us("No matching signing key found in JWKS");return r}async getClaims(e,s={keys:[]}){try{let r=e;if(!r){const{data:g,error:y}=await this.getSession();if(y||!g.session)return{data:null,error:y};r=g.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=yn(r);if(vp(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:n,signature:o},error:null}}const u=yp(n.alg),c=await this.fetchJwk(n.kid,s),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,ip(`${a}.${l}`)))throw new Us("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}}Gs.nextInstanceID=0;const Lp=Gs;class Dp extends Lp{constructor(e){super(e)}}var Up=globalThis&&globalThis.__awaiter||function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Mp{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=qd(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Ld,realtime:Ud,auth:Object.assign(Object.assign({},Dd),{storageKey:l}),global:Id},c=Vd(r??{},u);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Bd(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new sd(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new Rf(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Rd(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Up(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Dp({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new _d(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Np=(t,e,s)=>new Mp(t,e,s),Fp="https://fmmujrgphpqrbgnengpq.supabase.co",Bp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZtbXVqcmdwaHBxcmJnbmVuZ3BxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDYzMTQ5OTMsImV4cCI6MjA2MTg5MDk5M30.WxZNmNdaZCBtlq-dlP4e7rlu3zgi0_idp1NgU0nIiCM",Hp={getItem:t=>{const e=document.cookie.split(";");for(let s=0;s<e.length;s++){const r=e[s].trim();if(r.startsWith(t+"="))return r.substring(t.length+1)}return null},setItem:(t,e)=>(document.cookie=`${t}=${e}; path=/; max-age=${60*60*24*7}; SameSite=Lax`,!0),removeItem:t=>(document.cookie=`${t}=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT`,!0)},qp=Np(Fp,Bp,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storageKey:"supabase_auth_token",storage:Hp,flowType:"pkce",cookieOptions:{name:"supabase_auth_token",lifetime:60*60*24*7,domain:window.location.hostname,path:"/",sameSite:"lax"}}}),Vp=()=>qp,_t=Qs(null),dr=Qs(!0);Qs(null);let xe=null,hs=[];const _i=typeof chrome<"u"&&chrome.runtime&&chrome.runtime.id,Kp=async()=>{dr.value=!0;try{if(_i)chrome.runtime.sendMessage({action:"check-auth"},t=>{t&&t.authenticated&&t.user?(console.log("Initial session found in extension:",t.user.email),_t.value=t.user,xe=t.user,localStorage.setItem("isAuthenticated","true"),hs.forEach(e=>e(xe))):(console.log("No initial session found in extension"),_t.value=null,xe=null,localStorage.removeItem("isAuthenticated")),dr.value=!1});else{const e=await(await fetch("http://localhost:3000/auth/user",{credentials:"include"})).json();e.user?(console.log("Initial session found:",e.user.email),_t.value=e.user,xe=e.user,localStorage.setItem("isAuthenticated","true"),hs.forEach(s=>s(xe))):(console.log("No initial session found"),_t.value=null,xe=null,localStorage.removeItem("isAuthenticated")),dr.value=!1}}catch(t){console.error("Error initializing auth:",t),dr.value=!1}setInterval(async()=>{await vi()},5*60*1e3)};Kp();const vi=async()=>{try{if(_i)return new Promise((t,e)=>{chrome.runtime.sendMessage({action:"check-auth"},s=>{if(chrome.runtime.lastError){console.error("Error checking auth state:",chrome.runtime.lastError),t(null);return}s&&s.authenticated&&s.user?(console.log("User found in extension:",s.user.email),_t.value=s.user,xe=s.user,localStorage.setItem("isAuthenticated","true"),hs.forEach(r=>r(xe)),t(xe)):(console.log("No user found in extension"),_t.value=null,xe=null,localStorage.removeItem("isAuthenticated"),hs.forEach(r=>r(null)),t(null))})});{const e=await(await fetch("http://localhost:3000/auth/user",{method:"GET",credentials:"include"})).json();return e.user?(console.log("User found on server:",e.user.email),_t.value=e.user,xe=e.user,localStorage.setItem("isAuthenticated","true")):(console.log("No user found"),_t.value=null,xe=null,localStorage.removeItem("isAuthenticated")),hs.forEach(s=>s(xe)),xe}}catch(t){return console.error("Error refreshing user:",t),null}},Wp=async()=>{try{return localStorage.removeItem("isAuthenticated"),_i&&chrome.storage.local.remove(["isAuthenticated"]),await fetch("http://localhost:3000/auth/logout",{method:"POST",credentials:"include"}),_t.value=null,xe=null,hs.forEach(t=>t(null)),!0}catch(t){return console.error("Error during logout:",t),!1}};const zp={name:"Auth",components:{Logo:fl},data(){return{isLogin:!0,loading:!1,errorMsg:"",successMsg:"",showVerificationDialog:!1,verificationSuccess:!1,verificationError:!1,user:null,form:{name:"",email:"",password:"",confirmPassword:""}}},computed:{passwordsMismatch(){return this.form.password!==this.form.confirmPassword&&this.form.confirmPassword.length>0}},mounted(){new URLSearchParams(window.location.search).get("error")==="verification_failed"&&(this.verificationError=!0,history.replaceState({},document.title,window.location.pathname)),this.checkAuthState()},methods:{async checkAuthState(){try{if(localStorage.getItem("isAuthenticated")==="true"){const s=await(await fetch("http://localhost:3000/auth/user",{method:"GET",credentials:"include"})).json();s.user?(this.user={id:s.user.id,email:s.user.email,name:s.user.name||""},this.$router.push("/dashboard")):localStorage.removeItem("isAuthenticated")}}catch(t){console.error("Error checking auth state:",t),localStorage.removeItem("isAuthenticated")}},async handleSubmit(){this.loading=!0,this.errorMsg="";try{if(this.isLogin)await this.handleLogin();else{if(this.form.password!==this.form.confirmPassword)throw new Error("Passwords do not match. Please try again.");await this.handleSignup()}}catch(t){this.errorMsg=t.message||"An error occurred during authentication"}finally{this.loading=!1}},async handleLogin(){try{typeof chrome<"u"&&chrome.runtime&&chrome.runtime.sendMessage({action:"login",data:{email:this.form.email,password:this.form.password}});const t=await fetch("http://localhost:3000/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:this.form.email,password:this.form.password})}),e=await t.json();if(!t.ok)throw new Error(e.error||"Failed to log in");console.log("Login successful, redirecting to dashboard"),localStorage.setItem("isAuthenticated","true"),this.user={id:e.user.id,email:e.user.email,name:e.user.name||""},typeof chrome<"u"&&chrome.runtime&&chrome.storage&&chrome.storage.local.set({isAuthenticated:!0},function(){console.log("Authentication state saved in chrome.storage")}),setTimeout(()=>{this.$router.push("/dashboard")},100)}catch(t){throw console.error("Login error:",t),t}},async handleSignup(){try{typeof chrome<"u"&&chrome.runtime&&chrome.runtime.sendMessage({action:"signup",data:{email:this.form.email,password:this.form.password,name:this.form.name}});const t=await fetch("http://localhost:3000/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:this.form.email,password:this.form.password,name:this.form.name})}),e=await t.json();if(!t.ok)throw new Error(e.error||"Failed to sign up");e.user?(console.log("Signup successful, redirecting to dashboard"),localStorage.setItem("isAuthenticated","true"),this.user={id:e.user.id,email:e.user.email,name:e.user.name||""},typeof chrome<"u"&&chrome.runtime&&chrome.storage&&chrome.storage.local.set({isAuthenticated:!0},function(){console.log("Authentication state saved in chrome.storage")}),setTimeout(()=>{this.$router.push("/dashboard")},100)):e.requiresEmailConfirmation?(this.showVerificationDialog=!0,this.form={name:"",email:this.form.email,password:"",confirmPassword:""}):(this.successMsg="Account created successfully",this.form={name:"",email:"",password:"",confirmPassword:""})}catch(t){throw console.error("Signup error:",t),t}}}},Jp={class:"auth-bg"},Gp={class:"auth-card"},Qp={class:"auth-header"},Yp={class:"auth-tabs"},Xp={key:0,class:"message-box success"},Zp={key:1,class:"message-box error"},eg={key:2,class:"message-box error"},tg={class:"message-content"},sg={key:3,class:"verification-dialog"},rg={class:"verification-content"},ng={key:0,class:"form-group"},ig={class:"form-group"},og={class:"form-group"},ag={key:1,class:"form-group"},lg={key:0,class:"password-mismatch"},cg=["disabled"];function ug(t,e,s,r,n,i){const o=Ur("Logo");return ge(),ye("div",Jp,[M("div",Gp,[M("div",Qp,[ve(o)]),M("div",Yp,[M("button",{class:Ns(["tab-btn",{active:n.isLogin}]),onClick:e[0]||(e[0]=a=>n.isLogin=!0)},"Log in",2),M("button",{class:Ns(["tab-btn",{active:!n.isLogin}]),onClick:e[1]||(e[1]=a=>n.isLogin=!1)},"Sign up",2)]),n.verificationSuccess?(ge(),ye("div",Xp,[e[10]||(e[10]=M("div",{class:"message-icon"},"✓",-1)),e[11]||(e[11]=M("div",{class:"message-content"},[M("h3",null,"Email Verified!"),M("p",null,"Your email has been successfully verified. You can now log in.")],-1)),M("button",{class:"close-btn",onClick:e[2]||(e[2]=a=>n.verificationSuccess=!1)},"×")])):ft("",!0),n.verificationError?(ge(),ye("div",Zp,[e[12]||(e[12]=M("div",{class:"message-icon"},"!",-1)),e[13]||(e[13]=M("div",{class:"message-content"},[M("h3",null,"Verification Failed"),M("p",null,"There was a problem verifying your email. Please try again.")],-1)),M("button",{class:"close-btn",onClick:e[3]||(e[3]=a=>n.verificationError=!1)},"×")])):ft("",!0),n.errorMsg?(ge(),ye("div",eg,[e[15]||(e[15]=M("div",{class:"message-icon"},"!",-1)),M("div",tg,[e[14]||(e[14]=M("h3",null,"Error",-1)),M("p",null,As(n.errorMsg),1)]),M("button",{class:"close-btn",onClick:e[4]||(e[4]=a=>n.errorMsg="")},"×")])):ft("",!0),n.showVerificationDialog?(ge(),ye("div",sg,[M("div",rg,[e[18]||(e[18]=M("div",{class:"verification-icon"},"✉️",-1)),e[19]||(e[19]=M("h2",null,"Verify Your Email",-1)),M("p",null,[e[16]||(e[16]=Rn("We've sent a verification email to ")),M("strong",null,As(n.form.email),1),e[17]||(e[17]=Rn("."))]),e[20]||(e[20]=M("p",null,"Please check your inbox and click the verification link to complete your registration.",-1)),e[21]||(e[21]=M("p",{class:"verification-note"},"If you don't see the email, check your spam folder.",-1))])])):ft("",!0),n.showVerificationDialog?ft("",!0):(ge(),ye("form",{key:4,onSubmit:e[9]||(e[9]=ih((...a)=>i.handleSubmit&&i.handleSubmit(...a),["prevent"])),class:"auth-form"},[n.isLogin?ft("",!0):(ge(),ye("div",ng,[e[22]||(e[22]=M("label",null,"Full Name",-1)),or(M("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=a=>n.form.name=a),class:"input",placeholder:"John Doe",required:""},null,512),[[lr,n.form.name]])])),M("div",ig,[e[23]||(e[23]=M("label",null,"Email",-1)),or(M("input",{type:"email","onUpdate:modelValue":e[6]||(e[6]=a=>n.form.email=a),class:"input",placeholder:"your@email.com",required:""},null,512),[[lr,n.form.email]])]),M("div",og,[e[24]||(e[24]=M("label",null,"Password",-1)),or(M("input",{type:"password","onUpdate:modelValue":e[7]||(e[7]=a=>n.form.password=a),class:"input",placeholder:"••••••••",required:"",minlength:"6"},null,512),[[lr,n.form.password]])]),n.isLogin?ft("",!0):(ge(),ye("div",ag,[e[25]||(e[25]=M("label",null,"Confirm Password",-1)),or(M("input",{type:"password","onUpdate:modelValue":e[8]||(e[8]=a=>n.form.confirmPassword=a),class:"input",placeholder:"••••••••",required:"",minlength:"6"},null,512),[[lr,n.form.confirmPassword]]),i.passwordsMismatch?(ge(),ye("div",lg,"Passwords do not match")):ft("",!0)])),M("button",{type:"submit",class:"btn primary-btn",disabled:n.loading||!n.isLogin&&i.passwordsMismatch},As(n.loading?"Processing...":n.isLogin?"Log in":"Sign up"),9,cg)],32))])])}const Uo=ms(zp,[["render",ug],["__scopeId","data-v-1cf7ee24"]]);const hg={name:"Callback",setup(){const t=hi();return Xs(()=>{t.push("/auth")}),{}}},fg={class:"callback-page"};function dg(t,e,s,r,n,i){return ge(),ye("div",fg,e[0]||(e[0]=[M("div",{class:"loading-container"},[M("div",{class:"loading-spinner"}),M("p",null,"Redirecting to login...")],-1)]))}const pg=ms(hg,[["render",dg],["__scopeId","data-v-51e50e9b"]]);const gg={name:"Dashboard",components:{Logo:fl},setup(){const t=Qs(null),e=hi();return Xs(async()=>{try{const r=await vi();t.value=r,r||e.push("/")}catch(r){console.error("Error fetching user data:",r),e.push("/")}}),{user:t,handleLogout:async()=>{try{await Wp(),localStorage.removeItem("isAuthenticated"),typeof chrome<"u"&&chrome.runtime&&chrome.storage&&chrome.storage.local.remove(["isAuthenticated"],function(){console.log("Authentication state cleared from chrome.storage")}),e.push("/")}catch(r){console.error("Error during logout:",r),localStorage.removeItem("isAuthenticated"),typeof chrome<"u"&&chrome.runtime&&chrome.storage&&chrome.storage.local.remove(["isAuthenticated"]),e.push("/")}}}}},mg={class:"dashboard"},_g={class:"dashboard-header"},vg={class:"brand"},yg={class:"dashboard-content"},bg={class:"welcome-card card"},wg={key:0},Sg={key:1};function Eg(t,e,s,r,n,i){const o=Ur("Logo");return ge(),ye("div",mg,[M("div",_g,[M("div",vg,[ve(o)]),M("button",{class:"btn btn-secondary logout-btn",onClick:e[0]||(e[0]=(...a)=>r.handleLogout&&r.handleLogout(...a))}," Logout ")]),M("div",yg,[M("div",bg,[e[1]||(e[1]=M("h1",null,"Welcome to your Dashboard",-1)),r.user?(ge(),ye("p",wg,"You are logged in as "+As(r.user.email),1)):(ge(),ye("p",Sg,"Loading user information..."))])])])}const kg=ms(gg,[["render",Eg],["__scopeId","data-v-db2bdf23"]]);const Tg={name:"VerifyEmail",setup(){const t=hi();return Xs(async()=>{try{const e=Vp(),s=new URLSearchParams(window.location.search),r=s.get("token"),n=s.get("type");if(!r||n!=="email_confirmation"&&n!=="signup"&&n!=="recovery"){console.error("Invalid verification parameters",{token:r,type:n}),t.push("/auth");return}console.log("Verifying email with token and type:",{token:r,type:n});const{data:i,error:o}=await e.auth.verifyOtp({token_hash:r,type:"email"});if(o){console.error("Error verifying email:",o),t.push("/auth?error=verification_failed");return}if(console.log("Email verified successfully, session:",i==null?void 0:i.session),i!=null&&i.session){console.log("Got session from verification, creating server session");try{if(!(await fetch("http://localhost:3000/auth/oauth-callback",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({access_token:i.session.access_token,refresh_token:i.session.refresh_token,user:i.user})})).ok)throw new Error("Failed to create server session");console.log("Server session created successfully")}catch(a){console.error("Error creating server session:",a)}}await vi(),t.push("/dashboard")}catch(e){console.error("Error in email verification:",e),t.push("/auth?error=verification_failed")}}),{}}},xg={class:"verify-email-page"};function Ag(t,e,s,r,n,i){return ge(),ye("div",xg,e[0]||(e[0]=[M("div",{class:"loading-container"},[M("div",{class:"loading-spinner"}),M("p",null,"Verifying your email, please wait...")],-1)]))}const Pg=ms(Tg,[["render",Ag],["__scopeId","data-v-3532fe94"]]);const Cg=[{path:"/",name:"Auth",component:Uo},{path:"/auth",name:"AuthRedirect",component:Uo},{path:"/callback",name:"Callback",component:pg},{path:"/verify-email",name:"VerifyEmail",component:Pg},{path:"/dashboard",name:"Dashboard",component:kg}],Og=pf({history:Hh(),routes:Cg}),Ul=lh(yf);Ul.use(Og);Ul.mount("#app");export{Rg as g};
